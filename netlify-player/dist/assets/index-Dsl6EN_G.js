var qb=Object.defineProperty;var $p=t=>{throw TypeError(t)};var Vb=(t,e,r)=>e in t?qb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Le=(t,e,r)=>Vb(t,typeof e!="symbol"?e+"":e,r),Su=(t,e,r)=>e.has(t)||$p("Cannot "+r);var z=(t,e,r)=>(Su(t,e,"read from private field"),r?r.call(t):e.get(t)),_e=(t,e,r)=>e.has(t)?$p("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ce=(t,e,r,n)=>(Su(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ft=(t,e,r)=>(Su(t,e,"access private method"),r);var Ha=(t,e,r,n)=>({set _(s){ce(t,e,s,r)},get _(){return z(t,e,n)}});function Hb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var vv={exports:{}},kc={},yv={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=Symbol.for("react.element"),Qb=Symbol.for("react.portal"),Kb=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),Yb=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Jb=Symbol.for("react.context"),Zb=Symbol.for("react.forward_ref"),e1=Symbol.for("react.suspense"),t1=Symbol.for("react.memo"),r1=Symbol.for("react.lazy"),Ip=Symbol.iterator;function n1(t){return t===null||typeof t!="object"?null:(t=Ip&&t[Ip]||t["@@iterator"],typeof t=="function"?t:null)}var wv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xv=Object.assign,bv={};function Yo(t,e,r){this.props=t,this.context=e,this.refs=bv,this.updater=r||wv}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _v(){}_v.prototype=Yo.prototype;function Wf(t,e,r){this.props=t,this.context=e,this.refs=bv,this.updater=r||wv}var Ff=Wf.prototype=new _v;Ff.constructor=Wf;xv(Ff,Yo.prototype);Ff.isPureReactComponent=!0;var Dp=Array.isArray,Sv=Object.prototype.hasOwnProperty,zf={current:null},Ev={key:!0,ref:!0,__self:!0,__source:!0};function kv(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Sv.call(e,n)&&!Ev.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ya,type:t,key:o,ref:i,props:s,_owner:zf.current}}function s1(t,e){return{$$typeof:ya,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ya}function o1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Wp=/\/+/g;function Eu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?o1(""+t.key):e.toString(36)}function _l(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ya:case Qb:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+Eu(i,0):n,Dp(s)?(r="",t!=null&&(r=t.replace(Wp,"$&/")+"/"),_l(s,e,r,"",function(c){return c})):s!=null&&(Uf(s)&&(s=s1(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Wp,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",Dp(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+Eu(o,a);i+=_l(o,e,r,l,s)}else if(l=n1(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+Eu(o,a++),i+=_l(o,e,r,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Qa(t,e,r){if(t==null)return t;var n=[],s=0;return _l(t,n,"","",function(o){return e.call(r,o,s++)}),n}function i1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},Sl={transition:null},a1={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Sl,ReactCurrentOwner:zf};function Cv(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Qa,forEach:function(t,e,r){Qa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Qa(t,function(){e++}),e},toArray:function(t){return Qa(t,function(e){return e})||[]},only:function(t){if(!Uf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Yo;ve.Fragment=Kb;ve.Profiler=Yb;ve.PureComponent=Wf;ve.StrictMode=Gb;ve.Suspense=e1;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a1;ve.act=Cv;ve.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=xv({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=zf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Sv.call(e,l)&&!Ev.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ya,type:t.type,key:s,ref:o,props:n,_owner:i}};ve.createContext=function(t){return t={$$typeof:Jb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xb,_context:t},t.Consumer=t};ve.createElement=kv;ve.createFactory=function(t){var e=kv.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:Zb,render:t}};ve.isValidElement=Uf;ve.lazy=function(t){return{$$typeof:r1,_payload:{_status:-1,_result:t},_init:i1}};ve.memo=function(t,e){return{$$typeof:t1,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Sl.transition;Sl.transition={};try{t()}finally{Sl.transition=e}};ve.unstable_act=Cv;ve.useCallback=function(t,e){return Pt.current.useCallback(t,e)};ve.useContext=function(t){return Pt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Pt.current.useEffect(t,e)};ve.useId=function(){return Pt.current.useId()};ve.useImperativeHandle=function(t,e,r){return Pt.current.useImperativeHandle(t,e,r)};ve.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Pt.current.useMemo(t,e)};ve.useReducer=function(t,e,r){return Pt.current.useReducer(t,e,r)};ve.useRef=function(t){return Pt.current.useRef(t)};ve.useState=function(t){return Pt.current.useState(t)};ve.useSyncExternalStore=function(t,e,r){return Pt.current.useSyncExternalStore(t,e,r)};ve.useTransition=function(){return Pt.current.useTransition()};ve.version="18.3.1";yv.exports=ve;var E=yv.exports;const H=Df(E),Pv=Hb({__proto__:null,default:H},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=E,c1=Symbol.for("react.element"),u1=Symbol.for("react.fragment"),d1=Object.prototype.hasOwnProperty,f1=l1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h1={key:!0,ref:!0,__self:!0,__source:!0};function Tv(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)d1.call(e,n)&&!h1.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:c1,type:t,key:o,ref:i,props:s,_owner:f1.current}}kc.Fragment=u1;kc.jsx=Tv;kc.jsxs=Tv;vv.exports=kc;var g=vv.exports,jv={exports:{}},Qt={},Av={exports:{}},Rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,B){var Y=W.length;W.push(B);e:for(;0<Y;){var se=Y-1>>>1,J=W[se];if(0<s(J,B))W[se]=B,W[Y]=J,Y=se;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var B=W[0],Y=W.pop();if(Y!==B){W[0]=Y;e:for(var se=0,J=W.length,ie=J>>>1;se<ie;){var he=2*(se+1)-1,Fe=W[he],Ze=he+1,ye=W[Ze];if(0>s(Fe,Y))Ze<J&&0>s(ye,Fe)?(W[se]=ye,W[Ze]=Y,se=Ze):(W[se]=Fe,W[he]=Y,se=he);else if(Ze<J&&0>s(ye,Y))W[se]=ye,W[Ze]=Y,se=Ze;else break e}}return B}function s(W,B){var Y=W.sortIndex-B.sortIndex;return Y!==0?Y:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,m=3,p=!1,w=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=W)n(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(c)}}function k(W){if(v=!1,_(W),!w)if(r(l)!==null)w=!0,Q(P);else{var B=r(c);B!==null&&X(k,B.startTime-W)}}function P(W,B){w=!1,v&&(v=!1,x(N),N=-1),p=!0;var Y=m;try{for(_(B),f=r(l);f!==null&&(!(f.expirationTime>B)||W&&!$());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var J=se(f.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?f.callback=J:f===r(l)&&n(l),_(B)}else n(l);f=r(l)}if(f!==null)var ie=!0;else{var he=r(c);he!==null&&X(k,he.startTime-B),ie=!1}return ie}finally{f=null,m=Y,p=!1}}var j=!1,T=null,N=-1,R=5,O=-1;function $(){return!(t.unstable_now()-O<R)}function I(){if(T!==null){var W=t.unstable_now();O=W;var B=!0;try{B=T(!0,W)}finally{B?U():(j=!1,T=null)}}else j=!1}var U;if(typeof y=="function")U=function(){y(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,K=D.port2;D.port1.onmessage=I,U=function(){K.postMessage(null)}}else U=function(){S(I,0)};function Q(W){T=W,j||(j=!0,U())}function X(W,B){N=S(function(){W(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,Q(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Y=m;m=B;try{return W()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=m;m=W;try{return B()}finally{m=Y}},t.unstable_scheduleCallback=function(W,B,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,W={id:d++,callback:B,priorityLevel:W,startTime:Y,expirationTime:J,sortIndex:-1},Y>se?(W.sortIndex=Y,e(c,W),r(l)===null&&W===r(c)&&(v?(x(N),N=-1):v=!0,X(k,Y-se))):(W.sortIndex=J,e(l,W),w||p||(w=!0,Q(P))),W},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(W){var B=m;return function(){var Y=m;m=B;try{return W.apply(this,arguments)}finally{m=Y}}}})(Rv);Av.exports=Rv;var p1=Av.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1=E,Vt=p1;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nv=new Set,Qi={};function zs(t,e){Do(t,e),Do(t+"Capture",e)}function Do(t,e){for(Qi[t]=e,t=0;t<e.length;t++)Nv.add(e[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pd=Object.prototype.hasOwnProperty,g1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},zp={};function v1(t){return pd.call(zp,t)?!0:pd.call(Fp,t)?!1:g1.test(t)?zp[t]=!0:(Fp[t]=!0,!1)}function y1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w1(t,e,r,n){if(e===null||typeof e>"u"||y1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bf=/[\-:]([a-z])/g;function qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bf,qf);lt[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bf,qf);lt[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bf,qf);lt[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vf(t,e,r,n){var s=lt.hasOwnProperty(e)?lt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w1(e,r,s,n)&&(r=null),n||s===null?v1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xn=m1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ka=Symbol.for("react.element"),no=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),Ov=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),gd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Mv=Symbol.for("react.offscreen"),Up=Symbol.iterator;function pi(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,ku;function Pi(t){if(ku===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ku=e&&e[1]||""}return`
`+ku+t}var Cu=!1;function Pu(t,e){if(!t||Cu)return"";Cu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Cu=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Pi(t):""}function x1(t){switch(t.tag){case 5:return Pi(t.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return t=Pu(t.type,!1),t;case 11:return t=Pu(t.type.render,!1),t;case 1:return t=Pu(t.type,!0),t;default:return""}}function yd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case no:return"Portal";case md:return"Profiler";case Hf:return"StrictMode";case gd:return"Suspense";case vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lv:return(t.displayName||"Context")+".Consumer";case Ov:return(t._context.displayName||"Context")+".Provider";case Qf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kf:return e=t.displayName||null,e!==null?e:yd(t.type)||"Memo";case Ln:e=t._payload,t=t._init;try{return yd(t(e))}catch{}}return null}function b1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yd(e);case 8:return e===Hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $v(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _1(t){var e=$v(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ga(t){t._valueTracker||(t._valueTracker=_1(t))}function Iv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=$v(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wd(t,e){var r=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Bp(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=rs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dv(t,e){e=e.checked,e!=null&&Vf(t,"checked",e,!1)}function xd(t,e){Dv(t,e);var r=rs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bd(t,e.type,r):e.hasOwnProperty("defaultValue")&&bd(t,e.type,rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qp(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function bd(t,e,r){(e!=="number"||Fl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ti=Array.isArray;function wo(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+rs(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _d(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vp(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(V(92));if(Ti(r)){if(1<r.length)throw Error(V(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:rs(r)}}function Wv(t,e){var r=rs(e.value),n=rs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Hp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ya,zv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ya=Ya||document.createElement("div"),Ya.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ya.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ki(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(t){S1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oi[e]=Oi[t]})});function Uv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Oi.hasOwnProperty(t)&&Oi[t]?(""+e).trim():e+"px"}function Bv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Uv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var E1=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ed(t,e){if(e){if(E1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function kd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=null;function Gf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pd=null,xo=null,bo=null;function Qp(t){if(t=ba(t)){if(typeof Pd!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Ac(e),Pd(t.stateNode,t.type,e))}}function qv(t){xo?bo?bo.push(t):bo=[t]:xo=t}function Vv(){if(xo){var t=xo,e=bo;if(bo=xo=null,Qp(t),e)for(t=0;t<e.length;t++)Qp(e[t])}}function Hv(t,e){return t(e)}function Qv(){}var Tu=!1;function Kv(t,e,r){if(Tu)return t(e,r);Tu=!0;try{return Hv(t,e,r)}finally{Tu=!1,(xo!==null||bo!==null)&&(Qv(),Vv())}}function Gi(t,e){var r=t.stateNode;if(r===null)return null;var n=Ac(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(V(231,e,typeof r));return r}var Td=!1;if(hn)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){Td=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{Td=!1}function k1(t,e,r,n,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Li=!1,zl=null,Ul=!1,jd=null,C1={onError:function(t){Li=!0,zl=t}};function P1(t,e,r,n,s,o,i,a,l){Li=!1,zl=null,k1.apply(C1,arguments)}function T1(t,e,r,n,s,o,i,a,l){if(P1.apply(this,arguments),Li){if(Li){var c=zl;Li=!1,zl=null}else throw Error(V(198));Ul||(Ul=!0,jd=c)}}function Us(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Gv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kp(t){if(Us(t)!==t)throw Error(V(188))}function j1(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(V(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Kp(s),t;if(o===n)return Kp(s),e;o=o.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?t:e}function Yv(t){return t=j1(t),t!==null?Xv(t):null}function Xv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xv(t);if(e!==null)return e;t=t.sibling}return null}var Jv=Vt.unstable_scheduleCallback,Gp=Vt.unstable_cancelCallback,A1=Vt.unstable_shouldYield,R1=Vt.unstable_requestPaint,Ve=Vt.unstable_now,N1=Vt.unstable_getCurrentPriorityLevel,Yf=Vt.unstable_ImmediatePriority,Zv=Vt.unstable_UserBlockingPriority,Bl=Vt.unstable_NormalPriority,O1=Vt.unstable_LowPriority,ey=Vt.unstable_IdlePriority,Cc=null,Qr=null;function L1(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Cc,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:I1,M1=Math.log,$1=Math.LN2;function I1(t){return t>>>=0,t===0?32:31-(M1(t)/$1|0)|0}var Xa=64,Ja=4194304;function ji(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ql(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=ji(a):(o&=i,o!==0&&(n=ji(o)))}else i=r&~s,i!==0?n=ji(i):o!==0&&(n=ji(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_r(e),s=1<<r,n|=t[r],e&=~s;return n}function D1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-_r(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=D1(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ty(){var t=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),t}function ju(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wa(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=r}function F1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-_r(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function Xf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-_r(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ke=0;function ry(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ny,Jf,sy,oy,iy,Rd=!1,Za=[],Qn=null,Kn=null,Gn=null,Yi=new Map,Xi=new Map,$n=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(t,e){switch(t){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Yi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(e.pointerId)}}function gi(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=ba(e),e!==null&&Jf(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function U1(t,e,r,n,s){switch(e){case"focusin":return Qn=gi(Qn,t,e,r,n,s),!0;case"dragenter":return Kn=gi(Kn,t,e,r,n,s),!0;case"mouseover":return Gn=gi(Gn,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Yi.set(o,gi(Yi.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Xi.set(o,gi(Xi.get(o)||null,t,e,r,n,s)),!0}return!1}function ay(t){var e=Es(t.target);if(e!==null){var r=Us(e);if(r!==null){if(e=r.tag,e===13){if(e=Gv(r),e!==null){t.blockedOn=e,iy(t.priority,function(){sy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function El(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Nd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Cd=n,r.target.dispatchEvent(n),Cd=null}else return e=ba(r),e!==null&&Jf(e),t.blockedOn=r,!1;e.shift()}return!0}function Xp(t,e,r){El(t)&&r.delete(e)}function B1(){Rd=!1,Qn!==null&&El(Qn)&&(Qn=null),Kn!==null&&El(Kn)&&(Kn=null),Gn!==null&&El(Gn)&&(Gn=null),Yi.forEach(Xp),Xi.forEach(Xp)}function vi(t,e){t.blockedOn===e&&(t.blockedOn=null,Rd||(Rd=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,B1)))}function Ji(t){function e(s){return vi(s,t)}if(0<Za.length){vi(Za[0],t);for(var r=1;r<Za.length;r++){var n=Za[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Qn!==null&&vi(Qn,t),Kn!==null&&vi(Kn,t),Gn!==null&&vi(Gn,t),Yi.forEach(e),Xi.forEach(e),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)ay(r),r.blockedOn===null&&$n.shift()}var _o=xn.ReactCurrentBatchConfig,Vl=!0;function q1(t,e,r,n){var s=ke,o=_o.transition;_o.transition=null;try{ke=1,Zf(t,e,r,n)}finally{ke=s,_o.transition=o}}function V1(t,e,r,n){var s=ke,o=_o.transition;_o.transition=null;try{ke=4,Zf(t,e,r,n)}finally{ke=s,_o.transition=o}}function Zf(t,e,r,n){if(Vl){var s=Nd(t,e,r,n);if(s===null)Wu(t,e,n,Hl,r),Yp(t,n);else if(U1(s,t,e,r,n))n.stopPropagation();else if(Yp(t,n),e&4&&-1<z1.indexOf(t)){for(;s!==null;){var o=ba(s);if(o!==null&&ny(o),o=Nd(t,e,r,n),o===null&&Wu(t,e,n,Hl,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Wu(t,e,n,null,r)}}var Hl=null;function Nd(t,e,r,n){if(Hl=null,t=Gf(n),t=Es(t),t!==null)if(e=Us(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Gv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function ly(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N1()){case Yf:return 1;case Zv:return 4;case Bl:case O1:return 16;case ey:return 536870912;default:return 16}default:return 16}}var qn=null,eh=null,kl=null;function cy(){if(kl)return kl;var t,e=eh,r=e.length,n,s="value"in qn?qn.value:qn.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return kl=s.slice(t,1<n?1-n:void 0)}function Cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function el(){return!0}function Jp(){return!1}function Kt(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?el:Jp,this.isPropagationStopped=Jp,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),e}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=Kt(Xo),xa=We({},Xo,{view:0,detail:0}),H1=Kt(xa),Au,Ru,yi,Pc=We({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(Au=t.screenX-yi.screenX,Ru=t.screenY-yi.screenY):Ru=Au=0,yi=t),Au)},movementY:function(t){return"movementY"in t?t.movementY:Ru}}),Zp=Kt(Pc),Q1=We({},Pc,{dataTransfer:0}),K1=Kt(Q1),G1=We({},xa,{relatedTarget:0}),Nu=Kt(G1),Y1=We({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),X1=Kt(Y1),J1=We({},Xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z1=Kt(J1),e_=We({},Xo,{data:0}),em=Kt(e_),t_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n_[t])?!!e[t]:!1}function rh(){return s_}var o_=We({},xa,{key:function(t){if(t.key){var e=t_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(t){return t.type==="keypress"?Cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i_=Kt(o_),a_=We({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=Kt(a_),l_=We({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),c_=Kt(l_),u_=We({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),d_=Kt(u_),f_=We({},Pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h_=Kt(f_),p_=[9,13,27,32],nh=hn&&"CompositionEvent"in window,Mi=null;hn&&"documentMode"in document&&(Mi=document.documentMode);var m_=hn&&"TextEvent"in window&&!Mi,uy=hn&&(!nh||Mi&&8<Mi&&11>=Mi),rm=" ",nm=!1;function dy(t,e){switch(t){case"keyup":return p_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function g_(t,e){switch(t){case"compositionend":return fy(e);case"keypress":return e.which!==32?null:(nm=!0,rm);case"textInput":return t=e.data,t===rm&&nm?null:t;default:return null}}function v_(t,e){if(oo)return t==="compositionend"||!nh&&dy(t,e)?(t=cy(),kl=eh=qn=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uy&&e.locale!=="ko"?null:e.data;default:return null}}var y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!y_[t.type]:e==="textarea"}function hy(t,e,r,n){qv(n),e=Ql(e,"onChange"),0<e.length&&(r=new th("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $i=null,Zi=null;function w_(t){Ey(t,0)}function Tc(t){var e=lo(t);if(Iv(e))return t}function x_(t,e){if(t==="change")return e}var py=!1;if(hn){var Ou;if(hn){var Lu="oninput"in document;if(!Lu){var om=document.createElement("div");om.setAttribute("oninput","return;"),Lu=typeof om.oninput=="function"}Ou=Lu}else Ou=!1;py=Ou&&(!document.documentMode||9<document.documentMode)}function im(){$i&&($i.detachEvent("onpropertychange",my),Zi=$i=null)}function my(t){if(t.propertyName==="value"&&Tc(Zi)){var e=[];hy(e,Zi,t,Gf(t)),Kv(w_,e)}}function b_(t,e,r){t==="focusin"?(im(),$i=e,Zi=r,$i.attachEvent("onpropertychange",my)):t==="focusout"&&im()}function __(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Zi)}function S_(t,e){if(t==="click")return Tc(e)}function E_(t,e){if(t==="input"||t==="change")return Tc(e)}function k_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:k_;function ea(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!pd.call(e,s)||!kr(t[s],e[s]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,e){var r=am(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=am(r)}}function gy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vy(){for(var t=window,e=Fl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fl(t.document)}return e}function sh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C_(t){var e=vy(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&gy(r.ownerDocument.documentElement,r)){if(n!==null&&sh(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=lm(r,o);var i=lm(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P_=hn&&"documentMode"in document&&11>=document.documentMode,io=null,Od=null,Ii=null,Ld=!1;function cm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ld||io==null||io!==Fl(n)||(n=io,"selectionStart"in n&&sh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ii&&ea(Ii,n)||(Ii=n,n=Ql(Od,"onSelect"),0<n.length&&(e=new th("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=io)))}function tl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ao={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Mu={},yy={};hn&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function jc(t){if(Mu[t])return Mu[t];if(!ao[t])return t;var e=ao[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in yy)return Mu[t]=e[r];return t}var wy=jc("animationend"),xy=jc("animationiteration"),by=jc("animationstart"),_y=jc("transitionend"),Sy=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){Sy.set(t,e),zs(e,[t])}for(var $u=0;$u<um.length;$u++){var Iu=um[$u],T_=Iu.toLowerCase(),j_=Iu[0].toUpperCase()+Iu.slice(1);as(T_,"on"+j_)}as(wy,"onAnimationEnd");as(xy,"onAnimationIteration");as(by,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(_y,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function dm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,T1(n,e,void 0,t),t.currentTarget=null}function Ey(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;dm(s,a,c),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;dm(s,a,c),o=l}}}if(Ul)throw t=jd,Ul=!1,jd=null,t}function Ne(t,e){var r=e[Wd];r===void 0&&(r=e[Wd]=new Set);var n=t+"__bubble";r.has(n)||(ky(e,t,2,!1),r.add(n))}function Du(t,e,r){var n=0;e&&(n|=4),ky(r,t,n,e)}var rl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[rl]){t[rl]=!0,Nv.forEach(function(r){r!=="selectionchange"&&(A_.has(r)||Du(r,!1,t),Du(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rl]||(e[rl]=!0,Du("selectionchange",!1,e))}}function ky(t,e,r,n){switch(ly(e)){case 1:var s=q1;break;case 4:s=V1;break;default:s=Zf}r=s.bind(null,e,r,t),s=void 0,!Td||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Wu(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Es(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}Kv(function(){var c=o,d=Gf(r),f=[];e:{var m=Sy.get(t);if(m!==void 0){var p=th,w=t;switch(t){case"keypress":if(Cl(r)===0)break e;case"keydown":case"keyup":p=i_;break;case"focusin":w="focus",p=Nu;break;case"focusout":w="blur",p=Nu;break;case"beforeblur":case"afterblur":p=Nu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=c_;break;case wy:case xy:case by:p=X1;break;case _y:p=d_;break;case"scroll":p=H1;break;case"wheel":p=h_;break;case"copy":case"cut":case"paste":p=Z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tm}var v=(e&4)!==0,S=!v&&t==="scroll",x=v?m!==null?m+"Capture":null:m;v=[];for(var y=c,_;y!==null;){_=y;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,x!==null&&(k=Gi(y,x),k!=null&&v.push(ra(y,k,_)))),S)break;y=y.return}0<v.length&&(m=new p(m,w,null,r,d),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&r!==Cd&&(w=r.relatedTarget||r.fromElement)&&(Es(w)||w[pn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=c,w=w?Es(w):null,w!==null&&(S=Us(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(v=Zp,k="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=tm,k="onPointerLeave",x="onPointerEnter",y="pointer"),S=p==null?m:lo(p),_=w==null?m:lo(w),m=new v(k,y+"leave",p,r,d),m.target=S,m.relatedTarget=_,k=null,Es(d)===c&&(v=new v(x,y+"enter",w,r,d),v.target=_,v.relatedTarget=S,k=v),S=k,p&&w)t:{for(v=p,x=w,y=0,_=v;_;_=Gs(_))y++;for(_=0,k=x;k;k=Gs(k))_++;for(;0<y-_;)v=Gs(v),y--;for(;0<_-y;)x=Gs(x),_--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Gs(v),x=Gs(x)}v=null}else v=null;p!==null&&fm(f,m,p,v,!1),w!==null&&S!==null&&fm(f,S,w,v,!0)}}e:{if(m=c?lo(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var P=x_;else if(sm(m))if(py)P=E_;else{P=__;var j=b_}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=S_);if(P&&(P=P(t,c))){hy(f,P,r,d);break e}j&&j(t,m,c),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&bd(m,"number",m.value)}switch(j=c?lo(c):window,t){case"focusin":(sm(j)||j.contentEditable==="true")&&(io=j,Od=c,Ii=null);break;case"focusout":Ii=Od=io=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,cm(f,r,d);break;case"selectionchange":if(P_)break;case"keydown":case"keyup":cm(f,r,d)}var T;if(nh)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else oo?dy(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(uy&&r.locale!=="ko"&&(oo||N!=="onCompositionStart"?N==="onCompositionEnd"&&oo&&(T=cy()):(qn=d,eh="value"in qn?qn.value:qn.textContent,oo=!0)),j=Ql(c,N),0<j.length&&(N=new em(N,t,null,r,d),f.push({event:N,listeners:j}),T?N.data=T:(T=fy(r),T!==null&&(N.data=T)))),(T=m_?g_(t,r):v_(t,r))&&(c=Ql(c,"onBeforeInput"),0<c.length&&(d=new em("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=T))}Ey(f,e)})}function ra(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ql(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Gi(t,r),o!=null&&n.unshift(ra(t,o,s)),o=Gi(t,e),o!=null&&n.push(ra(t,o,s))),t=t.return}return n}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fm(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Gi(r,o),l!=null&&i.unshift(ra(r,l,a))):s||(l=Gi(r,o),l!=null&&i.push(ra(r,l,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var R_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function hm(t){return(typeof t=="string"?t:""+t).replace(R_,`
`).replace(N_,"")}function nl(t,e,r){if(e=hm(e),hm(t)!==e&&r)throw Error(V(425))}function Kl(){}var Md=null,$d=null;function Id(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,O_=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,L_=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(t){return pm.resolve(null).then(t).catch(M_)}:Dd;function M_(t){setTimeout(function(){throw t})}function Fu(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ji(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ji(e)}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Jo,na="__reactProps$"+Jo,pn="__reactContainer$"+Jo,Wd="__reactEvents$"+Jo,$_="__reactListeners$"+Jo,I_="__reactHandles$"+Jo;function Es(t){var e=t[Vr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pn]||r[Vr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=mm(t);t!==null;){if(r=t[Vr])return r;t=mm(t)}return e}t=r,r=t.parentNode}return null}function ba(t){return t=t[Vr]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Ac(t){return t[na]||null}var Fd=[],co=-1;function ls(t){return{current:t}}function Oe(t){0>co||(t.current=Fd[co],Fd[co]=null,co--)}function je(t,e){co++,Fd[co]=t.current,t.current=e}var ns={},gt=ls(ns),Mt=ls(!1),Ls=ns;function Wo(t,e){var r=t.type.contextTypes;if(!r)return ns;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function Gl(){Oe(Mt),Oe(gt)}function gm(t,e,r){if(gt.current!==ns)throw Error(V(168));je(gt,e),je(Mt,r)}function Cy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(V(108,b1(t)||"Unknown",s));return We({},r,n)}function Yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Ls=gt.current,je(gt,t),je(Mt,Mt.current),!0}function vm(t,e,r){var n=t.stateNode;if(!n)throw Error(V(169));r?(t=Cy(t,e,Ls),n.__reactInternalMemoizedMergedChildContext=t,Oe(Mt),Oe(gt),je(gt,t)):Oe(Mt),je(Mt,r)}var ln=null,Rc=!1,zu=!1;function Py(t){ln===null?ln=[t]:ln.push(t)}function D_(t){Rc=!0,Py(t)}function cs(){if(!zu&&ln!==null){zu=!0;var t=0,e=ke;try{var r=ln;for(ke=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ln=null,Rc=!1}catch(s){throw ln!==null&&(ln=ln.slice(t+1)),Jv(Yf,cs),s}finally{ke=e,zu=!1}}return null}var uo=[],fo=0,Xl=null,Jl=0,Zt=[],er=0,Ms=null,un=1,dn="";function xs(t,e){uo[fo++]=Jl,uo[fo++]=Xl,Xl=t,Jl=e}function Ty(t,e,r){Zt[er++]=un,Zt[er++]=dn,Zt[er++]=Ms,Ms=t;var n=un;t=dn;var s=32-_r(n)-1;n&=~(1<<s),r+=1;var o=32-_r(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,un=1<<32-_r(e)+s|r<<s|n,dn=o+t}else un=1<<o|r<<s|n,dn=t}function oh(t){t.return!==null&&(xs(t,1),Ty(t,1,0))}function ih(t){for(;t===Xl;)Xl=uo[--fo],uo[fo]=null,Jl=uo[--fo],uo[fo]=null;for(;t===Ms;)Ms=Zt[--er],Zt[er]=null,dn=Zt[--er],Zt[er]=null,un=Zt[--er],Zt[er]=null}var Bt=null,Ut=null,Me=!1,br=null;function jy(t,e){var r=tr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ym(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,Ut=Yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ms!==null?{id:un,overflow:dn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bt=t,Ut=null,!0):!1;default:return!1}}function zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ud(t){if(Me){var e=Ut;if(e){var r=e;if(!ym(t,e)){if(zd(t))throw Error(V(418));e=Yn(r.nextSibling);var n=Bt;e&&ym(t,e)?jy(n,r):(t.flags=t.flags&-4097|2,Me=!1,Bt=t)}}else{if(zd(t))throw Error(V(418));t.flags=t.flags&-4097|2,Me=!1,Bt=t}}}function wm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function sl(t){if(t!==Bt)return!1;if(!Me)return wm(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Id(t.type,t.memoizedProps)),e&&(e=Ut)){if(zd(t))throw Ay(),Error(V(418));for(;e;)jy(t,e),e=Yn(e.nextSibling)}if(wm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ut=Yn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=Bt?Yn(t.stateNode.nextSibling):null;return!0}function Ay(){for(var t=Ut;t;)t=Yn(t.nextSibling)}function Fo(){Ut=Bt=null,Me=!1}function ah(t){br===null?br=[t]:br.push(t)}var W_=xn.ReactCurrentBatchConfig;function wi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,t))}return t}function ol(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xm(t){var e=t._init;return e(t._payload)}function Ry(t){function e(x,y){if(t){var _=x.deletions;_===null?(x.deletions=[y],x.flags|=16):_.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=es(x,y),x.index=0,x.sibling=null,x}function o(x,y,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<y?(x.flags|=2,y):_):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,_,k){return y===null||y.tag!==6?(y=Ku(_,x.mode,k),y.return=x,y):(y=s(y,_),y.return=x,y)}function l(x,y,_,k){var P=_.type;return P===so?d(x,y,_.props.children,k,_.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ln&&xm(P)===y.type)?(k=s(y,_.props),k.ref=wi(x,y,_),k.return=x,k):(k=Ol(_.type,_.key,_.props,null,x.mode,k),k.ref=wi(x,y,_),k.return=x,k)}function c(x,y,_,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Gu(_,x.mode,k),y.return=x,y):(y=s(y,_.children||[]),y.return=x,y)}function d(x,y,_,k,P){return y===null||y.tag!==7?(y=Os(_,x.mode,k,P),y.return=x,y):(y=s(y,_),y.return=x,y)}function f(x,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ku(""+y,x.mode,_),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ka:return _=Ol(y.type,y.key,y.props,null,x.mode,_),_.ref=wi(x,null,y),_.return=x,_;case no:return y=Gu(y,x.mode,_),y.return=x,y;case Ln:var k=y._init;return f(x,k(y._payload),_)}if(Ti(y)||pi(y))return y=Os(y,x.mode,_,null),y.return=x,y;ol(x,y)}return null}function m(x,y,_,k){var P=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:a(x,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ka:return _.key===P?l(x,y,_,k):null;case no:return _.key===P?c(x,y,_,k):null;case Ln:return P=_._init,m(x,y,P(_._payload),k)}if(Ti(_)||pi(_))return P!==null?null:d(x,y,_,k,null);ol(x,_)}return null}function p(x,y,_,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(_)||null,a(y,x,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ka:return x=x.get(k.key===null?_:k.key)||null,l(y,x,k,P);case no:return x=x.get(k.key===null?_:k.key)||null,c(y,x,k,P);case Ln:var j=k._init;return p(x,y,_,j(k._payload),P)}if(Ti(k)||pi(k))return x=x.get(_)||null,d(y,x,k,P,null);ol(y,k)}return null}function w(x,y,_,k){for(var P=null,j=null,T=y,N=y=0,R=null;T!==null&&N<_.length;N++){T.index>N?(R=T,T=null):R=T.sibling;var O=m(x,T,_[N],k);if(O===null){T===null&&(T=R);break}t&&T&&O.alternate===null&&e(x,T),y=o(O,y,N),j===null?P=O:j.sibling=O,j=O,T=R}if(N===_.length)return r(x,T),Me&&xs(x,N),P;if(T===null){for(;N<_.length;N++)T=f(x,_[N],k),T!==null&&(y=o(T,y,N),j===null?P=T:j.sibling=T,j=T);return Me&&xs(x,N),P}for(T=n(x,T);N<_.length;N++)R=p(T,x,N,_[N],k),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?N:R.key),y=o(R,y,N),j===null?P=R:j.sibling=R,j=R);return t&&T.forEach(function($){return e(x,$)}),Me&&xs(x,N),P}function v(x,y,_,k){var P=pi(_);if(typeof P!="function")throw Error(V(150));if(_=P.call(_),_==null)throw Error(V(151));for(var j=P=null,T=y,N=y=0,R=null,O=_.next();T!==null&&!O.done;N++,O=_.next()){T.index>N?(R=T,T=null):R=T.sibling;var $=m(x,T,O.value,k);if($===null){T===null&&(T=R);break}t&&T&&$.alternate===null&&e(x,T),y=o($,y,N),j===null?P=$:j.sibling=$,j=$,T=R}if(O.done)return r(x,T),Me&&xs(x,N),P;if(T===null){for(;!O.done;N++,O=_.next())O=f(x,O.value,k),O!==null&&(y=o(O,y,N),j===null?P=O:j.sibling=O,j=O);return Me&&xs(x,N),P}for(T=n(x,T);!O.done;N++,O=_.next())O=p(T,x,N,O.value,k),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?N:O.key),y=o(O,y,N),j===null?P=O:j.sibling=O,j=O);return t&&T.forEach(function(I){return e(x,I)}),Me&&xs(x,N),P}function S(x,y,_,k){if(typeof _=="object"&&_!==null&&_.type===so&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ka:e:{for(var P=_.key,j=y;j!==null;){if(j.key===P){if(P=_.type,P===so){if(j.tag===7){r(x,j.sibling),y=s(j,_.props.children),y.return=x,x=y;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ln&&xm(P)===j.type){r(x,j.sibling),y=s(j,_.props),y.ref=wi(x,j,_),y.return=x,x=y;break e}r(x,j);break}else e(x,j);j=j.sibling}_.type===so?(y=Os(_.props.children,x.mode,k,_.key),y.return=x,x=y):(k=Ol(_.type,_.key,_.props,null,x.mode,k),k.ref=wi(x,y,_),k.return=x,x=k)}return i(x);case no:e:{for(j=_.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){r(x,y.sibling),y=s(y,_.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=Gu(_,x.mode,k),y.return=x,x=y}return i(x);case Ln:return j=_._init,S(x,y,j(_._payload),k)}if(Ti(_))return w(x,y,_,k);if(pi(_))return v(x,y,_,k);ol(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,_),y.return=x,x=y):(r(x,y),y=Ku(_,x.mode,k),y.return=x,x=y),i(x)):r(x,y)}return S}var zo=Ry(!0),Ny=Ry(!1),Zl=ls(null),ec=null,ho=null,lh=null;function ch(){lh=ho=ec=null}function uh(t){var e=Zl.current;Oe(Zl),t._currentValue=e}function Bd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function So(t,e){ec=t,lh=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(lh!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(ec===null)throw Error(V(308));ho=t,ec.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var ks=null;function dh(t){ks===null?ks=[t]:ks.push(t)}function Oy(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,dh(e)):(r.next=s.next,s.next=r),e.interleaved=r,mn(t,n)}function mn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Mn=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,mn(t,r)}return s=n.interleaved,s===null?(e.next=e,dh(n)):(e.next=s.next,s.next=e),n.interleaved=e,mn(t,r)}function Pl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xf(t,r)}}function bm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function tc(t,e,r,n){var s=t.updateQueue;Mn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var m=a.lane,p=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(m=e,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(p,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(p,f,m):w,m==null)break e;f=We({},f,m);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Is|=i,t.lanes=i,t.memoizedState=f}}function _m(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var _a={},Kr=ls(_a),sa=ls(_a),oa=ls(_a);function Cs(t){if(t===_a)throw Error(V(174));return t}function hh(t,e){switch(je(oa,e),je(sa,t),je(Kr,_a),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sd(e,t)}Oe(Kr),je(Kr,e)}function Uo(){Oe(Kr),Oe(sa),Oe(oa)}function My(t){Cs(oa.current);var e=Cs(Kr.current),r=Sd(e,t.type);e!==r&&(je(sa,t),je(Kr,r))}function ph(t){sa.current===t&&(Oe(Kr),Oe(sa))}var Ie=ls(0);function rc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uu=[];function mh(){for(var t=0;t<Uu.length;t++)Uu[t]._workInProgressVersionPrimary=null;Uu.length=0}var Tl=xn.ReactCurrentDispatcher,Bu=xn.ReactCurrentBatchConfig,$s=0,De=null,Xe=null,rt=null,nc=!1,Di=!1,ia=0,F_=0;function ht(){throw Error(V(321))}function gh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!kr(t[r],e[r]))return!1;return!0}function vh(t,e,r,n,s,o){if($s=o,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tl.current=t===null||t.memoizedState===null?q_:V_,t=r(n,s),Di){o=0;do{if(Di=!1,ia=0,25<=o)throw Error(V(301));o+=1,rt=Xe=null,e.updateQueue=null,Tl.current=H_,t=r(n,s)}while(Di)}if(Tl.current=sc,e=Xe!==null&&Xe.next!==null,$s=0,rt=Xe=De=null,nc=!1,e)throw Error(V(300));return t}function yh(){var t=ia!==0;return ia=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?De.memoizedState=rt=t:rt=rt.next=t,rt}function or(){if(Xe===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?De.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(V(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?De.memoizedState=rt=t:rt=rt.next=t}return rt}function aa(t,e){return typeof e=="function"?e(t):e}function qu(t){var e=or(),r=e.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=t;var n=Xe,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if(($s&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=n):l=l.next=f,De.lanes|=d,Is|=d}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=a,kr(n,e.memoizedState)||(Lt=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,De.lanes|=o,Is|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vu(t){var e=or(),r=e.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);kr(o,e.memoizedState)||(Lt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function $y(){}function Iy(t,e){var r=De,n=or(),s=e(),o=!kr(n.memoizedState,s);if(o&&(n.memoizedState=s,Lt=!0),n=n.queue,wh(Fy.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||rt!==null&&rt.memoizedState.tag&1){if(r.flags|=2048,la(9,Wy.bind(null,r,n,s,e),void 0,null),st===null)throw Error(V(349));$s&30||Dy(r,e,s)}return s}function Dy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Wy(t,e,r,n){e.value=r,e.getSnapshot=n,zy(e)&&Uy(t)}function Fy(t,e,r){return r(function(){zy(e)&&Uy(t)})}function zy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kr(t,r)}catch{return!0}}function Uy(t){var e=mn(t,1);e!==null&&Sr(e,t,1,-1)}function Sm(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},e.queue=t,t=t.dispatch=B_.bind(null,De,t),[e.memoizedState,t]}function la(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function By(){return or().memoizedState}function jl(t,e,r,n){var s=Dr();De.flags|=t,s.memoizedState=la(1|e,r,void 0,n===void 0?null:n)}function Nc(t,e,r,n){var s=or();n=n===void 0?null:n;var o=void 0;if(Xe!==null){var i=Xe.memoizedState;if(o=i.destroy,n!==null&&gh(n,i.deps)){s.memoizedState=la(e,r,o,n);return}}De.flags|=t,s.memoizedState=la(1|e,r,o,n)}function Em(t,e){return jl(8390656,8,t,e)}function wh(t,e){return Nc(2048,8,t,e)}function qy(t,e){return Nc(4,2,t,e)}function Vy(t,e){return Nc(4,4,t,e)}function Hy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qy(t,e,r){return r=r!=null?r.concat([t]):null,Nc(4,4,Hy.bind(null,e,t),r)}function xh(){}function Ky(t,e){var r=or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Gy(t,e){var r=or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&gh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Yy(t,e,r){return $s&21?(kr(r,e)||(r=ty(),De.lanes|=r,Is|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=r)}function z_(t,e){var r=ke;ke=r!==0&&4>r?r:4,t(!0);var n=Bu.transition;Bu.transition={};try{t(!1),e()}finally{ke=r,Bu.transition=n}}function Xy(){return or().memoizedState}function U_(t,e,r){var n=Zn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jy(t))Zy(e,r);else if(r=Oy(t,e,r,n),r!==null){var s=Ct();Sr(r,t,n,s),e0(r,e,n)}}function B_(t,e,r){var n=Zn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jy(t))Zy(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,kr(a,i)){var l=e.interleaved;l===null?(s.next=s,dh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Oy(t,e,s,n),r!==null&&(s=Ct(),Sr(r,t,n,s),e0(r,e,n))}}function Jy(t){var e=t.alternate;return t===De||e!==null&&e===De}function Zy(t,e){Di=nc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function e0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xf(t,r)}}var sc={readContext:sr,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},q_={readContext:sr,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:Em,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,jl(4194308,4,Hy.bind(null,e,t),r)},useLayoutEffect:function(t,e){return jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return jl(4,2,t,e)},useMemo:function(t,e){var r=Dr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Dr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=U_.bind(null,De,t),[n.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:Sm,useDebugValue:xh,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=Sm(!1),e=t[0];return t=z_.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=De,s=Dr();if(Me){if(r===void 0)throw Error(V(407));r=r()}else{if(r=e(),st===null)throw Error(V(349));$s&30||Dy(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,Em(Fy.bind(null,n,o,t),[t]),n.flags|=2048,la(9,Wy.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Dr(),e=st.identifierPrefix;if(Me){var r=dn,n=un;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ia++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=F_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},V_={readContext:sr,useCallback:Ky,useContext:sr,useEffect:wh,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Vy,useMemo:Gy,useReducer:qu,useRef:By,useState:function(){return qu(aa)},useDebugValue:xh,useDeferredValue:function(t){var e=or();return Yy(e,Xe.memoizedState,t)},useTransition:function(){var t=qu(aa)[0],e=or().memoizedState;return[t,e]},useMutableSource:$y,useSyncExternalStore:Iy,useId:Xy,unstable_isNewReconciler:!1},H_={readContext:sr,useCallback:Ky,useContext:sr,useEffect:wh,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Vy,useMemo:Gy,useReducer:Vu,useRef:By,useState:function(){return Vu(aa)},useDebugValue:xh,useDeferredValue:function(t){var e=or();return Xe===null?e.memoizedState=t:Yy(e,Xe.memoizedState,t)},useTransition:function(){var t=Vu(aa)[0],e=or().memoizedState;return[t,e]},useMutableSource:$y,useSyncExternalStore:Iy,useId:Xy,unstable_isNewReconciler:!1};function mr(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function qd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:We({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Oc={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ct(),s=Zn(t),o=fn(n,s);o.payload=e,r!=null&&(o.callback=r),e=Xn(t,o,s),e!==null&&(Sr(e,t,s,n),Pl(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ct(),s=Zn(t),o=fn(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Xn(t,o,s),e!==null&&(Sr(e,t,s,n),Pl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ct(),n=Zn(t),s=fn(r,n);s.tag=2,e!=null&&(s.callback=e),e=Xn(t,s,n),e!==null&&(Sr(e,t,n,r),Pl(e,t,n))}};function km(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!ea(r,n)||!ea(s,o):!0}function t0(t,e,r){var n=!1,s=ns,o=e.contextType;return typeof o=="object"&&o!==null?o=sr(o):(s=$t(e)?Ls:gt.current,n=e.contextTypes,o=(n=n!=null)?Wo(t,s):ns),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Cm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Oc.enqueueReplaceState(e,e.state,null)}function Vd(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},fh(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=sr(o):(o=$t(e)?Ls:gt.current,s.context=Wo(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qd(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Oc.enqueueReplaceState(s,s.state,null),tc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e){try{var r="",n=e;do r+=x1(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Hu(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Q_=typeof WeakMap=="function"?WeakMap:Map;function r0(t,e,r){r=fn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ic||(ic=!0,rf=n),Hd(t,e)},r}function n0(t,e,r){r=fn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Hd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Hd(t,e),typeof n!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function Pm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Q_;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=aS.bind(null,t,e,r),e.then(t,t))}function Tm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jm(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fn(-1,1),e.tag=2,Xn(r,e,1))),r.lanes|=1),t)}var K_=xn.ReactCurrentOwner,Lt=!1;function St(t,e,r,n){e.child=t===null?Ny(e,null,r,n):zo(e,t.child,r,n)}function Am(t,e,r,n,s){r=r.render;var o=e.ref;return So(e,s),n=vh(t,e,r,n,o,s),r=yh(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gn(t,e,s)):(Me&&r&&oh(e),e.flags|=1,St(t,e,n,s),e.child)}function Rm(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!Th(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,s0(t,e,o,n,s)):(t=Ol(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:ea,r(i,n)&&t.ref===e.ref)return gn(t,e,s)}return e.flags|=1,t=es(o,n),t.ref=e.ref,t.return=e,e.child=t}function s0(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(ea(o,n)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,gn(t,e,s)}return Qd(t,e,r,n,s)}function o0(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(mo,Ft),Ft|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(mo,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,je(mo,Ft),Ft|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,je(mo,Ft),Ft|=n;return St(t,e,s,r),e.child}function i0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qd(t,e,r,n,s){var o=$t(r)?Ls:gt.current;return o=Wo(e,o),So(e,s),r=vh(t,e,r,n,o,s),n=yh(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gn(t,e,s)):(Me&&n&&oh(e),e.flags|=1,St(t,e,r,s),e.child)}function Nm(t,e,r,n,s){if($t(r)){var o=!0;Yl(e)}else o=!1;if(So(e,s),e.stateNode===null)Al(t,e),t0(e,r,n),Vd(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=sr(c):(c=$t(r)?Ls:gt.current,c=Wo(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Cm(e,i,n,c),Mn=!1;var m=e.memoizedState;i.state=m,tc(e,n,i,s),l=e.memoizedState,a!==n||m!==l||Mt.current||Mn?(typeof d=="function"&&(qd(e,r,d,n),l=e.memoizedState),(a=Mn||km(e,r,a,n,m,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),i.props=n,i.state=l,i.context=c,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,Ly(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mr(e.type,a),i.props=c,f=e.pendingProps,m=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=$t(r)?Ls:gt.current,l=Wo(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Cm(e,i,n,l),Mn=!1,m=e.memoizedState,i.state=m,tc(e,n,i,s);var w=e.memoizedState;a!==f||m!==w||Mt.current||Mn?(typeof p=="function"&&(qd(e,r,p,n),w=e.memoizedState),(c=Mn||km(e,r,c,n,m,w,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),i.props=n,i.state=w,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Kd(t,e,r,n,o,s)}function Kd(t,e,r,n,s,o){i0(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&vm(e,r,!1),gn(t,e,o);n=e.stateNode,K_.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=zo(e,t.child,null,o),e.child=zo(e,null,a,o)):St(t,e,a,o),e.memoizedState=n.state,s&&vm(e,r,!0),e.child}function a0(t){var e=t.stateNode;e.pendingContext?gm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gm(t,e.context,!1),hh(t,e.containerInfo)}function Om(t,e,r,n,s){return Fo(),ah(s),e.flags|=256,St(t,e,r,n),e.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Yd(t){return{baseLanes:t,cachePool:null,transitions:null}}function l0(t,e,r){var n=e.pendingProps,s=Ie.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Ie,s&1),t===null)return Ud(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=$c(i,n,0,null),t=Os(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Yd(r),e.memoizedState=Gd,t):bh(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return G_(t,e,i,n,a,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=es(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=es(a,o):(o=Os(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?Yd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=Gd,n}return o=t.child,t=o.sibling,n=es(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function bh(t,e){return e=$c({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function il(t,e,r,n){return n!==null&&ah(n),zo(e,t.child,null,r),t=bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G_(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Hu(Error(V(422))),il(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=$c({mode:"visible",children:n.children},s,0,null),o=Os(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&zo(e,t.child,null,i),e.child.memoizedState=Yd(i),e.memoizedState=Gd,o);if(!(e.mode&1))return il(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(V(419)),n=Hu(o,n,void 0),il(t,e,i,n)}if(a=(i&t.childLanes)!==0,Lt||a){if(n=st,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,mn(t,s),Sr(n,t,s,-1))}return Ph(),n=Hu(Error(V(421))),il(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=lS.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Ut=Yn(s.nextSibling),Bt=e,Me=!0,br=null,t!==null&&(Zt[er++]=un,Zt[er++]=dn,Zt[er++]=Ms,un=t.id,dn=t.overflow,Ms=e),e=bh(e,n.children),e.flags|=4096,e)}function Lm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Bd(t.return,e,r)}function Qu(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function c0(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(St(t,e,n.children,r),n=Ie.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lm(t,r,e);else if(t.tag===19)Lm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(Ie,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&rc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Qu(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Qu(e,!0,r,null,o);break;case"together":Qu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Al(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Is|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,r=es(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Y_(t,e,r){switch(e.tag){case 3:a0(e),Fo();break;case 5:My(e);break;case 1:$t(e.type)&&Yl(e);break;case 4:hh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;je(Zl,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(Ie,Ie.current&1),e.flags|=128,null):r&e.child.childLanes?l0(t,e,r):(je(Ie,Ie.current&1),t=gn(t,e,r),t!==null?t.sibling:null);je(Ie,Ie.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return c0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ie,Ie.current),n)break;return null;case 22:case 23:return e.lanes=0,o0(t,e,r)}return gn(t,e,r)}var u0,Xd,d0,f0;u0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xd=function(){};d0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Cs(Kr.current);var o=null;switch(r){case"input":s=wd(t,s),n=wd(t,n),o=[];break;case"select":s=We({},s,{value:void 0}),n=We({},n,{value:void 0}),o=[];break;case"textarea":s=_d(t,s),n=_d(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Kl)}Ed(r,n);var i;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};f0=function(t,e,r,n){r!==n&&(e.flags|=4)};function xi(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function X_(t,e,r){var n=e.pendingProps;switch(ih(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return $t(e.type)&&Gl(),pt(e),null;case 3:return n=e.stateNode,Uo(),Oe(Mt),Oe(gt),mh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(sl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(of(br),br=null))),Xd(t,e),pt(e),null;case 5:ph(e);var s=Cs(oa.current);if(r=e.type,t!==null&&e.stateNode!=null)d0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(V(166));return pt(e),null}if(t=Cs(Kr.current),sl(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Vr]=e,n[na]=o,t=(e.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Ai.length;s++)Ne(Ai[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Bp(n,o),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",n);break;case"textarea":Vp(n,o),Ne("invalid",n)}Ed(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&nl(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&nl(n.textContent,a,t),s=["children",""+a]):Qi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ne("scroll",n)}switch(r){case"input":Ga(n),qp(n,o,!0);break;case"textarea":Ga(n),Hp(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Kl)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Vr]=e,t[na]=n,u0(t,e,!1,!1),e.stateNode=t;e:{switch(i=kd(r,n),r){case"dialog":Ne("cancel",t),Ne("close",t),s=n;break;case"iframe":case"object":case"embed":Ne("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ai.length;s++)Ne(Ai[s],t);s=n;break;case"source":Ne("error",t),s=n;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),s=n;break;case"details":Ne("toggle",t),s=n;break;case"input":Bp(t,n),s=wd(t,n),Ne("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=We({},n,{value:void 0}),Ne("invalid",t);break;case"textarea":Vp(t,n),s=_d(t,n),Ne("invalid",t);break;default:s=n}Ed(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Bv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zv(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ki(t,l):typeof l=="number"&&Ki(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",t):l!=null&&Vf(t,o,l,i))}switch(r){case"input":Ga(t),qp(t,n,!1);break;case"textarea":Ga(t),Hp(t);break;case"option":n.value!=null&&t.setAttribute("value",""+rs(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?wo(t,!!n.multiple,o,!1):n.defaultValue!=null&&wo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Kl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)f0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(V(166));if(r=Cs(oa.current),Cs(Kr.current),sl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vr]=e,(o=n.nodeValue!==r)&&(t=Bt,t!==null))switch(t.tag){case 3:nl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nl(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vr]=e,e.stateNode=n}return pt(e),null;case 13:if(Oe(Ie),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Ut!==null&&e.mode&1&&!(e.flags&128))Ay(),Fo(),e.flags|=98560,o=!1;else if(o=sl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(V(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[Vr]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),o=!1}else br!==null&&(of(br),br=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Je===0&&(Je=3):Ph())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return Uo(),Xd(t,e),t===null&&ta(e.stateNode.containerInfo),pt(e),null;case 10:return uh(e.type._context),pt(e),null;case 17:return $t(e.type)&&Gl(),pt(e),null;case 19:if(Oe(Ie),o=e.memoizedState,o===null)return pt(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)xi(o,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=rc(t),i!==null){for(e.flags|=128,xi(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return je(Ie,Ie.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ve()>qo&&(e.flags|=128,n=!0,xi(o,!1),e.lanes=4194304)}else{if(!n)if(t=rc(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Me)return pt(e),null}else 2*Ve()-o.renderingStartTime>qo&&r!==1073741824&&(e.flags|=128,n=!0,xi(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ve(),e.sibling=null,r=Ie.current,je(Ie,n?r&1|2:r&1),e):(pt(e),null);case 22:case 23:return Ch(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ft&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function J_(t,e){switch(ih(e),e.tag){case 1:return $t(e.type)&&Gl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),Oe(Mt),Oe(gt),mh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ph(e),null;case 13:if(Oe(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Ie),null;case 4:return Uo(),null;case 10:return uh(e.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var al=!1,mt=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Z=null;function po(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){qe(t,e,n)}else r.current=null}function Jd(t,e,r){try{r()}catch(n){qe(t,e,n)}}var Mm=!1;function eS(t,e){if(Md=Vl,t=vy(),sh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===r&&++c===s&&(a=i),m===o&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($d={focusedElem:t,selectionRange:r},Vl=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,S=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:mr(e.type,v),S);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(k){qe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=Mm,Mm=!1,w}function Wi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Jd(e,r,o)}s=s.next}while(s!==n)}}function Lc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Zd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function h0(t){var e=t.alternate;e!==null&&(t.alternate=null,h0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[na],delete e[Wd],delete e[$_],delete e[I_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p0(t){return t.tag===5||t.tag===3||t.tag===4}function $m(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Kl));else if(n!==4&&(t=t.child,t!==null))for(ef(t,e,r),t=t.sibling;t!==null;)ef(t,e,r),t=t.sibling}function tf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tf(t,e,r),t=t.sibling;t!==null;)tf(t,e,r),t=t.sibling}var it=null,wr=!1;function Cn(t,e,r){for(r=r.child;r!==null;)m0(t,e,r),r=r.sibling}function m0(t,e,r){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Cc,r)}catch{}switch(r.tag){case 5:mt||po(r,e);case 6:var n=it,s=wr;it=null,Cn(t,e,r),it=n,wr=s,it!==null&&(wr?(t=it,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(wr?(t=it,r=r.stateNode,t.nodeType===8?Fu(t.parentNode,r):t.nodeType===1&&Fu(t,r),Ji(t)):Fu(it,r.stateNode));break;case 4:n=it,s=wr,it=r.stateNode.containerInfo,wr=!0,Cn(t,e,r),it=n,wr=s;break;case 0:case 11:case 14:case 15:if(!mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Jd(r,e,i),s=s.next}while(s!==n)}Cn(t,e,r);break;case 1:if(!mt&&(po(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){qe(r,e,a)}Cn(t,e,r);break;case 21:Cn(t,e,r);break;case 22:r.mode&1?(mt=(n=mt)||r.memoizedState!==null,Cn(t,e,r),mt=n):Cn(t,e,r);break;default:Cn(t,e,r)}}function Im(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Z_),e.forEach(function(n){var s=cS.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function fr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,wr=!1;break e;case 3:it=a.stateNode.containerInfo,wr=!0;break e;case 4:it=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(it===null)throw Error(V(160));m0(o,i,s),it=null,wr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){qe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g0(e,t),e=e.sibling}function g0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),$r(t),n&4){try{Wi(3,t,t.return),Lc(3,t)}catch(v){qe(t,t.return,v)}try{Wi(5,t,t.return)}catch(v){qe(t,t.return,v)}}break;case 1:fr(e,t),$r(t),n&512&&r!==null&&po(r,r.return);break;case 5:if(fr(e,t),$r(t),n&512&&r!==null&&po(r,r.return),t.flags&32){var s=t.stateNode;try{Ki(s,"")}catch(v){qe(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Dv(s,o),kd(a,i);var c=kd(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Bv(s,f):d==="dangerouslySetInnerHTML"?zv(s,f):d==="children"?Ki(s,f):Vf(s,d,f,c)}switch(a){case"input":xd(s,o);break;case"textarea":Wv(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?wo(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?wo(s,!!o.multiple,o.defaultValue,!0):wo(s,!!o.multiple,o.multiple?[]:"",!1))}s[na]=o}catch(v){qe(t,t.return,v)}}break;case 6:if(fr(e,t),$r(t),n&4){if(t.stateNode===null)throw Error(V(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){qe(t,t.return,v)}}break;case 3:if(fr(e,t),$r(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ji(e.containerInfo)}catch(v){qe(t,t.return,v)}break;case 4:fr(e,t),$r(t);break;case 13:fr(e,t),$r(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Eh=Ve())),n&4&&Im(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(mt=(c=mt)||d,fr(e,t),mt=c):fr(e,t),$r(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(f=Z=d;Z!==null;){switch(m=Z,p=m.child,m.tag){case 0:case 11:case 14:case 15:Wi(4,m,m.return);break;case 1:po(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){qe(n,r,v)}}break;case 5:po(m,m.return);break;case 22:if(m.memoizedState!==null){Wm(f);continue}}p!==null?(p.return=m,Z=p):Wm(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uv("display",i))}catch(v){qe(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){qe(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fr(e,t),$r(t),n&4&&Im(t);break;case 21:break;default:fr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(p0(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ki(s,""),n.flags&=-33);var o=$m(t);tf(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=$m(t);ef(t,a,i);break;default:throw Error(V(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tS(t,e,r){Z=t,v0(t)}function v0(t,e,r){for(var n=(t.mode&1)!==0;Z!==null;){var s=Z,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||al;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mt;a=al;var c=mt;if(al=i,(mt=l)&&!c)for(Z=s;Z!==null;)i=Z,l=i.child,i.tag===22&&i.memoizedState!==null?Fm(s):l!==null?(l.return=i,Z=l):Fm(s);for(;o!==null;)Z=o,v0(o),o=o.sibling;Z=s,al=a,mt=c}Dm(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Z=o):Dm(t)}}function Dm(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||Lc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:mr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&_m(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_m(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ji(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}mt||e.flags&512&&Zd(e)}catch(m){qe(e,e.return,m)}}if(e===t){Z=null;break}if(r=e.sibling,r!==null){r.return=e.return,Z=r;break}Z=e.return}}function Wm(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Z=r;break}Z=e.return}}function Fm(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Lc(4,e)}catch(l){qe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){qe(e,s,l)}}var o=e.return;try{Zd(e)}catch(l){qe(e,o,l)}break;case 5:var i=e.return;try{Zd(e)}catch(l){qe(e,i,l)}}}catch(l){qe(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var rS=Math.ceil,oc=xn.ReactCurrentDispatcher,_h=xn.ReactCurrentOwner,rr=xn.ReactCurrentBatchConfig,be=0,st=null,Ke=null,at=0,Ft=0,mo=ls(0),Je=0,ca=null,Is=0,Mc=0,Sh=0,Fi=null,Nt=null,Eh=0,qo=1/0,on=null,ic=!1,rf=null,Jn=null,ll=!1,Vn=null,ac=0,zi=0,nf=null,Rl=-1,Nl=0;function Ct(){return be&6?Ve():Rl!==-1?Rl:Rl=Ve()}function Zn(t){return t.mode&1?be&2&&at!==0?at&-at:W_.transition!==null?(Nl===0&&(Nl=ty()),Nl):(t=ke,t!==0||(t=window.event,t=t===void 0?16:ly(t.type)),t):1}function Sr(t,e,r,n){if(50<zi)throw zi=0,nf=null,Error(V(185));wa(t,r,n),(!(be&2)||t!==st)&&(t===st&&(!(be&2)&&(Mc|=r),Je===4&&In(t,at)),It(t,n),r===1&&be===0&&!(e.mode&1)&&(qo=Ve()+500,Rc&&cs()))}function It(t,e){var r=t.callbackNode;W1(t,e);var n=ql(t,t===st?at:0);if(n===0)r!==null&&Gp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Gp(r),e===1)t.tag===0?D_(zm.bind(null,t)):Py(zm.bind(null,t)),L_(function(){!(be&6)&&cs()}),r=null;else{switch(ry(n)){case 1:r=Yf;break;case 4:r=Zv;break;case 16:r=Bl;break;case 536870912:r=ey;break;default:r=Bl}r=k0(r,y0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function y0(t,e){if(Rl=-1,Nl=0,be&6)throw Error(V(327));var r=t.callbackNode;if(Eo()&&t.callbackNode!==r)return null;var n=ql(t,t===st?at:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=lc(t,n);else{e=n;var s=be;be|=2;var o=x0();(st!==t||at!==e)&&(on=null,qo=Ve()+500,Ns(t,e));do try{oS();break}catch(a){w0(t,a)}while(!0);ch(),oc.current=o,be=s,Ke!==null?e=0:(st=null,at=0,e=Je)}if(e!==0){if(e===2&&(s=Ad(t),s!==0&&(n=s,e=sf(t,s))),e===1)throw r=ca,Ns(t,0),In(t,n),It(t,Ve()),r;if(e===6)In(t,n);else{if(s=t.current.alternate,!(n&30)&&!nS(s)&&(e=lc(t,n),e===2&&(o=Ad(t),o!==0&&(n=o,e=sf(t,o))),e===1))throw r=ca,Ns(t,0),In(t,n),It(t,Ve()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(V(345));case 2:bs(t,Nt,on);break;case 3:if(In(t,n),(n&130023424)===n&&(e=Eh+500-Ve(),10<e)){if(ql(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dd(bs.bind(null,t,Nt,on),e);break}bs(t,Nt,on);break;case 4:if(In(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-_r(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=Ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rS(n/1960))-n,10<n){t.timeoutHandle=Dd(bs.bind(null,t,Nt,on),n);break}bs(t,Nt,on);break;case 5:bs(t,Nt,on);break;default:throw Error(V(329))}}}return It(t,Ve()),t.callbackNode===r?y0.bind(null,t):null}function sf(t,e){var r=Fi;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=lc(t,e),t!==2&&(e=Nt,Nt=r,e!==null&&of(e)),t}function of(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function nS(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!kr(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function In(t,e){for(e&=~Sh,e&=~Mc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_r(e),n=1<<r;t[r]=-1,e&=~n}}function zm(t){if(be&6)throw Error(V(327));Eo();var e=ql(t,0);if(!(e&1))return It(t,Ve()),null;var r=lc(t,e);if(t.tag!==0&&r===2){var n=Ad(t);n!==0&&(e=n,r=sf(t,n))}if(r===1)throw r=ca,Ns(t,0),In(t,e),It(t,Ve()),r;if(r===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,Nt,on),It(t,Ve()),null}function kh(t,e){var r=be;be|=1;try{return t(e)}finally{be=r,be===0&&(qo=Ve()+500,Rc&&cs())}}function Ds(t){Vn!==null&&Vn.tag===0&&!(be&6)&&Eo();var e=be;be|=1;var r=rr.transition,n=ke;try{if(rr.transition=null,ke=1,t)return t()}finally{ke=n,rr.transition=r,be=e,!(be&6)&&cs()}}function Ch(){Ft=mo.current,Oe(mo)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,O_(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(ih(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gl();break;case 3:Uo(),Oe(Mt),Oe(gt),mh();break;case 5:ph(n);break;case 4:Uo();break;case 13:Oe(Ie);break;case 19:Oe(Ie);break;case 10:uh(n.type._context);break;case 22:case 23:Ch()}r=r.return}if(st=t,Ke=t=es(t.current,null),at=Ft=e,Je=0,ca=null,Sh=Mc=Is=0,Nt=Fi=null,ks!==null){for(e=0;e<ks.length;e++)if(r=ks[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}ks=null}return t}function w0(t,e){do{var r=Ke;try{if(ch(),Tl.current=sc,nc){for(var n=De.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}nc=!1}if($s=0,rt=Xe=De=null,Di=!1,ia=0,_h.current=null,r===null||r.return===null){Je=1,ca=e,Ke=null;break}e:{var o=t,i=r.return,a=r,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Tm(i);if(p!==null){p.flags&=-257,jm(p,i,a,o,e),p.mode&1&&Pm(o,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Pm(o,c,e),Ph();break e}l=Error(V(426))}}else if(Me&&a.mode&1){var S=Tm(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),jm(S,i,a,o,e),ah(Bo(l,a));break e}}o=l=Bo(l,a),Je!==4&&(Je=2),Fi===null?Fi=[o]:Fi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=r0(o,l,e);bm(o,x);break e;case 1:a=l;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Jn===null||!Jn.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=n0(o,a,e);bm(o,k);break e}}o=o.return}while(o!==null)}_0(r)}catch(P){e=P,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function x0(){var t=oc.current;return oc.current=sc,t===null?sc:t}function Ph(){(Je===0||Je===3||Je===2)&&(Je=4),st===null||!(Is&268435455)&&!(Mc&268435455)||In(st,at)}function lc(t,e){var r=be;be|=2;var n=x0();(st!==t||at!==e)&&(on=null,Ns(t,e));do try{sS();break}catch(s){w0(t,s)}while(!0);if(ch(),be=r,oc.current=n,Ke!==null)throw Error(V(261));return st=null,at=0,Je}function sS(){for(;Ke!==null;)b0(Ke)}function oS(){for(;Ke!==null&&!A1();)b0(Ke)}function b0(t){var e=E0(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?_0(t):Ke=e,_h.current=null}function _0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=J_(r,e),r!==null){r.flags&=32767,Ke=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ke=null;return}}else if(r=X_(r,e,Ft),r!==null){Ke=r;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Je===0&&(Je=5)}function bs(t,e,r){var n=ke,s=rr.transition;try{rr.transition=null,ke=1,iS(t,e,r,n)}finally{rr.transition=s,ke=n}return null}function iS(t,e,r,n){do Eo();while(Vn!==null);if(be&6)throw Error(V(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(F1(t,o),t===st&&(Ke=st=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ll||(ll=!0,k0(Bl,function(){return Eo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var i=ke;ke=1;var a=be;be|=4,_h.current=null,eS(t,r),g0(r,t),C_($d),Vl=!!Md,$d=Md=null,t.current=r,tS(r),R1(),be=a,ke=i,rr.transition=o}else t.current=r;if(ll&&(ll=!1,Vn=t,ac=s),o=t.pendingLanes,o===0&&(Jn=null),L1(r.stateNode),It(t,Ve()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ic)throw ic=!1,t=rf,rf=null,t;return ac&1&&t.tag!==0&&Eo(),o=t.pendingLanes,o&1?t===nf?zi++:(zi=0,nf=t):zi=0,cs(),null}function Eo(){if(Vn!==null){var t=ry(ac),e=rr.transition,r=ke;try{if(rr.transition=null,ke=16>t?16:t,Vn===null)var n=!1;else{if(t=Vn,Vn=null,ac=0,be&6)throw Error(V(331));var s=be;for(be|=4,Z=t.current;Z!==null;){var o=Z,i=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Wi(8,d,o)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var m=d.sibling,p=d.return;if(h0(d),d===c){Z=null;break}if(m!==null){m.return=p,Z=m;break}Z=p}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}Z=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Z=i;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wi(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Z=x;break e}Z=o.return}}var y=t.current;for(Z=y;Z!==null;){i=Z;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,Z=_;else e:for(i=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lc(9,a)}}catch(P){qe(a,a.return,P)}if(a===i){Z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Z=k;break e}Z=a.return}}if(be=s,cs(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Cc,t)}catch{}n=!0}return n}finally{ke=r,rr.transition=e}}return!1}function Um(t,e,r){e=Bo(r,e),e=r0(t,e,1),t=Xn(t,e,1),e=Ct(),t!==null&&(wa(t,1,e),It(t,e))}function qe(t,e,r){if(t.tag===3)Um(t,t,r);else for(;e!==null;){if(e.tag===3){Um(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jn===null||!Jn.has(n))){t=Bo(r,t),t=n0(e,t,1),e=Xn(e,t,1),t=Ct(),e!==null&&(wa(e,1,t),It(e,t));break}}e=e.return}}function aS(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&r,st===t&&(at&r)===r&&(Je===4||Je===3&&(at&130023424)===at&&500>Ve()-Eh?Ns(t,0):Sh|=r),It(t,e)}function S0(t,e){e===0&&(t.mode&1?(e=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):e=1);var r=Ct();t=mn(t,e),t!==null&&(wa(t,e,r),It(t,r))}function lS(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),S0(t,r)}function cS(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(e),S0(t,r)}var E0;E0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Lt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Lt=!1,Y_(t,e,r);Lt=!!(t.flags&131072)}else Lt=!1,Me&&e.flags&1048576&&Ty(e,Jl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Al(t,e),t=e.pendingProps;var s=Wo(e,gt.current);So(e,r),s=vh(null,e,n,t,s,r);var o=yh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(n)?(o=!0,Yl(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fh(e),s.updater=Oc,e.stateNode=s,s._reactInternals=e,Vd(e,n,t,r),e=Kd(null,e,n,!0,o,r)):(e.tag=0,Me&&o&&oh(e),St(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Al(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=dS(n),t=mr(n,t),s){case 0:e=Qd(null,e,n,t,r);break e;case 1:e=Nm(null,e,n,t,r);break e;case 11:e=Am(null,e,n,t,r);break e;case 14:e=Rm(null,e,n,mr(n.type,t),r);break e}throw Error(V(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mr(n,s),Qd(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mr(n,s),Nm(t,e,n,s,r);case 3:e:{if(a0(e),t===null)throw Error(V(387));n=e.pendingProps,o=e.memoizedState,s=o.element,Ly(t,e),tc(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Bo(Error(V(423)),e),e=Om(t,e,n,r,s);break e}else if(n!==s){s=Bo(Error(V(424)),e),e=Om(t,e,n,r,s);break e}else for(Ut=Yn(e.stateNode.containerInfo.firstChild),Bt=e,Me=!0,br=null,r=Ny(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fo(),n===s){e=gn(t,e,r);break e}St(t,e,n,r)}e=e.child}return e;case 5:return My(e),t===null&&Ud(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Id(n,s)?i=null:o!==null&&Id(n,o)&&(e.flags|=32),i0(t,e),St(t,e,i,r),e.child;case 6:return t===null&&Ud(e),null;case 13:return l0(t,e,r);case 4:return hh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zo(e,null,n,r):St(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mr(n,s),Am(t,e,n,s,r);case 7:return St(t,e,e.pendingProps,r),e.child;case 8:return St(t,e,e.pendingProps.children,r),e.child;case 12:return St(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,je(Zl,n._currentValue),n._currentValue=i,o!==null)if(kr(o.value,i)){if(o.children===s.children&&!Mt.current){e=gn(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=fn(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Bd(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(V(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Bd(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}St(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,So(e,r),s=sr(s),n=n(s),e.flags|=1,St(t,e,n,r),e.child;case 14:return n=e.type,s=mr(n,e.pendingProps),s=mr(n.type,s),Rm(t,e,n,s,r);case 15:return s0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:mr(n,s),Al(t,e),e.tag=1,$t(n)?(t=!0,Yl(e)):t=!1,So(e,r),t0(e,n,s),Vd(e,n,s,r),Kd(null,e,n,!0,t,r);case 19:return c0(t,e,r);case 22:return o0(t,e,r)}throw Error(V(156,e.tag))};function k0(t,e){return Jv(t,e)}function uS(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,r,n){return new uS(t,e,r,n)}function Th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dS(t){if(typeof t=="function")return Th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qf)return 11;if(t===Kf)return 14}return 2}function es(t,e){var r=t.alternate;return r===null?(r=tr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ol(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")Th(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case so:return Os(r.children,s,o,e);case Hf:i=8,s|=8;break;case md:return t=tr(12,r,e,s|2),t.elementType=md,t.lanes=o,t;case gd:return t=tr(13,r,e,s),t.elementType=gd,t.lanes=o,t;case vd:return t=tr(19,r,e,s),t.elementType=vd,t.lanes=o,t;case Mv:return $c(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ov:i=10;break e;case Lv:i=9;break e;case Qf:i=11;break e;case Kf:i=14;break e;case Ln:i=16,n=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=tr(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Os(t,e,r,n){return t=tr(7,t,n,e),t.lanes=r,t}function $c(t,e,r,n){return t=tr(22,t,n,e),t.elementType=Mv,t.lanes=r,t.stateNode={isHidden:!1},t}function Ku(t,e,r){return t=tr(6,t,null,e),t.lanes=r,t}function Gu(t,e,r){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fS(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ju(0),this.expirationTimes=ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jh(t,e,r,n,s,o,i,a,l){return t=new fS(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(o),t}function hS(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function C0(t){if(!t)return ns;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var r=t.type;if($t(r))return Cy(t,r,e)}return e}function P0(t,e,r,n,s,o,i,a,l){return t=jh(r,n,!0,t,s,o,i,a,l),t.context=C0(null),r=t.current,n=Ct(),s=Zn(r),o=fn(n,s),o.callback=e??null,Xn(r,o,s),t.current.lanes=s,wa(t,s,n),It(t,n),t}function Ic(t,e,r,n){var s=e.current,o=Ct(),i=Zn(s);return r=C0(r),e.context===null?e.context=r:e.pendingContext=r,e=fn(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xn(s,e,i),t!==null&&(Sr(t,s,i,o),Pl(t,s,i)),i}function cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ah(t,e){Bm(t,e),(t=t.alternate)&&Bm(t,e)}function pS(){return null}var T0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rh(t){this._internalRoot=t}Dc.prototype.render=Rh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Ic(t,e,null,null)};Dc.prototype.unmount=Rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){Ic(null,t,null,null)}),e[pn]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=oy();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$n.length&&e!==0&&e<$n[r].priority;r++);$n.splice(r,0,t),r===0&&ay(t)}};function Nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qm(){}function mS(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var c=cc(i);o.call(c)}}var i=P0(e,n,t,0,null,!1,!1,"",qm);return t._reactRootContainer=i,t[pn]=i.current,ta(t.nodeType===8?t.parentNode:t),Ds(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=cc(l);a.call(c)}}var l=jh(t,0,!1,null,null,!1,!1,"",qm);return t._reactRootContainer=l,t[pn]=l.current,ta(t.nodeType===8?t.parentNode:t),Ds(function(){Ic(e,l,r,n)}),l}function Fc(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=cc(i);a.call(l)}}Ic(e,i,t,s)}else i=mS(r,e,t,s,n);return cc(i)}ny=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ji(e.pendingLanes);r!==0&&(Xf(e,r|1),It(e,Ve()),!(be&6)&&(qo=Ve()+500,cs()))}break;case 13:Ds(function(){var n=mn(t,1);if(n!==null){var s=Ct();Sr(n,t,1,s)}}),Ah(t,1)}};Jf=function(t){if(t.tag===13){var e=mn(t,134217728);if(e!==null){var r=Ct();Sr(e,t,134217728,r)}Ah(t,134217728)}};sy=function(t){if(t.tag===13){var e=Zn(t),r=mn(t,e);if(r!==null){var n=Ct();Sr(r,t,e,n)}Ah(t,e)}};oy=function(){return ke};iy=function(t,e){var r=ke;try{return ke=t,e()}finally{ke=r}};Pd=function(t,e,r){switch(e){case"input":if(xd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ac(n);if(!s)throw Error(V(90));Iv(n),xd(n,s)}}}break;case"textarea":Wv(t,r);break;case"select":e=r.value,e!=null&&wo(t,!!r.multiple,e,!1)}};Hv=kh;Qv=Ds;var gS={usingClientEntryPoint:!1,Events:[ba,lo,Ac,qv,Vv,kh]},bi={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vS={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yv(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||pS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Cc=cl.inject(vS),Qr=cl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gS;Qt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nh(e))throw Error(V(200));return hS(t,e,null,r)};Qt.createRoot=function(t,e){if(!Nh(t))throw Error(V(299));var r=!1,n="",s=T0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=jh(t,1,!1,null,null,r,!1,n,s),t[pn]=e.current,ta(t.nodeType===8?t.parentNode:t),new Rh(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=Yv(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return Ds(t)};Qt.hydrate=function(t,e,r){if(!Wc(e))throw Error(V(200));return Fc(null,t,e,!0,r)};Qt.hydrateRoot=function(t,e,r){if(!Nh(t))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=T0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=P0(e,null,t,1,r??null,s,!1,o,i),t[pn]=e.current,ta(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Dc(e)};Qt.render=function(t,e,r){if(!Wc(e))throw Error(V(200));return Fc(null,t,e,!1,r)};Qt.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(V(40));return t._reactRootContainer?(Ds(function(){Fc(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};Qt.unstable_batchedUpdates=kh;Qt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wc(r))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Fc(t,e,r,!1,n)};Qt.version="18.3.1-next-f1338f8080-20240426";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(t){console.error(t)}}j0(),jv.exports=Qt;var Sa=jv.exports;const A0=Df(Sa);var R0,Vm=Sa;R0=Vm.createRoot,Vm.hydrateRoot;const yS=1,wS=3e3;let Yu=0;function xS(){return Yu=(Yu+1)%Number.MAX_SAFE_INTEGER,Yu.toString()}const Xu=new Map,Hm=t=>{if(Xu.has(t))return;const e=setTimeout(()=>{Xu.delete(t),Ui({type:"REMOVE_TOAST",toastId:t})},wS);Xu.set(t,e)},bS=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yS)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Hm(r):t.toasts.forEach(n=>{Hm(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Ll=[];let Ml={toasts:[]};function Ui(t){Ml=bS(Ml,t),Ll.forEach(e=>{e(Ml)})}function _S({...t}){const e=xS(),r=s=>Ui({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Ui({type:"DISMISS_TOAST",toastId:e});return Ui({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function zc(){const[t,e]=E.useState(Ml);return E.useEffect(()=>(Ll.push(e),()=>{const r=Ll.indexOf(e);r>-1&&Ll.splice(r,1)}),[t]),{...t,toast:_S,dismiss:r=>Ui({type:"DISMISS_TOAST",toastId:r})}}function Te(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Qm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function N0(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Qm(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Qm(t[s],null)}}}}function ct(...t){return E.useCallback(N0(...t),t)}function Zo(t,e=[]){let r=[];function n(o,i){const a=E.createContext(i),l=r.length;r=[...r,i];const c=f=>{var x;const{scope:m,children:p,...w}=f,v=((x=m==null?void 0:m[t])==null?void 0:x[l])||a,S=E.useMemo(()=>w,Object.values(w));return g.jsx(v.Provider,{value:S,children:p})};c.displayName=o+"Provider";function d(f,m){var v;const p=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,w=E.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=r.map(i=>E.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,SS(s,...e)]}function SS(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function uc(t){const e=kS(t),r=E.forwardRef((n,s)=>{const{children:o,...i}=n,a=E.Children.toArray(o),l=a.find(PS);if(l){const c=l.props.children,d=a.map(f=>f===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:f);return g.jsx(e,{...i,ref:s,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return g.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var ES=uc("Slot");function kS(t){const e=E.forwardRef((r,n)=>{const{children:s,...o}=r;if(E.isValidElement(s)){const i=jS(s),a=TS(o,s.props);return s.type!==E.Fragment&&(a.ref=n?N0(n,i):i),E.cloneElement(s,a)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var O0=Symbol("radix.slottable");function CS(t){const e=({children:r})=>g.jsx(g.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=O0,e}function PS(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===O0}function TS(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function jS(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function AS(t){const e=t+"CollectionProvider",[r,n]=Zo(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:S,children:x}=v,y=H.useRef(null),_=H.useRef(new Map).current;return g.jsx(s,{scope:S,itemMap:_,collectionRef:y,children:x})};i.displayName=e;const a=t+"CollectionSlot",l=uc(a),c=H.forwardRef((v,S)=>{const{scope:x,children:y}=v,_=o(a,x),k=ct(S,_.collectionRef);return g.jsx(l,{ref:k,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=uc(d),p=H.forwardRef((v,S)=>{const{scope:x,children:y,..._}=v,k=H.useRef(null),P=ct(S,k),j=o(d,x);return H.useEffect(()=>(j.itemMap.set(k,{ref:k,..._}),()=>void j.itemMap.delete(k))),g.jsx(m,{[f]:"",ref:P,children:y})});p.displayName=d;function w(v){const S=o(t+"CollectionConsumer",v);return H.useCallback(()=>{const y=S.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((j,T)=>_.indexOf(j.ref.current)-_.indexOf(T.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},w,n]}var RS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=RS.reduce((t,e)=>{const r=uc(`Primitive.${e}`),n=E.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function L0(t,e){t&&Sa.flushSync(()=>t.dispatchEvent(e))}function kt(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function NS(t,e=globalThis==null?void 0:globalThis.document){const r=kt(t);E.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var OS="DismissableLayer",af="dismissableLayer.update",LS="dismissableLayer.pointerDownOutside",MS="dismissableLayer.focusOutside",Km,M0=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oh=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,c=E.useContext(M0),[d,f]=E.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=E.useState({}),w=ct(e,T=>f(T)),v=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(S),y=d?v.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,k=y>=x,P=IS(T=>{const N=T.target,R=[...c.branches].some(O=>O.contains(N));!k||R||(s==null||s(T),i==null||i(T),T.defaultPrevented||a==null||a())},m),j=DS(T=>{const N=T.target;[...c.branches].some(O=>O.contains(N))||(o==null||o(T),i==null||i(T),T.defaultPrevented||a==null||a())},m);return NS(T=>{y===c.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},m),E.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Km=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Gm(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Km)}},[d,m,r,c]),E.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Gm())},[d,c]),E.useEffect(()=>{const T=()=>p({});return document.addEventListener(af,T),()=>document.removeEventListener(af,T)},[]),g.jsx(He.div,{...l,ref:w,style:{pointerEvents:_?k?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,P.onPointerDownCapture)})});Oh.displayName=OS;var $S="DismissableLayerBranch",$0=E.forwardRef((t,e)=>{const r=E.useContext(M0),n=E.useRef(null),s=ct(e,n);return E.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),g.jsx(He.div,{...t,ref:s})});$0.displayName=$S;function IS(t,e=globalThis==null?void 0:globalThis.document){const r=kt(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){I0(LS,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function DS(t,e=globalThis==null?void 0:globalThis.document){const r=kt(t),n=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!n.current&&I0(MS,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Gm(){const t=new CustomEvent(af);document.dispatchEvent(t)}function I0(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?L0(s,o):s.dispatchEvent(o)}var WS=Oh,FS=$0,vn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},zS="Portal",D0=E.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,o]=E.useState(!1);vn(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?A0.createPortal(g.jsx(He.div,{...n,ref:e}),i):null});D0.displayName=zS;function US(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var Bs=t=>{const{present:e,children:r}=t,n=BS(e),s=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),o=ct(n.ref,qS(s));return typeof r=="function"||n.isPresent?E.cloneElement(s,{ref:o}):null};Bs.displayName="Presence";function BS(t){const[e,r]=E.useState(),n=E.useRef(null),s=E.useRef(t),o=E.useRef("none"),i=t?"mounted":"unmounted",[a,l]=US(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=ul(n.current);o.current=a==="mounted"?c:"none"},[a]),vn(()=>{const c=n.current,d=s.current;if(d!==t){const m=o.current,p=ul(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),vn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const v=ul(n.current).includes(CSS.escape(p.animationName));if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=p=>{p.target===e&&(o.current=ul(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function ul(t){return(t==null?void 0:t.animationName)||"none"}function qS(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var VS=Pv[" useInsertionEffect ".trim().toString()]||vn;function HS({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,i]=QS({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const d=E.useRef(t!==void 0);E.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const c=E.useCallback(d=>{var f;if(a){const m=KS(d)?d(t):d;m!==t&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,t,o,i]);return[l,c]}function QS({defaultProp:t,onChange:e}){const[r,n]=E.useState(t),s=E.useRef(r),o=E.useRef(e);return VS(()=>{o.current=e},[e]),E.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function KS(t){return typeof t=="function"}var GS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YS="VisuallyHidden",Uc=E.forwardRef((t,e)=>g.jsx(He.span,{...t,ref:e,style:{...GS,...t.style}}));Uc.displayName=YS;var XS=Uc,Lh="ToastProvider",[Mh,JS,ZS]=AS("Toast"),[W0,dN]=Zo("Toast",[ZS]),[eE,Bc]=W0(Lh),F0=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=E.useState(null),[c,d]=E.useState(0),f=E.useRef(!1),m=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lh}\`. Expected non-empty \`string\`.`),g.jsx(Mh.Provider,{scope:e,children:g.jsx(eE,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>d(p=>p+1),[]),onToastRemove:E.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};F0.displayName=Lh;var z0="ToastViewport",tE=["F8"],lf="toast.viewportPause",cf="toast.viewportResume",U0=E.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=tE,label:s="Notifications ({hotkey})",...o}=t,i=Bc(z0,r),a=JS(r),l=E.useRef(null),c=E.useRef(null),d=E.useRef(null),f=E.useRef(null),m=ct(e,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;E.useEffect(()=>{const S=x=>{var _;n.length!==0&&n.every(k=>x[k]||x.code===k)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),E.useEffect(()=>{const S=l.current,x=f.current;if(w&&S&&x){const y=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(lf);x.dispatchEvent(j),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(cf);x.dispatchEvent(j),i.isClosePausedRef.current=!1}},k=j=>{!S.contains(j.relatedTarget)&&_()},P=()=>{S.contains(document.activeElement)||_()};return S.addEventListener("focusin",y),S.addEventListener("focusout",k),S.addEventListener("pointermove",y),S.addEventListener("pointerleave",P),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{S.removeEventListener("focusin",y),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",y),S.removeEventListener("pointerleave",P),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[w,i.isClosePausedRef]);const v=E.useCallback(({tabbingDirection:S})=>{const y=a().map(_=>{const k=_.ref.current,P=[k,...pE(k)];return S==="forwards"?P:P.reverse()});return(S==="forwards"?y.reverse():y).flat()},[a]);return E.useEffect(()=>{const S=f.current;if(S){const x=y=>{var P,j,T;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const N=document.activeElement,R=y.shiftKey;if(y.target===S&&R){(P=c.current)==null||P.focus();return}const I=v({tabbingDirection:R?"backwards":"forwards"}),U=I.findIndex(D=>D===N);Ju(I.slice(U+1))?y.preventDefault():R?(j=c.current)==null||j.focus():(T=d.current)==null||T.focus()}};return S.addEventListener("keydown",x),()=>S.removeEventListener("keydown",x)}},[a,v]),g.jsxs(FS,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&g.jsx(uf,{ref:c,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"forwards"});Ju(S)}}),g.jsx(Mh.Slot,{scope:r,children:g.jsx(He.ol,{tabIndex:-1,...o,ref:m})}),w&&g.jsx(uf,{ref:d,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"backwards"});Ju(S)}})]})});U0.displayName=z0;var B0="ToastFocusProxy",uf=E.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Bc(B0,r);return g.jsx(Uc,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&n()}})});uf.displayName=B0;var Ea="Toast",rE="toast.swipeStart",nE="toast.swipeMove",sE="toast.swipeCancel",oE="toast.swipeEnd",q0=E.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[a,l]=HS({prop:n,defaultProp:s??!0,onChange:o,caller:Ea});return g.jsx(Bs,{present:r||a,children:g.jsx(lE,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:kt(t.onPause),onResume:kt(t.onResume),onSwipeStart:Te(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Te(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});q0.displayName=Ea;var[iE,aE]=W0(Ea,{onClose(){}}),lE=E.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...w}=t,v=Bc(Ea,r),[S,x]=E.useState(null),y=ct(e,D=>x(D)),_=E.useRef(null),k=E.useRef(null),P=s||v.duration,j=E.useRef(0),T=E.useRef(P),N=E.useRef(0),{onToastAdd:R,onToastRemove:O}=v,$=kt(()=>{var K;(S==null?void 0:S.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),i()}),I=E.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),j.current=new Date().getTime(),N.current=window.setTimeout($,D))},[$]);E.useEffect(()=>{const D=v.viewport;if(D){const K=()=>{I(T.current),c==null||c()},Q=()=>{const X=new Date().getTime()-j.current;T.current=T.current-X,window.clearTimeout(N.current),l==null||l()};return D.addEventListener(lf,Q),D.addEventListener(cf,K),()=>{D.removeEventListener(lf,Q),D.removeEventListener(cf,K)}}},[v.viewport,P,l,c,I]),E.useEffect(()=>{o&&!v.isClosePausedRef.current&&I(P)},[o,P,v.isClosePausedRef,I]),E.useEffect(()=>(R(),()=>O()),[R,O]);const U=E.useMemo(()=>S?X0(S):null,[S]);return v.viewport?g.jsxs(g.Fragment,{children:[U&&g.jsx(cE,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:U}),g.jsx(iE,{scope:r,onClose:$,children:Sa.createPortal(g.jsx(Mh.ItemSlot,{scope:r,children:g.jsx(WS,{asChild:!0,onEscapeKeyDown:Te(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||$(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(He.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Te(t.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Te(t.onPointerDown,D=>{D.button===0&&(_.current={x:D.clientX,y:D.clientY})}),onPointerMove:Te(t.onPointerMove,D=>{if(!_.current)return;const K=D.clientX-_.current.x,Q=D.clientY-_.current.y,X=!!k.current,W=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=W?B(0,K):0,se=W?0:B(0,Q),J=D.pointerType==="touch"?10:2,ie={x:Y,y:se},he={originalEvent:D,delta:ie};X?(k.current=ie,dl(nE,f,he,{discrete:!1})):Ym(ie,v.swipeDirection,J)?(k.current=ie,dl(rE,d,he,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(K)>J||Math.abs(Q)>J)&&(_.current=null)}),onPointerUp:Te(t.onPointerUp,D=>{const K=k.current,Q=D.target;if(Q.hasPointerCapture(D.pointerId)&&Q.releasePointerCapture(D.pointerId),k.current=null,_.current=null,K){const X=D.currentTarget,W={originalEvent:D,delta:K};Ym(K,v.swipeDirection,v.swipeThreshold)?dl(oE,p,W,{discrete:!0}):dl(sE,m,W,{discrete:!0}),X.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cE=t=>{const{__scopeToast:e,children:r,...n}=t,s=Bc(Ea,e),[o,i]=E.useState(!1),[a,l]=E.useState(!1);return fE(()=>i(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(D0,{asChild:!0,children:g.jsx(Uc,{...n,children:o&&g.jsxs(g.Fragment,{children:[s.label," ",r]})})})},uE="ToastTitle",V0=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return g.jsx(He.div,{...n,ref:e})});V0.displayName=uE;var dE="ToastDescription",H0=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return g.jsx(He.div,{...n,ref:e})});H0.displayName=dE;var Q0="ToastAction",K0=E.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?g.jsx(Y0,{altText:r,asChild:!0,children:g.jsx($h,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Q0}\`. Expected non-empty \`string\`.`),null)});K0.displayName=Q0;var G0="ToastClose",$h=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=aE(G0,r);return g.jsx(Y0,{asChild:!0,children:g.jsx(He.button,{type:"button",...n,ref:e,onClick:Te(t.onClick,s.onClose)})})});$h.displayName=G0;var Y0=E.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return g.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function X0(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),hE(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...X0(n))}}),e}function dl(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?L0(s,o):s.dispatchEvent(o)}var Ym=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function fE(t=()=>{}){const e=kt(t);vn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function hE(t){return t.nodeType===t.ELEMENT_NODE}function pE(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ju(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var mE=F0,J0=U0,Z0=q0,ew=V0,tw=H0,rw=K0,nw=$h;function sw(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=sw(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ow(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=sw(t))&&(n&&(n+=" "),n+=e);return n}const Xm=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Jm=ow,iw=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Jm(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=o==null?void 0:o[c];if(d===null)return null;const m=Xm(d)||Xm(f);return s[c][m]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(w=>{let[v,S]=w;return Array.isArray(S)?S.includes({...o,...a}[v]):{...o,...a}[v]===S})?[...c,f,m]:c},[]);return Jm(t,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aw=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>E.createElement("svg",{ref:l,...vE,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:aw("lucide",s),...a},[...i.map(([c,d])=>E.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const r=E.forwardRef(({className:n,...s},o)=>E.createElement(yE,{ref:o,iconNode:e,className:aw(`lucide-${gE(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=ot("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ot("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ot("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=ot("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=ot("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ot("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=ot("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=ot("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=ot("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ih="-",jE=t=>{const e=RE(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(Ih);return a[0]===""&&a.length!==1&&a.shift(),uw(a,e)||AE(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},uw=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?uw(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Ih);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},eg=/^\[(.+)\]$/,AE=t=>{if(eg.test(t)){const e=eg.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},RE=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return OE(Object.entries(t.classGroups),r).forEach(([o,i])=>{df(i,n,o,e)}),n},df=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:tg(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(NE(s)){df(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{df(i,tg(e,o),r,n)})})},tg=(t,e)=>{let r=t;return e.split(Ih).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},NE=t=>t.isThemeGetter,OE=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t,LE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},dw="!",ME=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let c=0,d=0,f;for(let S=0;S<a.length;S++){let x=a[S];if(c===0){if(x===s&&(n||a.slice(S,S+o)===e)){l.push(a.slice(d,S)),d=S+o;continue}if(x==="/"){f=S;continue}}x==="["?c++:x==="]"&&c--}const m=l.length===0?a:a.substring(d),p=m.startsWith(dw),w=p?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:i}):i},$E=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},IE=t=>({cache:LE(t.cacheSize),parseClassName:ME(t),...jE(t)}),DE=/\s+/,WE=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(DE);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(c);let w=!!p,v=n(w?m.substring(0,p):m);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=n(m),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const S=$E(d).join(":"),x=f?S+dw:S,y=x+v;if(o.includes(y))continue;o.push(y);const _=s(v,w);for(let k=0;k<_.length;++k){const P=_[k];o.push(x+P)}a=c+(a.length>0?" "+a:a)}return a};function FE(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=fw(e))&&(n&&(n+=" "),n+=r);return n}const fw=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=fw(t[n]))&&(r&&(r+=" "),r+=e);return r};function zE(t,...e){let r,n,s,o=i;function i(l){const c=e.reduce((d,f)=>f(d),t());return r=IE(c),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=WE(l,r);return s(l,d),d}return function(){return o(FE.apply(null,arguments))}}const Re=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},hw=/^\[(?:([a-z-]+):)?(.+)\]$/i,UE=/^\d+\/\d+$/,BE=new Set(["px","full","screen"]),qE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rn=t=>Co(t)||BE.has(t)||UE.test(t),Pn=t=>ei(t,"length",rk),Co=t=>!!t&&!Number.isNaN(Number(t)),ed=t=>ei(t,"number",Co),_i=t=>!!t&&Number.isInteger(Number(t)),GE=t=>t.endsWith("%")&&Co(t.slice(0,-1)),de=t=>hw.test(t),Tn=t=>qE.test(t),YE=new Set(["length","size","percentage"]),XE=t=>ei(t,YE,pw),JE=t=>ei(t,"position",pw),ZE=new Set(["image","url"]),ek=t=>ei(t,ZE,sk),tk=t=>ei(t,"",nk),Si=()=>!0,ei=(t,e,r)=>{const n=hw.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},rk=t=>VE.test(t)&&!HE.test(t),pw=()=>!1,nk=t=>QE.test(t),sk=t=>KE.test(t),ok=()=>{const t=Re("colors"),e=Re("spacing"),r=Re("blur"),n=Re("brightness"),s=Re("borderColor"),o=Re("borderRadius"),i=Re("borderSpacing"),a=Re("borderWidth"),l=Re("contrast"),c=Re("grayscale"),d=Re("hueRotate"),f=Re("invert"),m=Re("gap"),p=Re("gradientColorStops"),w=Re("gradientColorStopPositions"),v=Re("inset"),S=Re("margin"),x=Re("opacity"),y=Re("padding"),_=Re("saturate"),k=Re("scale"),P=Re("sepia"),j=Re("skew"),T=Re("space"),N=Re("translate"),R=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",de,e],I=()=>[de,e],U=()=>["",rn,Pn],D=()=>["auto",Co,de],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",de],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Co,de];return{cacheSize:500,separator:":",theme:{colors:[Si],spacing:[rn,Pn],blur:["none","",Tn,de],brightness:se(),borderColor:[t],borderRadius:["none","","full",Tn,de],borderSpacing:I(),borderWidth:U(),contrast:se(),grayscale:B(),hueRotate:se(),invert:B(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[GE,Pn],inset:$(),margin:$(),opacity:se(),padding:I(),saturate:se(),scale:se(),sepia:B(),skew:se(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Tn]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),de]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_i,de]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",_i,de]}],"grid-cols":[{"grid-cols":[Si]}],"col-start-end":[{col:["auto",{span:["full",_i,de]},de]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Si]}],"row-start-end":[{row:["auto",{span:[_i,de]},de]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[Tn]},Tn]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Tn,Pn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ed]}],"font-family":[{font:[Si]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Co,ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rn,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rn,Pn]}],"underline-offset":[{"underline-offset":["auto",rn,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),JE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ek]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[rn,de]}],"outline-w":[{outline:[rn,Pn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[rn,Pn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Tn,tk]}],"shadow-color":[{shadow:[Si]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Tn,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[_i,de]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rn,Pn,ed]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ik=zE(ok);function Ht(...t){return ik(ow(t))}const ak=mE,mw=E.forwardRef(({className:t,...e},r)=>g.jsx(J0,{ref:r,className:Ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));mw.displayName=J0.displayName;const lk=iw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gw=E.forwardRef(({className:t,variant:e,...r},n)=>g.jsx(Z0,{ref:n,className:Ht(lk({variant:e}),t),...r}));gw.displayName=Z0.displayName;const ck=E.forwardRef(({className:t,...e},r)=>g.jsx(rw,{ref:r,className:Ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ck.displayName=rw.displayName;const vw=E.forwardRef(({className:t,...e},r)=>g.jsx(nw,{ref:r,className:Ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(Ws,{className:"h-4 w-4"})}));vw.displayName=nw.displayName;const yw=E.forwardRef(({className:t,...e},r)=>g.jsx(ew,{ref:r,className:Ht("text-sm font-semibold",t),...e}));yw.displayName=ew.displayName;const ww=E.forwardRef(({className:t,...e},r)=>g.jsx(tw,{ref:r,className:Ht("text-sm opacity-90",t),...e}));ww.displayName=tw.displayName;function uk(){const{toasts:t}=zc();return g.jsxs(ak,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return g.jsxs(gw,{...o,children:[g.jsxs("div",{className:"grid gap-1",children:[r&&g.jsx(yw,{children:r}),n&&g.jsx(ww,{children:n})]}),s,g.jsx(vw,{})]},e)}),g.jsx(mw,{className:"fixed bottom-4 inset-x-0 mx-auto z-[100] flex max-h-screen w-full max-w-[320px] flex-col-reverse p-4 sm:flex-col"})]})}var rg=["light","dark"],dk="(prefers-color-scheme: dark)",fk=E.createContext(void 0),hk={setTheme:t=>{},themes:[]},pk=()=>{var t;return(t=E.useContext(fk))!=null?t:hk};E.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?rg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,v=!1,S=!0)=>{let x=i?i[w]:w,y=v?w+"|| ''":`'${x}'`,_="";return s&&S&&!v&&rg.includes(w)&&(_+=`d.style.colorScheme = '${w}';`),r==="class"?v||x?_+=`c.add(${y})`:_+="null":x&&(_+=`d[s](n,${y})`),_},p=t?`!function(){${d}${m(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${dk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${c?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return E.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var mk=t=>{switch(t){case"success":return yk;case"info":return xk;case"warning":return wk;case"error":return bk;default:return null}},gk=Array(12).fill(0),vk=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},gk.map((r,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),yk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_k=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Sk=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},ff=1,Ek=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ff++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,i=n.then(async l=>{if(o=["resolve",l],H.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(Ck(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||ff++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Rt=new Ek,kk=(t,e)=>{let r=(e==null?void 0:e.id)||ff++;return Rt.addToast({title:t,...e,id:r}),r},Ck=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Pk=kk,Tk=()=>Rt.toasts,jk=()=>Rt.getActiveToasts(),Qe=Object.assign(Pk,{success:Rt.success,info:Rt.info,warning:Rt.warning,error:Rt.error,custom:Rt.custom,message:Rt.message,promise:Rt.promise,dismiss:Rt.dismiss,loading:Rt.loading},{getHistory:Tk,getToasts:jk});function Ak(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Ak(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fl(t){return t.label!==void 0}var Rk=3,Nk="32px",Ok="16px",ng=4e3,Lk=356,Mk=14,$k=20,Ik=200;function hr(...t){return t.filter(Boolean).join(" ")}function Dk(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var Wk=t=>{var e,r,n,s,o,i,a,l,c,d,f;let{invert:m,toast:p,unstyled:w,interacting:v,setHeights:S,visibleToasts:x,heights:y,index:_,toasts:k,expanded:P,removeToast:j,defaultRichColors:T,closeButton:N,style:R,cancelButtonStyle:O,actionButtonStyle:$,className:I="",descriptionClassName:U="",duration:D,position:K,gap:Q,loadingIcon:X,expandByDefault:W,classNames:B,icons:Y,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:J}=t,[ie,he]=H.useState(null),[Fe,Ze]=H.useState(null),[ye,en]=H.useState(!1),[ar,Tr]=H.useState(!1),[jr,ut]=H.useState(!1),[Gt,Ar]=H.useState(!1),[Vs,Ce]=H.useState(!1),[ds,bn]=H.useState(0),[Rr,oi]=H.useState(0),Nr=H.useRef(p.duration||D||ng),Ta=H.useRef(null),Or=H.useRef(null),cu=_===0,ii=_+1<=x,et=p.type,dt=p.dismissible!==!1,ja=p.className||"",Aa=p.descriptionClassName||"",fs=H.useMemo(()=>y.findIndex(ae=>ae.toastId===p.id)||0,[y,p.id]),uu=H.useMemo(()=>{var ae;return(ae=p.closeButton)!=null?ae:N},[p.closeButton,N]),Ra=H.useMemo(()=>p.duration||D||ng,[p.duration,D]),ai=H.useRef(0),oe=H.useRef(0),li=H.useRef(0),Lr=H.useRef(null),[Na,_n]=K.split("-"),Oa=H.useMemo(()=>y.reduce((ae,Se,me)=>me>=fs?ae:ae+Se.height,0),[y,fs]),lr=Sk(),La=p.invert||m,Hs=et==="loading";oe.current=H.useMemo(()=>fs*Q+Oa,[fs,Oa]),H.useEffect(()=>{Nr.current=Ra},[Ra]),H.useEffect(()=>{en(!0)},[]),H.useEffect(()=>{let ae=Or.current;if(ae){let Se=ae.getBoundingClientRect().height;return oi(Se),S(me=>[{toastId:p.id,height:Se,position:p.position},...me]),()=>S(me=>me.filter(vt=>vt.toastId!==p.id))}},[S,p.id]),H.useLayoutEffect(()=>{if(!ye)return;let ae=Or.current,Se=ae.style.height;ae.style.height="auto";let me=ae.getBoundingClientRect().height;ae.style.height=Se,oi(me),S(vt=>vt.find(yt=>yt.toastId===p.id)?vt.map(yt=>yt.toastId===p.id?{...yt,height:me}:yt):[{toastId:p.id,height:me,position:p.position},...vt])},[ye,p.title,p.description,S,p.id]);let cr=H.useCallback(()=>{Tr(!0),bn(oe.current),S(ae=>ae.filter(Se=>Se.toastId!==p.id)),setTimeout(()=>{j(p)},Ik)},[p,j,S,oe]);H.useEffect(()=>{if(p.promise&&et==="loading"||p.duration===1/0||p.type==="loading")return;let ae;return P||v||J&&lr?(()=>{if(li.current<ai.current){let Se=new Date().getTime()-ai.current;Nr.current=Nr.current-Se}li.current=new Date().getTime()})():Nr.current!==1/0&&(ai.current=new Date().getTime(),ae=setTimeout(()=>{var Se;(Se=p.onAutoClose)==null||Se.call(p,p),cr()},Nr.current)),()=>clearTimeout(ae)},[P,v,p,et,J,lr,cr]),H.useEffect(()=>{p.delete&&cr()},[cr,p.delete]);function G(){var ae,Se,me;return Y!=null&&Y.loading?H.createElement("div",{className:hr(B==null?void 0:B.loader,(ae=p==null?void 0:p.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":et==="loading"},Y.loading):X?H.createElement("div",{className:hr(B==null?void 0:B.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":et==="loading"},X):H.createElement(vk,{className:hr(B==null?void 0:B.loader,(me=p==null?void 0:p.classNames)==null?void 0:me.loader),visible:et==="loading"})}return H.createElement("li",{tabIndex:0,ref:Or,className:hr(I,ja,B==null?void 0:B.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[et],(r=p==null?void 0:p.classNames)==null?void 0:r[et]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:T,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":ye,"data-promise":!!p.promise,"data-swiped":Vs,"data-removed":ar,"data-visible":ii,"data-y-position":Na,"data-x-position":_n,"data-index":_,"data-front":cu,"data-swiping":jr,"data-dismissible":dt,"data-type":et,"data-invert":La,"data-swipe-out":Gt,"data-swipe-direction":Fe,"data-expanded":!!(P||W&&ye),style:{"--index":_,"--toasts-before":_,"--z-index":k.length-_,"--offset":`${ar?ds:oe.current}px`,"--initial-height":W?"auto":`${Rr}px`,...R,...p.style},onDragEnd:()=>{ut(!1),he(null),Lr.current=null},onPointerDown:ae=>{Hs||!dt||(Ta.current=new Date,bn(oe.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(ut(!0),Lr.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Se,me,vt;if(Gt||!dt)return;Lr.current=null;let yt=Number(((ae=Or.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yt=Number(((Se=Or.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wt=new Date().getTime()-((me=Ta.current)==null?void 0:me.getTime()),jt=ie==="x"?yt:Yt,$e=Math.abs(jt)/wt;if(Math.abs(jt)>=$k||$e>.11){bn(oe.current),(vt=p.onDismiss)==null||vt.call(p,p),Ze(ie==="x"?yt>0?"right":"left":Yt>0?"down":"up"),cr(),Ar(!0),Ce(!1);return}ut(!1),he(null)},onPointerMove:ae=>{var Se,me,vt,yt;if(!Lr.current||!dt||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let Yt=ae.clientY-Lr.current.y,wt=ae.clientX-Lr.current.x,jt=(me=t.swipeDirections)!=null?me:Dk(K);!ie&&(Math.abs(wt)>1||Math.abs(Yt)>1)&&he(Math.abs(wt)>Math.abs(Yt)?"x":"y");let $e={x:0,y:0};ie==="y"?(jt.includes("top")||jt.includes("bottom"))&&(jt.includes("top")&&Yt<0||jt.includes("bottom")&&Yt>0)&&($e.y=Yt):ie==="x"&&(jt.includes("left")||jt.includes("right"))&&(jt.includes("left")&&wt<0||jt.includes("right")&&wt>0)&&($e.x=wt),(Math.abs($e.x)>0||Math.abs($e.y)>0)&&Ce(!0),(vt=Or.current)==null||vt.style.setProperty("--swipe-amount-x",`${$e.x}px`),(yt=Or.current)==null||yt.style.setProperty("--swipe-amount-y",`${$e.y}px`)}},uu&&!p.jsx?H.createElement("button",{"aria-label":se,"data-disabled":Hs,"data-close-button":!0,onClick:Hs||!dt?()=>{}:()=>{var ae;cr(),(ae=p.onDismiss)==null||ae.call(p,p)},className:hr(B==null?void 0:B.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=Y==null?void 0:Y.close)!=null?o:_k):null,p.jsx||E.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,et||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:hr(B==null?void 0:B.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||G():null,p.type!=="loading"?p.icon||(Y==null?void 0:Y[et])||mk(et):null):null,H.createElement("div",{"data-content":"",className:hr(B==null?void 0:B.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:hr(B==null?void 0:B.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:hr(U,Aa,B==null?void 0:B.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),E.isValidElement(p.cancel)?p.cancel:p.cancel&&fl(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:ae=>{var Se,me;fl(p.cancel)&&dt&&((me=(Se=p.cancel).onClick)==null||me.call(Se,ae),cr())},className:hr(B==null?void 0:B.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,E.isValidElement(p.action)?p.action:p.action&&fl(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||$,onClick:ae=>{var Se,me;fl(p.action)&&((me=(Se=p.action).onClick)==null||me.call(Se,ae),!ae.defaultPrevented&&cr())},className:hr(B==null?void 0:B.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function sg(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Fk(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?Ok:Nk;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${i}-${c}`]=a:r[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var zk=E.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:w=Rk,toastOptions:v,dir:S=sg(),gap:x=Mk,loadingIcon:y,icons:_,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:P}=t,[j,T]=H.useState([]),N=H.useMemo(()=>Array.from(new Set([n].concat(j.filter(J=>J.position).map(J=>J.position)))),[j,n]),[R,O]=H.useState([]),[$,I]=H.useState(!1),[U,D]=H.useState(!1),[K,Q]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=H.useRef(null),W=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=H.useRef(null),Y=H.useRef(!1),se=H.useCallback(J=>{T(ie=>{var he;return(he=ie.find(Fe=>Fe.id===J.id))!=null&&he.delete||Rt.dismiss(J.id),ie.filter(({id:Fe})=>Fe!==J.id)})},[]);return H.useEffect(()=>Rt.subscribe(J=>{if(J.dismiss){T(ie=>ie.map(he=>he.id===J.id?{...he,delete:!0}:he));return}setTimeout(()=>{A0.flushSync(()=>{T(ie=>{let he=ie.findIndex(Fe=>Fe.id===J.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...J},...ie.slice(he+1)]:[J,...ie]})})})}),[]),H.useEffect(()=>{if(d!=="system"){Q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ie})=>{Q(ie?"dark":"light")})}catch{J.addListener(({matches:he})=>{try{Q(he?"dark":"light")}catch(Fe){console.error(Fe)}})}},[d]),H.useEffect(()=>{j.length<=1&&I(!1)},[j]),H.useEffect(()=>{let J=ie=>{var he,Fe;s.every(Ze=>ie[Ze]||ie.code===Ze)&&(I(!0),(he=X.current)==null||he.focus()),ie.code==="Escape"&&(document.activeElement===X.current||(Fe=X.current)!=null&&Fe.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[s]),H.useEffect(()=>{if(X.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,Y.current=!1)}},[X.current]),H.createElement("section",{ref:e,"aria-label":`${k} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((J,ie)=>{var he;let[Fe,Ze]=J.split("-");return j.length?H.createElement("ol",{key:J,dir:S==="auto"?sg():S,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Fe,"data-lifted":$&&j.length>1&&!o,"data-x-position":Ze,style:{"--front-toast-height":`${((he=R[0])==null?void 0:he.height)||0}px`,"--width":`${Lk}px`,"--gap":`${x}px`,...p,...Fk(l,c)},onBlur:ye=>{Y.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(Y.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,B.current=ye.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{U||I(!1)},onDragEnd:()=>I(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},j.filter(ye=>!ye.position&&ie===0||ye.position===J).map((ye,en)=>{var ar,Tr;return H.createElement(Wk,{key:ye.id,icons:_,index:en,toast:ye,defaultRichColors:f,duration:(ar=v==null?void 0:v.duration)!=null?ar:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Tr=v==null?void 0:v.closeButton)!=null?Tr:i,interacting:U,position:J,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:se,toasts:j.filter(jr=>jr.position==ye.position),heights:R.filter(jr=>jr.position==ye.position),setHeights:O,expandByDefault:o,gap:x,loadingIcon:y,expanded:$,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const Uk=({...t})=>{const{theme:e="system"}=pk();return g.jsx(zk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},Bk=["top","right","bottom","left"],ss=Math.min,zt=Math.max,dc=Math.round,hl=Math.floor,Gr=t=>({x:t,y:t}),qk={left:"right",right:"left",bottom:"top",top:"bottom"},Vk={start:"end",end:"start"};function hf(t,e,r){return zt(t,ss(e,r))}function yn(t,e){return typeof t=="function"?t(e):t}function wn(t){return t.split("-")[0]}function ti(t){return t.split("-")[1]}function Dh(t){return t==="x"?"y":"x"}function Wh(t){return t==="y"?"height":"width"}const Hk=new Set(["top","bottom"]);function Hr(t){return Hk.has(wn(t))?"y":"x"}function Fh(t){return Dh(Hr(t))}function Qk(t,e,r){r===void 0&&(r=!1);const n=ti(t),s=Fh(t),o=Wh(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=fc(i)),[i,fc(i)]}function Kk(t){const e=fc(t);return[pf(t),e,pf(e)]}function pf(t){return t.replace(/start|end/g,e=>Vk[e])}const og=["left","right"],ig=["right","left"],Gk=["top","bottom"],Yk=["bottom","top"];function Xk(t,e,r){switch(t){case"top":case"bottom":return r?e?ig:og:e?og:ig;case"left":case"right":return e?Gk:Yk;default:return[]}}function Jk(t,e,r,n){const s=ti(t);let o=Xk(wn(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(pf)))),o}function fc(t){return t.replace(/left|right|bottom|top/g,e=>qk[e])}function Zk(t){return{top:0,right:0,bottom:0,left:0,...t}}function xw(t){return typeof t!="number"?Zk(t):{top:t,right:t,bottom:t,left:t}}function hc(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function ag(t,e,r){let{reference:n,floating:s}=t;const o=Hr(e),i=Fh(e),a=Wh(i),l=wn(e),c=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ti(e)){case"start":p[i]-=m*(r&&c?-1:1);break;case"end":p[i]+=m*(r&&c?-1:1);break}return p}const eC=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=ag(c,n,l),m=n,p={},w=0;for(let v=0;v<a.length;v++){const{name:S,fn:x}=a[v],{x:y,y:_,data:k,reset:P}=await x({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:t,floating:e}});d=y??d,f=_??f,p={...p,[S]:{...p[S],...k}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:d,y:f}=ag(c,m,l)),v=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function ua(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=yn(e,t),w=xw(p),S=a[m?f==="floating"?"reference":"floating":f],x=hc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(S)))==null||r?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),k=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},P=hc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(x.top-P.top+w.top)/k.y,bottom:(P.bottom-x.bottom+w.bottom)/k.y,left:(x.left-P.left+w.left)/k.x,right:(P.right-x.right+w.right)/k.x}}const tC=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=yn(t,e)||{};if(c==null)return{};const f=xw(d),m={x:r,y:n},p=Fh(s),w=Wh(p),v=await i.getDimensions(c),S=p==="y",x=S?"top":"left",y=S?"bottom":"right",_=S?"clientHeight":"clientWidth",k=o.reference[w]+o.reference[p]-m[p]-o.floating[w],P=m[p]-o.reference[p],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let T=j?j[_]:0;(!T||!await(i.isElement==null?void 0:i.isElement(j)))&&(T=a.floating[_]||o.floating[w]);const N=k/2-P/2,R=T/2-v[w]/2-1,O=ss(f[x],R),$=ss(f[y],R),I=O,U=T-v[w]-$,D=T/2-v[w]/2+N,K=hf(I,D,U),Q=!l.arrow&&ti(s)!=null&&D!==K&&o.reference[w]/2-(D<I?O:$)-v[w]/2<0,X=Q?D<I?D-I:D-U:0;return{[p]:m[p]+X,data:{[p]:K,centerOffset:D-K-X,...Q&&{alignmentOffset:X}},reset:Q}}}),rC=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...S}=yn(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=wn(s),y=Hr(a),_=wn(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=m||(_||!v?[fc(a)]:Kk(a)),j=w!=="none";!m&&j&&P.push(...Jk(a,v,w,k));const T=[a,...P],N=await ua(e,S),R=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&R.push(N[x]),f){const D=Qk(s,i,k);R.push(N[D[0]],N[D[1]])}if(O=[...O,{placement:s,overflows:R}],!R.every(D=>D<=0)){var $,I;const D=((($=o.flip)==null?void 0:$.index)||0)+1,K=T[D];if(K&&(!(f==="alignment"?y!==Hr(K):!1)||O.every(W=>Hr(W.placement)===y?W.overflows[0]>0:!0)))return{data:{index:D,overflows:O},reset:{placement:K}};let Q=(I=O.filter(X=>X.overflows[0]<=0).sort((X,W)=>X.overflows[1]-W.overflows[1])[0])==null?void 0:I.placement;if(!Q)switch(p){case"bestFit":{var U;const X=(U=O.filter(W=>{if(j){const B=Hr(W.placement);return B===y||B==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((W,B)=>W[1]-B[1])[0])==null?void 0:U[0];X&&(Q=X);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function lg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cg(t){return Bk.some(e=>t[e]>=0)}const nC=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=yn(t,e);switch(n){case"referenceHidden":{const o=await ua(e,{...s,elementContext:"reference"}),i=lg(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:cg(i)}}}case"escaped":{const o=await ua(e,{...s,altBoundary:!0}),i=lg(o,r.floating);return{data:{escapedOffsets:i,escaped:cg(i)}}}default:return{}}}}},bw=new Set(["left","top"]);async function sC(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=wn(r),a=ti(r),l=Hr(r)==="y",c=bw.has(i)?-1:1,d=o&&l?-1:1,f=yn(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(p=a==="end"?w*-1:w),l?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const oC=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await sC(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},iC=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:S=>{let{x,y}=S;return{x,y}}},...l}=yn(t,e),c={x:r,y:n},d=await ua(e,l),f=Hr(wn(s)),m=Dh(f);let p=c[m],w=c[f];if(o){const S=m==="y"?"top":"left",x=m==="y"?"bottom":"right",y=p+d[S],_=p-d[x];p=hf(y,p,_)}if(i){const S=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=w+d[S],_=w-d[x];w=hf(y,w,_)}const v=a.fn({...e,[m]:p,[f]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:o,[f]:i}}}}}},aC=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=yn(t,e),d={x:r,y:n},f=Hr(s),m=Dh(f);let p=d[m],w=d[f];const v=yn(a,e),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=m==="y"?"height":"width",k=o.reference[m]-o.floating[_]+S.mainAxis,P=o.reference[m]+o.reference[_]-S.mainAxis;p<k?p=k:p>P&&(p=P)}if(c){var x,y;const _=m==="y"?"width":"height",k=bw.has(wn(s)),P=o.reference[f]-o.floating[_]+(k&&((x=i.offset)==null?void 0:x[f])||0)+(k?0:S.crossAxis),j=o.reference[f]+o.reference[_]+(k?0:((y=i.offset)==null?void 0:y[f])||0)-(k?S.crossAxis:0);w<P?w=P:w>j&&(w=j)}return{[m]:p,[f]:w}}}},lC=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=yn(t,e),d=await ua(e,c),f=wn(s),m=ti(s),p=Hr(s)==="y",{width:w,height:v}=o.floating;let S,x;f==="top"||f==="bottom"?(S=f,x=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,S=m==="end"?"top":"bottom");const y=v-d.top-d.bottom,_=w-d.left-d.right,k=ss(v-d[S],y),P=ss(w-d[x],_),j=!e.middlewareData.shift;let T=k,N=P;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(N=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=y),j&&!m){const O=zt(d.left,0),$=zt(d.right,0),I=zt(d.top,0),U=zt(d.bottom,0);p?N=w-2*(O!==0||$!==0?O+$:zt(d.left,d.right)):T=v-2*(I!==0||U!==0?I+U:zt(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:T});const R=await i.getDimensions(a.floating);return w!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function qc(){return typeof window<"u"}function ri(t){return _w(t)?(t.nodeName||"").toLowerCase():"#document"}function qt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jr(t){var e;return(e=(_w(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _w(t){return qc()?t instanceof Node||t instanceof qt(t).Node:!1}function Cr(t){return qc()?t instanceof Element||t instanceof qt(t).Element:!1}function Yr(t){return qc()?t instanceof HTMLElement||t instanceof qt(t).HTMLElement:!1}function ug(t){return!qc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qt(t).ShadowRoot}const cC=new Set(["inline","contents"]);function ka(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!cC.has(s)}const uC=new Set(["table","td","th"]);function dC(t){return uC.has(ri(t))}const fC=[":popover-open",":modal"];function Vc(t){return fC.some(e=>{try{return t.matches(e)}catch{return!1}})}const hC=["transform","translate","scale","rotate","perspective"],pC=["transform","translate","scale","rotate","perspective","filter"],mC=["paint","layout","strict","content"];function zh(t){const e=Uh(),r=Cr(t)?Pr(t):t;return hC.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||pC.some(n=>(r.willChange||"").includes(n))||mC.some(n=>(r.contain||"").includes(n))}function gC(t){let e=os(t);for(;Yr(e)&&!Ho(e);){if(zh(e))return e;if(Vc(e))return null;e=os(e)}return null}function Uh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vC=new Set(["html","body","#document"]);function Ho(t){return vC.has(ri(t))}function Pr(t){return qt(t).getComputedStyle(t)}function Hc(t){return Cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function os(t){if(ri(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ug(t)&&t.host||Jr(t);return ug(e)?e.host:e}function Sw(t){const e=os(t);return Ho(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yr(e)&&ka(e)?e:Sw(e)}function da(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Sw(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=qt(s);if(o){const a=mf(i);return e.concat(i,i.visualViewport||[],ka(s)?s:[],a&&r?da(a):[])}return e.concat(s,da(s,[],r))}function mf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ew(t){const e=Pr(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Yr(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=dc(r)!==o||dc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Bh(t){return Cr(t)?t:t.contextElement}function Po(t){const e=Bh(t);if(!Yr(e))return Gr(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=Ew(e);let i=(o?dc(r.width):r.width)/n,a=(o?dc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const yC=Gr(0);function kw(t){const e=qt(t);return!Uh()||!e.visualViewport?yC:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wC(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qt(t)?!1:e}function Fs(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Bh(t);let i=Gr(1);e&&(n?Cr(n)&&(i=Po(n)):i=Po(t));const a=wC(o,r,n)?kw(o):Gr(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=qt(o),p=n&&Cr(n)?qt(n):n;let w=m,v=mf(w);for(;v&&n&&p!==w;){const S=Po(v),x=v.getBoundingClientRect(),y=Pr(v),_=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*S.x,k=x.top+(v.clientTop+parseFloat(y.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,f*=S.y,l+=_,c+=k,w=qt(v),v=mf(w)}}return hc({width:d,height:f,x:l,y:c})}function Qc(t,e){const r=Hc(t).scrollLeft;return e?e.left+r:Fs(Jr(t)).left+r}function Cw(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Qc(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function xC(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=Jr(n),a=e?Vc(e.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=Gr(1);const d=Gr(0),f=Yr(n);if((f||!f&&!o)&&((ri(n)!=="body"||ka(i))&&(l=Hc(n)),Yr(n))){const p=Fs(n);c=Po(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=i&&!f&&!o?Cw(i,l):Gr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-l.scrollTop*c.y+d.y+m.y}}function bC(t){return Array.from(t.getClientRects())}function _C(t){const e=Jr(t),r=Hc(t),n=t.ownerDocument.body,s=zt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=zt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Qc(t);const a=-r.scrollTop;return Pr(n).direction==="rtl"&&(i+=zt(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}const dg=25;function SC(t,e){const r=qt(t),n=Jr(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=Uh();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Qc(n);if(c<=0){const d=n.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,w=Math.abs(n.clientWidth-f.clientWidth-p);w<=dg&&(o-=w)}else c<=dg&&(o+=c);return{width:o,height:i,x:a,y:l}}const EC=new Set(["absolute","fixed"]);function kC(t,e){const r=Fs(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Yr(t)?Po(t):Gr(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:i,height:a,x:l,y:c}}function fg(t,e,r){let n;if(e==="viewport")n=SC(t,r);else if(e==="document")n=_C(Jr(t));else if(Cr(e))n=kC(e,r);else{const s=kw(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hc(n)}function Pw(t,e){const r=os(t);return r===e||!Cr(r)||Ho(r)?!1:Pr(r).position==="fixed"||Pw(r,e)}function CC(t,e){const r=e.get(t);if(r)return r;let n=da(t,[],!1).filter(a=>Cr(a)&&ri(a)!=="body"),s=null;const o=Pr(t).position==="fixed";let i=o?os(t):t;for(;Cr(i)&&!Ho(i);){const a=Pr(i),l=zh(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&EC.has(s.position)||ka(i)&&!l&&Pw(t,i))?n=n.filter(d=>d!==i):s=a,i=os(i)}return e.set(t,n),n}function PC(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?Vc(e)?[]:CC(e,this._c):[].concat(r),n],a=i[0],l=i.reduce((c,d)=>{const f=fg(e,d,s);return c.top=zt(f.top,c.top),c.right=ss(f.right,c.right),c.bottom=ss(f.bottom,c.bottom),c.left=zt(f.left,c.left),c},fg(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TC(t){const{width:e,height:r}=Ew(t);return{width:e,height:r}}function jC(t,e,r){const n=Yr(e),s=Jr(e),o=r==="fixed",i=Fs(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Gr(0);function c(){l.x=Qc(s)}if(n||!n&&!o)if((ri(e)!=="body"||ka(s))&&(a=Hc(e)),n){const p=Fs(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();o&&!n&&s&&c();const d=s&&!n&&!o?Cw(s,a):Gr(0),f=i.left+a.scrollLeft-l.x-d.x,m=i.top+a.scrollTop-l.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function td(t){return Pr(t).position==="static"}function hg(t,e){if(!Yr(t)||Pr(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Jr(t)===r&&(r=r.ownerDocument.body),r}function Tw(t,e){const r=qt(t);if(Vc(t))return r;if(!Yr(t)){let s=os(t);for(;s&&!Ho(s);){if(Cr(s)&&!td(s))return s;s=os(s)}return r}let n=hg(t,e);for(;n&&dC(n)&&td(n);)n=hg(n,e);return n&&Ho(n)&&td(n)&&!zh(n)?r:n||gC(t)||r}const AC=async function(t){const e=this.getOffsetParent||Tw,r=this.getDimensions,n=await r(t.floating);return{reference:jC(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function RC(t){return Pr(t).direction==="rtl"}const NC={convertOffsetParentRelativeRectToViewportRelativeRect:xC,getDocumentElement:Jr,getClippingRect:PC,getOffsetParent:Tw,getElementRects:AC,getClientRects:bC,getDimensions:TC,getScale:Po,isElement:Cr,isRTL:RC};function jw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OC(t,e){let r=null,n;const s=Jr(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(a||e(),!m||!p)return;const w=hl(f),v=hl(s.clientWidth-(d+m)),S=hl(s.clientHeight-(f+p)),x=hl(d),_={rootMargin:-w+"px "+-v+"px "+-S+"px "+-x+"px",threshold:zt(0,ss(1,l))||1};let k=!0;function P(j){const T=j[0].intersectionRatio;if(T!==l){if(!k)return i();T?i(!1,T):n=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!jw(c,t.getBoundingClientRect())&&i(),k=!1}try{r=new IntersectionObserver(P,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(P,_)}r.observe(t)}return i(!0),o}function LC(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Bh(t),d=s||o?[...c?da(c):[],...da(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const f=c&&a?OC(c,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let w,v=l?Fs(t):null;l&&S();function S(){const x=Fs(t);v&&!jw(v,x)&&r(),v=x,w=requestAnimationFrame(S)}return r(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(w)}}const MC=oC,$C=iC,IC=rC,DC=lC,WC=nC,pg=tC,FC=aC,zC=(t,e,r)=>{const n=new Map,s={platform:NC,...r},o={...s.platform,_c:n};return eC(t,e,{...s,platform:o})};var UC=typeof document<"u",BC=function(){},$l=UC?E.useLayoutEffect:BC;function pc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!pc(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!pc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Aw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mg(t,e){const r=Aw(t);return Math.round(e*r)/r}function rd(t){const e=E.useRef(t);return $l(()=>{e.current=t}),e}function qC(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=E.useState(n);pc(m,n)||p(n);const[w,v]=E.useState(null),[S,x]=E.useState(null),y=E.useCallback(W=>{W!==j.current&&(j.current=W,v(W))},[]),_=E.useCallback(W=>{W!==T.current&&(T.current=W,x(W))},[]),k=o||w,P=i||S,j=E.useRef(null),T=E.useRef(null),N=E.useRef(d),R=l!=null,O=rd(l),$=rd(s),I=rd(c),U=E.useCallback(()=>{if(!j.current||!T.current)return;const W={placement:e,strategy:r,middleware:m};$.current&&(W.platform=$.current),zC(j.current,T.current,W).then(B=>{const Y={...B,isPositioned:I.current!==!1};D.current&&!pc(N.current,Y)&&(N.current=Y,Sa.flushSync(()=>{f(Y)}))})},[m,e,r,$,I]);$l(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[c]);const D=E.useRef(!1);$l(()=>(D.current=!0,()=>{D.current=!1}),[]),$l(()=>{if(k&&(j.current=k),P&&(T.current=P),k&&P){if(O.current)return O.current(k,P,U);U()}},[k,P,U,O,R]);const K=E.useMemo(()=>({reference:j,floating:T,setReference:y,setFloating:_}),[y,_]),Q=E.useMemo(()=>({reference:k,floating:P}),[k,P]),X=E.useMemo(()=>{const W={position:r,left:0,top:0};if(!Q.floating)return W;const B=mg(Q.floating,d.x),Y=mg(Q.floating,d.y);return a?{...W,transform:"translate("+B+"px, "+Y+"px)",...Aw(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:Y}},[r,a,Q.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:U,refs:K,elements:Q,floatingStyles:X}),[d,U,K,Q,X])}const VC=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?pg({element:n.current,padding:s}).fn(r):{}:n?pg({element:n,padding:s}).fn(r):{}}}},HC=(t,e)=>({...MC(t),options:[t,e]}),QC=(t,e)=>({...$C(t),options:[t,e]}),KC=(t,e)=>({...FC(t),options:[t,e]}),GC=(t,e)=>({...IC(t),options:[t,e]}),YC=(t,e)=>({...DC(t),options:[t,e]}),XC=(t,e)=>({...WC(t),options:[t,e]}),JC=(t,e)=>({...VC(t),options:[t,e]});var ZC="Arrow",Rw=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return g.jsx(He.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rw.displayName=ZC;var eP=Rw;function tP(t){const[e,r]=E.useState(void 0);return vn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Nw="Popper",[Ow,Lw]=Zo(Nw),[fN,Mw]=Ow(Nw),$w="PopperAnchor",Iw=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=Mw($w,r),i=E.useRef(null),a=ct(e,i),l=E.useRef(null);return E.useEffect(()=>{const c=l.current;l.current=(n==null?void 0:n.current)||i.current,c!==l.current&&o.onAnchorChange(l.current)}),n?null:g.jsx(He.div,{...s,ref:a})});Iw.displayName=$w;var qh="PopperContent",[rP,nP]=Ow(qh),Dw=E.forwardRef((t,e)=>{var ye,en,ar,Tr,jr,ut;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=t,S=Mw(qh,r),[x,y]=E.useState(null),_=ct(e,Gt=>y(Gt)),[k,P]=E.useState(null),j=tP(k),T=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,R=n+(o!=="center"?"-"+o:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(c)?c:[c],I=$.length>0,U={padding:O,boundary:$.filter(oP),altBoundary:I},{refs:D,floatingStyles:K,placement:Q,isPositioned:X,middlewareData:W}=qC({strategy:"fixed",placement:R,whileElementsMounted:(...Gt)=>LC(...Gt,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[HC({mainAxis:s+N,alignmentAxis:i}),l&&QC({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?KC():void 0,...U}),l&&GC({...U}),YC({...U,apply:({elements:Gt,rects:Ar,availableWidth:Vs,availableHeight:Ce})=>{const{width:ds,height:bn}=Ar.reference,Rr=Gt.floating.style;Rr.setProperty("--radix-popper-available-width",`${Vs}px`),Rr.setProperty("--radix-popper-available-height",`${Ce}px`),Rr.setProperty("--radix-popper-anchor-width",`${ds}px`),Rr.setProperty("--radix-popper-anchor-height",`${bn}px`)}}),k&&JC({element:k,padding:a}),iP({arrowWidth:T,arrowHeight:N}),m&&XC({strategy:"referenceHidden",...U})]}),[B,Y]=zw(Q),se=kt(w);vn(()=>{X&&(se==null||se())},[X,se]);const J=(ye=W.arrow)==null?void 0:ye.x,ie=(en=W.arrow)==null?void 0:en.y,he=((ar=W.arrow)==null?void 0:ar.centerOffset)!==0,[Fe,Ze]=E.useState();return vn(()=>{x&&Ze(window.getComputedStyle(x).zIndex)},[x]),g.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:X?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(Tr=W.transformOrigin)==null?void 0:Tr.x,(jr=W.transformOrigin)==null?void 0:jr.y].join(" "),...((ut=W.hide)==null?void 0:ut.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(rP,{scope:r,placedSide:B,onArrowChange:P,arrowX:J,arrowY:ie,shouldHideArrow:he,children:g.jsx(He.div,{"data-side":B,"data-align":Y,...v,ref:_,style:{...v.style,animation:X?void 0:"none"}})})})});Dw.displayName=qh;var Ww="PopperArrow",sP={top:"bottom",right:"left",bottom:"top",left:"right"},Fw=E.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=nP(Ww,n),i=sP[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(eP,{...s,ref:r,style:{...s.style,display:"block"}})})});Fw.displayName=Ww;function oP(t){return t!==null}var iP=t=>({name:"transformOrigin",options:t,fn(e){var S,x,y;const{placement:r,rects:n,middlewareData:s}=e,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,d]=zw(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=i?f:`${m}px`,v=`${-l}px`):c==="top"?(w=i?f:`${m}px`,v=`${n.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=i?f:`${p}px`):c==="left"&&(w=`${n.floating.width+l}px`,v=i?f:`${p}px`),{data:{x:w,y:v}}}});function zw(t){const[e,r="center"]=t.split("-");return[e,r]}var aP=Iw,lP=Dw,cP=Fw,[Kc,hN]=Zo("Tooltip",[Lw]),Vh=Lw(),Uw="TooltipProvider",uP=700,gg="tooltip.open",[dP,Bw]=Kc(Uw),qw=t=>{const{__scopeTooltip:e,delayDuration:r=uP,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,i=E.useRef(!0),a=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),g.jsx(dP,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:E.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};qw.displayName=Uw;var Vw="Tooltip",[pN,Gc]=Kc(Vw),gf="TooltipTrigger",fP=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Gc(gf,r),o=Bw(gf,r),i=Vh(r),a=E.useRef(null),l=ct(e,a,s.onTriggerChange),c=E.useRef(!1),d=E.useRef(!1),f=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(aP,{asChild:!0,...i,children:g.jsx(He.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:Te(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Te(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Te(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Te(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Te(t.onBlur,s.onClose),onClick:Te(t.onClick,s.onClose)})})});fP.displayName=gf;var hP="TooltipPortal",[mN,pP]=Kc(hP,{forceMount:void 0}),Qo="TooltipContent",Hw=E.forwardRef((t,e)=>{const r=pP(Qo,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=Gc(Qo,t.__scopeTooltip);return g.jsx(Bs,{present:n||i.open,children:i.disableHoverableContent?g.jsx(Qw,{side:s,...o,ref:e}):g.jsx(mP,{side:s,...o,ref:e})})}),mP=E.forwardRef((t,e)=>{const r=Gc(Qo,t.__scopeTooltip),n=Bw(Qo,t.__scopeTooltip),s=E.useRef(null),o=ct(e,s),[i,a]=E.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:f}=n,m=E.useCallback(()=>{a(null),f(!1)},[f]),p=E.useCallback((w,v)=>{const S=w.currentTarget,x={x:w.clientX,y:w.clientY},y=xP(x,S.getBoundingClientRect()),_=bP(x,y),k=_P(v.getBoundingClientRect()),P=EP([..._,...k]);a(P),f(!0)},[f]);return E.useEffect(()=>()=>m(),[m]),E.useEffect(()=>{if(l&&d){const w=S=>p(S,d),v=S=>p(S,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[l,d,p,m]),E.useEffect(()=>{if(i){const w=v=>{const S=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),_=!SP(x,i);y?m():_&&(m(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,i,c,m]),g.jsx(Qw,{...t,ref:o})}),[gP,vP]=Kc(Vw,{isInside:!1}),yP=CS("TooltipContent"),Qw=E.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=Gc(Qo,r),c=Vh(r),{onClose:d}=l;return E.useEffect(()=>(document.addEventListener(gg,d),()=>document.removeEventListener(gg,d)),[d]),E.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),g.jsx(Oh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:g.jsxs(lP,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(yP,{children:n}),g.jsx(gP,{scope:r,isInside:!0,children:g.jsx(XS,{id:l.contentId,role:"tooltip",children:s||n})})]})})});Hw.displayName=Qo;var Kw="TooltipArrow",wP=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Vh(r);return vP(Kw,r).isInside?null:g.jsx(cP,{...s,...n,ref:e})});wP.displayName=Kw;function xP(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function bP(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function _P(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function SP(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],c=a.x,d=a.y,f=l.x,m=l.y;d>n!=m>n&&r<(f-c)*(n-d)/(m-d)+c&&(s=!s)}return s}function EP(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),kP(e)}function kP(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var CP=qw,Gw=Hw;const PP=CP,TP=E.forwardRef(({className:t,sideOffset:e=4,...r},n)=>g.jsx(Gw,{ref:n,sideOffset:e,className:Ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));TP.displayName=Gw.displayName;var Yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xc=typeof window>"u"||"Deno"in globalThis;function gr(){}function jP(t,e){return typeof t=="function"?t(e):t}function AP(t){return typeof t=="number"&&t>=0&&t!==1/0}function RP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vf(t,e){return typeof t=="function"?t(e):t}function NP(t,e){return typeof t=="function"?t(e):t}function vg(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(n){if(e.queryHash!==Hh(i,e.options))return!1}else if(!ha(e.queryKey,i))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function yg(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(fa(e.options.mutationKey)!==fa(o))return!1}else if(!ha(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Hh(t,e){return((e==null?void 0:e.queryKeyHashFn)||fa)(t)}function fa(t){return JSON.stringify(t,(e,r)=>yf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ha(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ha(t[r],e[r])):!1}var OP=Object.prototype.hasOwnProperty;function Yw(t,e){if(t===e)return t;const r=wg(t)&&wg(e);if(!r&&!(yf(t)&&yf(e)))return e;const s=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),i=o.length,a=r?new Array(i):{};let l=0;for(let c=0;c<i;c++){const d=r?c:o[c],f=t[d],m=e[d];if(f===m){a[d]=f,(r?c<s:OP.call(t,d))&&l++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){a[d]=m;continue}const p=Yw(f,m);a[d]=p,p===f&&l++}return s===i&&l===s?t:a}function wg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yf(t){if(!xg(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!xg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xg(t){return Object.prototype.toString.call(t)==="[object Object]"}function LP(t){return new Promise(e=>{setTimeout(e,t)})}function MP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Yw(t,e):e}function $P(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function IP(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Qh=Symbol();function Xw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Qh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ps,Wn,jo,lv,DP=(lv=class extends Yc{constructor(){super();_e(this,Ps);_e(this,Wn);_e(this,jo);ce(this,jo,e=>{if(!Xc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,Wn)||this.setEventListener(z(this,jo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Wn))==null||e.call(this),ce(this,Wn,void 0))}setEventListener(e){var r;ce(this,jo,e),(r=z(this,Wn))==null||r.call(this),ce(this,Wn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){z(this,Ps)!==e&&(ce(this,Ps,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof z(this,Ps)=="boolean"?z(this,Ps):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ps=new WeakMap,Wn=new WeakMap,jo=new WeakMap,lv),Jw=new DP,Ao,Fn,Ro,cv,WP=(cv=class extends Yc{constructor(){super();_e(this,Ao,!0);_e(this,Fn);_e(this,Ro);ce(this,Ro,e=>{if(!Xc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,Fn)||this.setEventListener(z(this,Ro))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Fn))==null||e.call(this),ce(this,Fn,void 0))}setEventListener(e){var r;ce(this,Ro,e),(r=z(this,Fn))==null||r.call(this),ce(this,Fn,e(this.setOnline.bind(this)))}setOnline(e){z(this,Ao)!==e&&(ce(this,Ao,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return z(this,Ao)}},Ao=new WeakMap,Fn=new WeakMap,Ro=new WeakMap,cv),mc=new WP;function FP(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function zP(t){return Math.min(1e3*2**t,3e4)}function Zw(t){return(t??"online")==="online"?mc.isOnline():!0}var wf=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ex(t){let e=!1,r=0,n;const s=FP(),o=()=>s.status!=="pending",i=v=>{var S;if(!o()){const x=new wf(v);m(x),(S=t.onCancel)==null||S.call(t,x)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>Jw.isFocused()&&(t.networkMode==="always"||mc.isOnline())&&t.canRun(),d=()=>Zw(t.networkMode)&&t.canRun(),f=v=>{o()||(n==null||n(),s.resolve(v))},m=v=>{o()||(n==null||n(),s.reject(v))},p=()=>new Promise(v=>{var S;n=x=>{(o()||c())&&v(x)},(S=t.onPause)==null||S.call(t)}).then(()=>{var v;n=void 0,o()||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(o())return;let v;const S=r===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var j;if(o())return;const y=t.retry??(Xc?0:3),_=t.retryDelay??zP,k=typeof _=="function"?_(r,x):_,P=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(e||!P){m(x);return}r++,(j=t.onFail)==null||j.call(t,r,x),LP(k).then(()=>c()?void 0:p()).then(()=>{e?m(x):w()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():p().then(w),s)}}var UP=t=>setTimeout(t,0);function BP(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=UP;const o=a=>{e?t.push(a):s(()=>{r(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Et=BP(),Ts,uv,tx=(uv=class{constructor(){_e(this,Ts)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AP(this.gcTime)&&ce(this,Ts,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xc?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ts)&&(clearTimeout(z(this,Ts)),ce(this,Ts,void 0))}},Ts=new WeakMap,uv),No,Oo,Jt,js,tt,ga,As,vr,nn,dv,qP=(dv=class extends tx{constructor(e){super();_e(this,vr);_e(this,No);_e(this,Oo);_e(this,Jt);_e(this,js);_e(this,tt);_e(this,ga);_e(this,As);ce(this,As,!1),ce(this,ga,e.defaultOptions),this.setOptions(e.options),this.observers=[],ce(this,js,e.client),ce(this,Jt,z(this,js).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ce(this,No,HP(this.options)),this.state=e.state??z(this,No),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,tt))==null?void 0:e.promise}setOptions(e){this.options={...z(this,ga),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Jt).remove(this)}setData(e,r){const n=MP(this.state.data,e,this.options);return ft(this,vr,nn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ft(this,vr,nn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=z(this,tt))==null?void 0:n.promise;return(s=z(this,tt))==null||s.cancel(e),r?r.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,No))}isActive(){return this.observers.some(e=>NP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RP(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=z(this,tt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=z(this,tt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,Jt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(z(this,tt)&&(z(this,As)?z(this,tt).cancel({revert:!0}):z(this,tt).cancelRetry()),this.scheduleGc()),z(this,Jt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,vr,nn).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,f,m,p,w,v,S,x,y,_;if(this.state.fetchStatus!=="idle"&&((l=z(this,tt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,tt))return z(this,tt).continueRetry(),z(this,tt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const k=this.observers.find(P=>P.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,s=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(ce(this,As,!0),n.signal)})},o=()=>{const k=Xw(this.options,r),j=(()=>{const T={client:z(this,js),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return ce(this,As,!1),this.options.persister?this.options.persister(k,j,this):k(j)},a=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,js),state:this.state,fetchFn:o};return s(k),k})();(c=this.options.behavior)==null||c.onFetch(a,this),ce(this,Oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ft(this,vr,nn).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),ce(this,tt,ex({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:k=>{k instanceof wf&&k.revert&&this.setState({...z(this,Oo),fetchStatus:"idle"}),n.abort()},onFail:(k,P)=>{ft(this,vr,nn).call(this,{type:"failed",failureCount:k,error:P})},onPause:()=>{ft(this,vr,nn).call(this,{type:"pause"})},onContinue:()=>{ft(this,vr,nn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const k=await z(this,tt).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(p=(m=z(this,Jt).config).onSuccess)==null||p.call(m,k,this),(v=(w=z(this,Jt).config).onSettled)==null||v.call(w,k,this.state.error,this),k}catch(k){if(k instanceof wf){if(k.silent)return z(this,tt).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw ft(this,vr,nn).call(this,{type:"error",error:k}),(x=(S=z(this,Jt).config).onError)==null||x.call(S,k,this),(_=(y=z(this,Jt).config).onSettled)==null||_.call(y,this.state.data,k,this),k}finally{this.scheduleGc()}}},No=new WeakMap,Oo=new WeakMap,Jt=new WeakMap,js=new WeakMap,tt=new WeakMap,ga=new WeakMap,As=new WeakMap,vr=new WeakSet,nn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...VP(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,Oo,e.manual?s:void 0),s;case"error":const o=e.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Jt).notify({query:this,type:"updated",action:e})})},dv);function VP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zr,fv,QP=(fv=class extends Yc{constructor(e={}){super();_e(this,zr);this.config=e,ce(this,zr,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??Hh(s,r);let i=this.get(o);return i||(i=new qP({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){z(this,zr).has(e.queryHash)||(z(this,zr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=z(this,zr).get(e.queryHash);r&&(e.destroy(),r===e&&z(this,zr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,zr).get(e)}getAll(){return[...z(this,zr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>vg(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>vg(e,n)):r}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zr=new WeakMap,fv),Ur,_t,Rs,Br,Nn,hv,KP=(hv=class extends tx{constructor(e){super();_e(this,Br);_e(this,Ur);_e(this,_t);_e(this,Rs);this.mutationId=e.mutationId,ce(this,_t,e.mutationCache),ce(this,Ur,[]),this.state=e.state||GP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,Ur).includes(e)||(z(this,Ur).push(e),this.clearGcTimeout(),z(this,_t).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ce(this,Ur,z(this,Ur).filter(r=>r!==e)),this.scheduleGc(),z(this,_t).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,Ur).length||(this.state.status==="pending"?this.scheduleGc():z(this,_t).remove(this))}continue(){var e;return((e=z(this,Rs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,i,a,l,c,d,f,m,p,w,v,S,x,y,_,k,P,j,T,N;const r=()=>{ft(this,Br,Nn).call(this,{type:"continue"})};ce(this,Rs,ex({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{ft(this,Br,Nn).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{ft(this,Br,Nn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,_t).canRun(this)}));const n=this.state.status==="pending",s=!z(this,Rs).canStart();try{if(n)r();else{ft(this,Br,Nn).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(o=z(this,_t).config).onMutate)==null?void 0:i.call(o,e,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));O!==this.state.context&&ft(this,Br,Nn).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const R=await z(this,Rs).start();return await((d=(c=z(this,_t).config).onSuccess)==null?void 0:d.call(c,R,e,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,e,this.state.context)),await((w=(p=z(this,_t).config).onSettled)==null?void 0:w.call(p,R,null,this.state.variables,this.state.context,this)),await((S=(v=this.options).onSettled)==null?void 0:S.call(v,R,null,e,this.state.context)),ft(this,Br,Nn).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(x=z(this,_t).config).onError)==null?void 0:y.call(x,R,e,this.state.context,this)),await((k=(_=this.options).onError)==null?void 0:k.call(_,R,e,this.state.context)),await((j=(P=z(this,_t).config).onSettled)==null?void 0:j.call(P,void 0,R,this.state.variables,this.state.context,this)),await((N=(T=this.options).onSettled)==null?void 0:N.call(T,void 0,R,e,this.state.context)),R}finally{ft(this,Br,Nn).call(this,{type:"error",error:R})}}finally{z(this,_t).runNext(this)}}},Ur=new WeakMap,_t=new WeakMap,Rs=new WeakMap,Br=new WeakSet,Nn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{z(this,Ur).forEach(n=>{n.onMutationUpdate(e)}),z(this,_t).notify({mutation:this,type:"updated",action:e})})},hv);function GP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cn,yr,va,pv,YP=(pv=class extends Yc{constructor(e={}){super();_e(this,cn);_e(this,yr);_e(this,va);this.config=e,ce(this,cn,new Set),ce(this,yr,new Map),ce(this,va,0)}build(e,r,n){const s=new KP({mutationCache:this,mutationId:++Ha(this,va)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){z(this,cn).add(e);const r=pl(e);if(typeof r=="string"){const n=z(this,yr).get(r);n?n.push(e):z(this,yr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,cn).delete(e)){const r=pl(e);if(typeof r=="string"){const n=z(this,yr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&z(this,yr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=pl(e);if(typeof r=="string"){const n=z(this,yr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=pl(e);if(typeof r=="string"){const s=(n=z(this,yr).get(r))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{z(this,cn).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,cn).clear(),z(this,yr).clear()})}getAll(){return Array.from(z(this,cn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>yg(r,n))}findAll(e={}){return this.getAll().filter(r=>yg(e,r))}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(e.map(r=>r.continue().catch(gr))))}},cn=new WeakMap,yr=new WeakMap,va=new WeakMap,pv);function pl(t){var e;return(e=t.options.scope)==null?void 0:e.id}function bg(t){return{onFetch:(e,r)=>{var d,f,m,p,w;const n=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],i=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const S=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=Xw(e.options,e.fetchOptions),y=async(_,k,P)=>{if(v)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:k,direction:P?"backward":"forward",meta:e.options.meta};return S($),$})(),N=await x(T),{maxPages:R}=e.options,O=P?IP:$P;return{pages:O(_.pages,N,R),pageParams:O(_.pageParams,k,R)}};if(s&&o.length){const _=s==="backward",k=_?XP:_g,P={pages:o,pageParams:i},j=k(n,P);a=await y(P,j,_)}else{const _=t??o.length;do{const k=l===0?i[0]??n.initialPageParam:_g(n,a);if(l>0&&k==null)break;a=await y(a,k),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var v,S;return(S=(v=e.options).persister)==null?void 0:S.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function _g(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function XP(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ue,zn,Un,Lo,Mo,Bn,$o,Io,mv,JP=(mv=class{constructor(t={}){_e(this,Ue);_e(this,zn);_e(this,Un);_e(this,Lo);_e(this,Mo);_e(this,Bn);_e(this,$o);_e(this,Io);ce(this,Ue,t.queryCache||new QP),ce(this,zn,t.mutationCache||new YP),ce(this,Un,t.defaultOptions||{}),ce(this,Lo,new Map),ce(this,Mo,new Map),ce(this,Bn,0)}mount(){Ha(this,Bn)._++,z(this,Bn)===1&&(ce(this,$o,Jw.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ue).onFocus())})),ce(this,Io,mc.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Ue).onOnline())})))}unmount(){var t,e;Ha(this,Bn)._--,z(this,Bn)===0&&((t=z(this,$o))==null||t.call(this),ce(this,$o,void 0),(e=z(this,Io))==null||e.call(this),ce(this,Io,void 0))}isFetching(t){return z(this,Ue).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,zn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=z(this,Ue).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=z(this,Ue).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(vf(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return z(this,Ue).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=z(this,Ue).get(n.queryHash),o=s==null?void 0:s.state.data,i=jP(e,o);if(i!==void 0)return z(this,Ue).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return Et.batch(()=>z(this,Ue).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=z(this,Ue).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=z(this,Ue);Et.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=z(this,Ue);return Et.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Et.batch(()=>z(this,Ue).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(gr).catch(gr)}invalidateQueries(t,e={}){return Et.batch(()=>(z(this,Ue).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Et.batch(()=>z(this,Ue).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(gr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(gr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=z(this,Ue).build(this,e);return r.isStaleByTime(vf(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gr).catch(gr)}fetchInfiniteQuery(t){return t.behavior=bg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gr).catch(gr)}ensureInfiniteQueryData(t){return t.behavior=bg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return mc.isOnline()?z(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ue)}getMutationCache(){return z(this,zn)}getDefaultOptions(){return z(this,Un)}setDefaultOptions(t){ce(this,Un,t)}setQueryDefaults(t,e){z(this,Lo).set(fa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Lo).values()],r={};return e.forEach(n=>{ha(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){z(this,Mo).set(fa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Mo).values()],r={};return e.forEach(n=>{ha(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Un).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Qh&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Un).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Ue).clear(),z(this,zn).clear()}},Ue=new WeakMap,zn=new WeakMap,Un=new WeakMap,Lo=new WeakMap,Mo=new WeakMap,Bn=new WeakMap,$o=new WeakMap,Io=new WeakMap,mv),ZP=E.createContext(void 0),eT=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(ZP.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}var Hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hn||(Hn={}));const Sg="popstate";function tT(t){t===void 0&&(t={});function e(n,s){let{pathname:o,search:i,hash:a}=n.location;return xf("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:nx(s)}return nT(e,r,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rT(){return Math.random().toString(36).substr(2,8)}function Eg(t,e){return{usr:t.state,key:t.key,idx:e}}function xf(t,e,r,n){return r===void 0&&(r=null),gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jc(e):e,{state:r,key:e&&e.key||n||rT()})}function nx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Jc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function nT(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Hn.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(gc({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Hn.Pop;let S=d(),x=S==null?null:S-c;c=S,l&&l({action:a,location:v.location,delta:x})}function m(S,x){a=Hn.Push;let y=xf(v.location,S,x);c=d()+1;let _=Eg(y,c),k=v.createHref(y);try{i.pushState(_,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(k)}o&&l&&l({action:a,location:v.location,delta:1})}function p(S,x){a=Hn.Replace;let y=xf(v.location,S,x);c=d();let _=Eg(y,c),k=v.createHref(y);i.replaceState(_,"",k),o&&l&&l({action:a,location:v.location,delta:0})}function w(S){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof S=="string"?S:nx(S);return y=y.replace(/ $/,"%20"),Dt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(s,i)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Sg,f),l=S,()=>{s.removeEventListener(Sg,f),l=null}},createHref(S){return e(s,S)},createURL:w,encodeLocation(S){let x=w(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(S){return i.go(S)}};return v}var kg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kg||(kg={}));function sT(t,e,r){return r===void 0&&(r="/"),oT(t,e,r)}function oT(t,e,r,n){let s=typeof e=="string"?Jc(e):e,o=ix(s.pathname||"/",r);if(o==null)return null;let i=sx(t);iT(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=yT(o);a=mT(i[l],c)}return a}function sx(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Dt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=To([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(Dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sx(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:hT(c,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of ox(o.path))s(o,i,l)}),e}function ox(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=ox(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:pT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aT=/^:[\w-]+$/,lT=3,cT=2,uT=1,dT=10,fT=-2,Cg=t=>t==="*";function hT(t,e){let r=t.split("/"),n=r.length;return r.some(Cg)&&(n+=fT),e&&(n+=cT),r.filter(s=>!Cg(s)).reduce((s,o)=>s+(aT.test(o)?lT:o===""?uT:dT),n)}function pT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function mT(t,e,r){let{routesMeta:n}=t,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=gT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:To([o,f.pathname]),pathnameBase:wT(To([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=To([o,f.pathnameBase]))}return i}function gT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return p&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function vT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),rx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function yT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ix(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const To=t=>t.join("/").replace(/\/\/+/g,"/"),wT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function xT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ax=["post","put","patch","delete"];new Set(ax);const bT=["get",...ax];new Set(bT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vc.apply(this,arguments)}const _T=E.createContext(null),ST=E.createContext(null),lx=E.createContext(null),Zc=E.createContext(null),eu=E.createContext({outlet:null,matches:[],isDataRoute:!1}),cx=E.createContext(null);function Kh(){return E.useContext(Zc)!=null}function ET(){return Kh()||Dt(!1),E.useContext(Zc).location}function kT(t,e){return CT(t,e)}function CT(t,e,r,n){Kh()||Dt(!1);let{navigator:s}=E.useContext(lx),{matches:o}=E.useContext(eu),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=ET(),d;if(e){var f;let S=typeof e=="string"?Jc(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Dt(!1),d=S}else d=c;let m=d.pathname||"/",p=m;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=sT(t,{pathname:p}),v=RT(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:To([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:To([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,r,n);return e&&v?E.createElement(Zc.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hn.Pop}},v):v}function PT(){let t=MT(),e=xT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:s},r):null,null)}const TT=E.createElement(PT,null);class jT extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(eu.Provider,{value:this.props.routeContext},E.createElement(cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AT(t){let{routeContext:e,match:r,children:n}=t,s=E.useContext(_T);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(eu.Provider,{value:e},n)}function RT(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Dt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=r,w=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,w=!1,v=null,S=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||TT,l&&(c<0&&m===0?($T("route-fallback"),w=!0,S=null):c===m&&(w=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),y=()=>{let _;return p?_=v:w?_=S:f.route.Component?_=E.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,E.createElement(AT,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?E.createElement(jT,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var ux=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ux||{});function NT(t){let e=E.useContext(ST);return e||Dt(!1),e}function OT(t){let e=E.useContext(eu);return e||Dt(!1),e}function LT(t){let e=OT(),r=e.matches[e.matches.length-1];return r.route.id||Dt(!1),r.route.id}function MT(){var t;let e=E.useContext(cx),r=NT(ux.UseRouteError),n=LT();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}const Pg={};function $T(t,e,r){Pg[t]||(Pg[t]=!0)}function IT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bf(t){Dt(!1)}function DT(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Hn.Pop,navigator:o,static:i=!1,future:a}=t;Kh()&&Dt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:o,static:i,future:vc({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=Jc(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:w="default"}=n,v=E.useMemo(()=>{let S=ix(d,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:p,key:w},navigationType:s}},[l,d,f,m,p,w,s]);return v==null?null:E.createElement(lx.Provider,{value:c},E.createElement(Zc.Provider,{children:r,value:v}))}function WT(t){let{children:e,location:r}=t;return kT(_f(e),r)}new Promise(()=>{});function _f(t,e){e===void 0&&(e=[]);let r=[];return E.Children.forEach(t,(n,s)=>{if(!E.isValidElement(n))return;let o=[...e,s];if(n.type===E.Fragment){r.push.apply(r,_f(n.props.children,o));return}n.type!==bf&&Dt(!1),!n.props.index||!n.props.children||Dt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=_f(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FT="6";try{window.__reactRouterVersion=FT}catch{}const zT="startTransition",Tg=Pv[zT];function UT(t){let{basename:e,children:r,future:n,window:s}=t,o=E.useRef();o.current==null&&(o.current=tT({window:s,v5Compat:!0}));let i=o.current,[a,l]=E.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=E.useCallback(f=>{c&&Tg?Tg(()=>l(f)):l(f)},[l,c]);return E.useLayoutEffect(()=>i.listen(d),[i,d]),E.useEffect(()=>IT(n),[n]),E.createElement(DT,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}var jg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jg||(jg={}));var Ag;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ag||(Ag={}));const BT=()=>g.jsx("div",{className:"text-center mb-8",children:g.jsx("div",{className:"flex items-center justify-center mb-2 bg-[#16417C] p-2 rounded-md",children:g.jsx("h1",{className:"text-3xl font-bold text-white uppercase tracking-wide [text-shadow:_2px_2px_0_#F97316] border-[#F97316]",children:"Juez de Léxico"})})}),qT=iw("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ts=E.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?ES:"button";return g.jsx(i,{className:Ht(qT({variant:e,size:r,className:t})),ref:o,...s})});ts.displayName="Button";const VT=({word:t,isLoading:e,onWordChange:r,onValidate:n,buttonText:s,isChecked:o})=>{const i=E.useRef(null),a=E.useRef(null);E.useEffect(()=>{i.current&&!e&&i.current.focus()},[e]),E.useEffect(()=>{!t&&i.current&&!e&&i.current.focus()},[t,e]),E.useEffect(()=>{a.current!==null&&i.current&&(i.current.setSelectionRange(a.current,a.current),a.current=null)},[t]);const l=d=>{const f=d.target;a.current=f.selectionStart;let m=f.value.toUpperCase();if(m=m.split("").map(p=>p==="Ñ"||p==="ñ"?"Ñ":p==="Ç"||p==="ç"?"Ç":p.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC")).join(""),m=m.replace(/[^A-ZÑÇKW\s]/g,""),m.length!==f.value.length&&a.current!==null){const p=m.length-f.value.length;a.current=Math.max(0,a.current+p)}r(m)},c=d=>{d.key==="Enter"&&!d.shiftKey&&!e?(d.preventDefault(),n(),i.current&&i.current.blur()):d.key==="Escape"&&(d.preventDefault(),o&&!e?n():t&&r(""),i.current&&!e&&i.current.focus())};return g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"relative flex-1",children:g.jsx("input",{ref:i,type:"text",value:t,onChange:l,onKeyDown:c,className:"w-full px-4 py-2 text-lg border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:e?"Cargando diccionario...":"Escribe una o más palabras...",disabled:e,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off","data-form-type":"other",inputMode:"text"})}),g.jsx(ts,{onClick:()=>{n(),i.current&&i.current.blur()},disabled:!t.trim()&&!o||e,className:"mx-0 my-[2px] px-[7px]",children:s})]})})};var Gh="Progress",Yh=100,[HT,gN]=Zo(Gh),[QT,KT]=HT(Gh),dx=E.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=GT,...i}=t;(s||s===0)&&!Rg(s)&&console.error(YT(`${s}`,"Progress"));const a=Rg(s)?s:Yh;n!==null&&!Ng(n,a)&&console.error(XT(`${n}`,"Progress"));const l=Ng(n,a)?n:null,c=yc(l)?o(l,a):void 0;return g.jsx(QT,{scope:r,value:l,max:a,children:g.jsx(He.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":yc(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":px(l,a),"data-value":l??void 0,"data-max":a,...i,ref:e})})});dx.displayName=Gh;var fx="ProgressIndicator",hx=E.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=KT(fx,r);return g.jsx(He.div,{"data-state":px(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});hx.displayName=fx;function GT(t,e){return`${Math.round(t/e*100)}%`}function px(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function yc(t){return typeof t=="number"}function Rg(t){return yc(t)&&!isNaN(t)&&t>0}function Ng(t,e){return yc(t)&&!isNaN(t)&&t<=e&&t>=0}function YT(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yh}\`.`}function XT(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mx=dx,JT=hx;const gx=E.forwardRef(({className:t,value:e,indicatorColor:r,...n},s)=>g.jsx(mx,{ref:s,className:Ht("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:g.jsx(JT,{className:Ht("h-full w-full flex-1 transition-all",r||"bg-primary"),style:{transform:`translateX(-${100-(e||0)}%)`}})}));gx.displayName=mx.displayName;const ZT=({progress:t,stage:e="processing"})=>{const r=()=>{switch(e){case"initializing":return"Iniciando aplicación";case"download":return"Descargando diccionario";case"processing":return"Procesando diccionario";case"building":return"Preparando diccionario";case"complete":return"Diccionario listo";default:return"Cargando diccionario"}},n=()=>{switch(e){case"initializing":return"bg-gray-400";case"download":return"bg-blue-500";case"processing":return"bg-green-500";case"building":return"bg-amber-500";case"complete":return"bg-green-600";default:return"bg-primary"}};return g.jsxs("div",{className:"space-y-2",children:[g.jsx(gx,{value:t,indicatorColor:n(),className:"w-full"}),g.jsx("div",{className:"flex justify-between text-sm text-gray-500",children:g.jsxs("p",{children:[r()," (",Math.floor(t),"%)"]})})]})};var e2=E.createContext(void 0);function t2(t){const e=E.useContext(e2);return t||e||"ltr"}function r2(t,[e,r]){return Math.min(r,Math.max(e,t))}function n2(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var Xh="ScrollArea",[vx,vN]=Zo(Xh),[s2,ir]=vx(Xh),yx=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=t,[a,l]=E.useState(null),[c,d]=E.useState(null),[f,m]=E.useState(null),[p,w]=E.useState(null),[v,S]=E.useState(null),[x,y]=E.useState(0),[_,k]=E.useState(0),[P,j]=E.useState(!1),[T,N]=E.useState(!1),R=ct(e,$=>l($)),O=t2(s);return g.jsx(s2,{scope:r,type:n,dir:O,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:S,scrollbarYEnabled:T,onScrollbarYEnabledChange:N,onCornerWidthChange:y,onCornerHeightChange:k,children:g.jsx(He.div,{dir:O,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});yx.displayName=Xh;var wx="ScrollAreaViewport",xx=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,i=ir(wx,r),a=E.useRef(null),l=ct(e,a,i.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),g.jsx(He.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});xx.displayName=wx;var Zr="ScrollAreaScrollbar",Jh=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ir(Zr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=t.orientation==="horizontal";return E.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?g.jsx(o2,{...n,ref:e,forceMount:r}):s.type==="scroll"?g.jsx(i2,{...n,ref:e,forceMount:r}):s.type==="auto"?g.jsx(bx,{...n,ref:e,forceMount:r}):s.type==="always"?g.jsx(Zh,{...n,ref:e}):null});Jh.displayName=Zr;var o2=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ir(Zr,t.__scopeScrollArea),[o,i]=E.useState(!1);return E.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),g.jsx(Bs,{present:r||o,children:g.jsx(bx,{"data-state":o?"visible":"hidden",...n,ref:e})})}),i2=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ir(Zr,t.__scopeScrollArea),o=t.orientation==="horizontal",i=ru(()=>l("SCROLL_END"),100),[a,l]=n2("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),E.useEffect(()=>{const c=s.viewport,d=o?"scrollLeft":"scrollTop";if(c){let f=c[d];const m=()=>{const p=c[d];f!==p&&(l("SCROLL"),i()),f=p};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[s.viewport,o,l,i]),g.jsx(Bs,{present:r||a!=="hidden",children:g.jsx(Zh,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Te(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Te(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),bx=E.forwardRef((t,e)=>{const r=ir(Zr,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,i]=E.useState(!1),a=t.orientation==="horizontal",l=ru(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(a?c:d)}},10);return Ko(r.viewport,l),Ko(r.content,l),g.jsx(Bs,{present:n||o,children:g.jsx(Zh,{"data-state":o?"visible":"hidden",...s,ref:e})})}),Zh=E.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=ir(Zr,t.__scopeScrollArea),o=E.useRef(null),i=E.useRef(0),[a,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Cx(a.viewport,a.content),d={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return f2(m,i.current,a,p)}return r==="horizontal"?g.jsx(a2,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,p=Og(m,a,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?g.jsx(l2,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,p=Og(m,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),a2=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=ir(Zr,t.__scopeScrollArea),[i,a]=E.useState(),l=E.useRef(null),c=ct(e,l,o.onScrollbarXChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(Sx,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":tu(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),Tx(m,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:xc(i.paddingLeft),paddingEnd:xc(i.paddingRight)}})}})}),l2=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=ir(Zr,t.__scopeScrollArea),[i,a]=E.useState(),l=E.useRef(null),c=ct(e,l,o.onScrollbarYChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(Sx,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":tu(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),Tx(m,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:xc(i.paddingTop),paddingEnd:xc(i.paddingBottom)}})}})}),[c2,_x]=vx(Zr),Sx=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...m}=t,p=ir(Zr,r),[w,v]=E.useState(null),S=ct(e,R=>v(R)),x=E.useRef(null),y=E.useRef(""),_=p.viewport,k=n.content-n.viewport,P=kt(d),j=kt(l),T=ru(f,10);function N(R){if(x.current){const O=R.clientX-x.current.left,$=R.clientY-x.current.top;c({x:O,y:$})}}return E.useEffect(()=>{const R=O=>{const $=O.target;(w==null?void 0:w.contains($))&&P(O,k)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,w,k,P]),E.useEffect(j,[n,j]),Ko(w,T),Ko(p.content,T),g.jsx(c2,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:kt(o),onThumbPointerUp:kt(i),onThumbPositionChange:j,onThumbPointerDown:kt(a),children:g.jsx(He.div,{...m,ref:S,style:{position:"absolute",...m.style},onPointerDown:Te(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),x.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(R))}),onPointerMove:Te(t.onPointerMove,N),onPointerUp:Te(t.onPointerUp,R=>{const O=R.target;O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),wc="ScrollAreaThumb",Ex=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=_x(wc,t.__scopeScrollArea);return g.jsx(Bs,{present:r||s.hasThumb,children:g.jsx(u2,{ref:e,...n})})}),u2=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=ir(wc,r),i=_x(wc,r),{onThumbPositionChange:a}=i,l=ct(e,f=>i.onThumbChange(f)),c=E.useRef(void 0),d=ru(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const f=o.viewport;if(f){const m=()=>{if(d(),!c.current){const p=h2(f,a);c.current=p,a()}};return a(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,d,a]),g.jsx(He.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Te(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,v=f.clientY-p.top;i.onThumbPointerDown({x:w,y:v})}),onPointerUp:Te(t.onPointerUp,i.onThumbPointerUp)})});Ex.displayName=wc;var ep="ScrollAreaCorner",kx=E.forwardRef((t,e)=>{const r=ir(ep,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?g.jsx(d2,{...t,ref:e}):null});kx.displayName=ep;var d2=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=ir(ep,r),[o,i]=E.useState(0),[a,l]=E.useState(0),c=!!(o&&a);return Ko(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ko(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),c?g.jsx(He.div,{...n,ref:e,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function xc(t){return t?parseInt(t,10):0}function Cx(t,e){const r=t/e;return isNaN(r)?0:r}function tu(t){const e=Cx(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function f2(t,e,r,n="ltr"){const s=tu(r),o=s/2,i=e||o,a=s-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Px([l,c],f)(t)}function Og(t,e,r="ltr"){const n=tu(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,i=e.content-e.viewport,a=o-n,l=r==="ltr"?[0,i]:[i*-1,0],c=r2(t,l);return Px([0,i],[0,a])(c)}function Px(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Tx(t,e){return t>0&&t<e}var h2=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ru(t,e){const r=kt(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Ko(t,e){const r=kt(e);vn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var jx=yx,p2=xx,m2=kx;const nu=E.forwardRef(({className:t,children:e,...r},n)=>g.jsxs(jx,{ref:n,className:Ht("relative overflow-hidden",t),...r,children:[g.jsx(p2,{className:"h-full w-full rounded-[inherit]",children:e}),g.jsx(Ax,{}),g.jsx(m2,{})]}));nu.displayName=jx.displayName;const Ax=E.forwardRef(({className:t,orientation:e="vertical",...r},n)=>g.jsx(Jh,{ref:n,orientation:e,className:Ht("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:g.jsx(Ex,{className:"relative flex-1 rounded-full bg-border"})}));Ax.displayName=Jh.displayName;const Rx={CH:"Ç",LL:"K",RR:"W"},xe=t=>{if(!t)return"";let e=t.toUpperCase();return e=e.replace(/Ñ/g,"#"),e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),e=e.replace(/#/g,"Ñ"),Object.entries(Rx).forEach(([r,n])=>{e=e.replace(new RegExp(r,"g"),n)}),e},we=t=>{if(!t)return"";let e=t;return Object.entries(Rx).forEach(([r,n])=>{e=e.replace(new RegExp(n,"g"),r)}),e},is=t=>[...t].sort((e,r)=>{const n=Lg.indexOf(e),s=Lg.indexOf(r);return n-s}).join(""),Il=t=>xe(t).length,Lg="AEIOUBCÇDFGHJLKMNÑPQRWSTVXYZ",g2=Object.freeze(Object.defineProperty({__proto__:null,generateAlphagram:is,getInternalLength:Il,processDigraphs:xe,toDisplayFormat:we},Symbol.toStringTag,{value:"Module"})),v2=({word:t,result:e})=>e.checked?g.jsx(nu,{className:`h-40 rounded-md border border-gray-200 ${e.isValid?"bg-scrabble-valid":"bg-scrabble-invalid"} text-white relative`,children:g.jsx("div",{className:"p-4 min-h-full flex items-center py-0 my-0",children:g.jsx("div",{className:"relative w-full",children:g.jsx("div",{className:"flex flex-wrap gap-3",children:e.words.map((r,n)=>g.jsx("span",{className:"text-4xl font-bold",children:we(r)},n))})})})}):null,y2=({isDictionaryLoading:t,progress:e,trie:r,stage:n="processing",wordCount:s=0})=>{const[o,i]=E.useState(""),[a,l]=E.useState(!1),[c,d]=E.useState({isValid:!1,checked:!1,words:[]}),[f,m]=E.useState("none");E.useEffect(()=>{(()=>{const y=r.getCurrentProvider();m(y)})();const x=setInterval(()=>{const y=r.getCurrentProvider();m(y),(y==="sqlite"||y==="trie")&&clearInterval(x)},2e3);return()=>clearInterval(x)},[r]);const p=async()=>{if(!(!o.trim()||t)){l(!0);try{const S=o.trim().split(" ");console.log("Validating words:",S);const x=r.getAllWords();console.log("Total words in trie:",x.length);const y=await Promise.all(S.map(async _=>{const k=_.toUpperCase();console.log("Validating word:",_,"uppercase:",k);const P=await r.searchAsync(k);return console.log("Word found?",P),P})).then(_=>_.every(k=>k));d({isValid:y,checked:!0,words:S.map(_=>_.toUpperCase())})}finally{l(!1)}}},w=()=>{a||(i(""),d({isValid:!1,checked:!1,words:[]}))},v=S=>{i(S),S!==o&&d(x=>({...x,checked:!1}))};return g.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 flex flex-col items-center relative",children:[g.jsxs("div",{className:"w-full max-w-md space-y-4",children:[g.jsx(BT,{}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(VT,{word:o,isLoading:t||a,onWordChange:v,onValidate:c.checked?w:p,buttonText:c.checked?"Limpiar":"Validar",isChecked:c.checked}),c.checked&&g.jsx(v2,{word:o,result:c}),t&&g.jsx(ZT,{progress:e,stage:n})]})]}),!t&&g.jsx("div",{className:"fixed bottom-4 left-4 bg-white shadow-md rounded-lg px-3 py-2 flex items-center gap-2 text-xs text-gray-600 border border-gray-200",children:f==="trie"?g.jsxs(g.Fragment,{children:[g.jsx(TE,{size:14,className:"text-yellow-600"}),g.jsx("span",{children:"Trie"})]}):f==="sqlite"?g.jsxs(g.Fragment,{children:[g.jsx(Zu,{size:14,className:"text-blue-600"}),g.jsx("span",{children:"SQLite"})]}):f==="supabase"?g.jsxs(g.Fragment,{children:[g.jsx(Zu,{size:14,className:"text-green-600"}),g.jsx("span",{children:"Supabase"})]}):g.jsxs(g.Fragment,{children:[g.jsx(Zu,{size:14,className:"text-gray-400"}),g.jsx("span",{children:"Cargando..."})]})}),s>0&&!t&&g.jsxs("div",{className:"fixed bottom-4 right-4 bg-white shadow-md rounded-lg px-3 py-2 flex items-center gap-2 text-sm text-gray-700 border border-gray-200",children:[g.jsx(lw,{size:16,className:"text-green-600"}),g.jsxs("span",{children:[s.toLocaleString("en-US")," palabras"]})]})]})},Nx=E.forwardRef(({className:t,type:e,...r},n)=>g.jsx("input",{type:e,className:Ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Nx.displayName="Input";const w2=({isPatternMode:t,children:e})=>{const[r,n]=E.useState(!1);return t?g.jsx("div",{className:"relative flex-1",children:e}):g.jsx(g.Fragment,{children:e})},x2=t=>{const e=t.split(":");if(e.length>2){const[r,n,...s]=e;return r+":"+n}if(e.length===2){const[r,n]=e,s=r.replace(/[^A-ZÑÇKW?,]/g,""),o=n.replace(/[^0-9]/g,"");return s+":"+o}return t.replace(/[^A-ZÑÇKW?,\:]/g,"")},b2=t=>{const e=t.split(",");if(e.length>1){let[s,o]=e;const i=o.replace(/[^A-ZÑÇKW?]/g,""),a=s.split(":");if(a.length>1){const[c,d]=a,f=c.replace(/[^A-ZÑÇKW*.\^$\-]/g,""),m=d.replace(/[^0-9]/g,"");return`${f}:${m},${i}`}return`${s.replace(/[^A-ZÑÇKW*.\^$\-]/g,"")},${i}`}const r=t.split(":");if(r.length>1){const[s,o,...i]=r,a=s.replace(/[^A-ZÑÇKW*\^$\-]/g,""),l=o.replace(/[^0-9]/g,"");return`${a}:${l}`}if(t.endsWith(":"))return`${t.slice(0,-1).replace(/[^A-ZÑÇKW*.\^$\-]/g,"")}:`;const n=t.match(/^([A-ZÑÇKW*.\^$\-]*):(\d*)$/);if(n){const[s,o,i]=n;return`${o.replace(/[^A-ZÑÇKW*.\^$\-]/g,"")}:${i}`}return t.replace(/[^A-ZÑÇKW*.\^$\-\:,]/g,"")},_2=({onClick:t,hasActiveSearch:e,isDisabled:r})=>g.jsx("button",{onClick:t,disabled:r,className:"h-10 w-10 p-0 hover:text-gray-600 px-[2px] mx-0 my-[4px] flex items-center justify-center",children:e?g.jsx(Ws,{className:"h-6 w-6"}):g.jsx(CE,{className:"h-6 w-6"})}),S2=({letters:t,onInputChange:e,onSearch:r,onKeyPress:n,inputRef:s,onClear:o})=>{const[i,a]=E.useState(!1),[l,c]=E.useState(!1),d=E.useRef(null);E.useEffect(()=>{const w=t.includes("*")||t.includes(".")||t.includes("^")||t.includes("$")||t.includes("-");a(w);const v=t.includes(":")&&/\:\d+/.test(t);c(v)},[t]),E.useEffect(()=>{const w=v=>{var S,x;v.key==="F2"?(v.preventDefault(),(S=s.current)==null||S.focus()):v.key==="Escape"&&o&&(v.preventDefault(),o(),(x=s.current)==null||x.focus())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[s,o]),E.useEffect(()=>{d.current!==null&&s.current&&(s.current.setSelectionRange(d.current,d.current),d.current=null)},[t]);const f=w=>{d.current=w.target.selectionStart;let v=w.target.value.toUpperCase();const S=v.includes(":"),x=w.target.selectionStart||0,y=S&&x>v.indexOf(":"),k=v.includes("*")||v.includes(".")||v.includes("^")||v.includes("$")||v.includes("-")?b2(v):x2(v);if(y&&k!==v){const P=k.indexOf(":");if(P>=0){const j=x-v.indexOf(":")-1;d.current=P+Math.min(j+1,k.length-P)}}e(k)},m=w=>{w.key==="Escape"&&o?(w.preventDefault(),o()):(w.key==="Enter"&&s.current&&s.current.blur(),n(w))},p=()=>{t.trim()&&o?o():(r(),s.current&&s.current.blur())};return g.jsx("div",{className:"space-y-2",children:g.jsx(w2,{isPatternMode:i,children:g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Nx,{ref:s,type:"text",placeholder:i?"Ej: -AR (termina con AR), CO* (empieza con CO), .R.. (. = una letra, * = cero o más)":"? es comodín",value:t,onChange:f,onKeyDown:m,className:"text-xl h-12 text-left pr-12 border border-gray-200 rounded-md w-full",style:{paddingRight:"3rem"},autoFocus:!0,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off","data-form-type":"other",inputMode:"text"}),g.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:g.jsx(_2,{onClick:p,hasActiveSearch:!!t.trim(),isDisabled:!t.trim()})})]})})})},E2=({onSearch:t,onClear:e})=>{const[r,n]=E.useState(""),[s,o]=E.useState([]),[i,a]=E.useState(-1),l=E.useRef(null);zc();const c=p=>{let w=null,v=p;const S=p.match(/\:(\d+)$/);return S&&(w=parseInt(S[1],10),console.log("Target length extracted from colon format:",w)),n(v),w},d=()=>{if(r.trim()){const p=c(r);t(r,p),s.includes(r)||o([r,...s.slice(0,9)]),a(-1),l.current&&l.current.blur()}},f=()=>{var p;n(""),a(-1),e(),(p=l.current)==null||p.focus()},m=p=>{if(p.key==="Enter")d();else if(p.key==="ArrowUp"){if(p.preventDefault(),i<s.length-1){const w=i+1;a(w),n(s[w])}}else if(p.key==="ArrowDown"&&(p.preventDefault(),i>-1)){const w=i-1;a(w),n(w===-1?"":s[w])}};return g.jsx(S2,{letters:r,onInputChange:c,onSearch:d,onClear:f,onKeyPress:m,inputRef:l})};function Ox(t,e){if(!t||!e||!e.includes("?"))return[];const r=e.replace(/\/\d+$/,"").replace(/\?/g,""),n=xe(t),s=xe(r),o=new Map;for(const l of s)o.set(l,(o.get(l)||0)+1);const i=new Set;for(let l=0;l<n.length;l++){const c=n[l];o.has(c)&&o.get(c)>0&&(i.add(l),o.set(c,o.get(c)-1))}const a=[];for(let l=0;l<n.length;l++)i.has(l)||a.push(l);return a}const nd={A:1,E:1,O:1,I:1,S:1,N:1,R:1,U:1,L:1,T:1,D:2,G:2,C:3,B:3,M:3,P:3,H:4,F:4,V:4,Y:4,CH:5,Q:5,J:8,LL:8,Ñ:8,RR:8,X:8,Z:10},Dl=(t,e)=>{let r=0,n=0,s=[];for(e&&e.includes("?")&&(s=Ox(t,e));n<t.length;){const o=t.substring(n,n+2).toUpperCase();if((o==="CH"||o==="LL"||o==="RR")&&nd[o])s.includes(n)||s.includes(n+1)?r+=0:r+=nd[o],n+=2;else{const i=t[n].toUpperCase();if(s.includes(n))r+=0;else{const l=nd[i]||0;r+=l}n++}}return r},k2="modulepreload",C2=function(t){return"/"+t},Mg={},Er=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=C2(l),l in Mg)return;Mg[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":k2,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},P2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Er(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class tp extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class T2 extends tp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $g extends tp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ig extends tp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sf||(Sf={}));var j2=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class A2{constructor(e,{headers:r={},customFetch:n,region:s=Sf.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=P2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return j2(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(a["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(a["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(v=>{throw new T2(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new $g(f);if(!f.ok)throw new Ig(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield f.json():p==="application/octet-stream"?w=yield f.blob():p==="text/event-stream"?w=f:p==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Ig||s instanceof $g?s.context:void 0}}})}}var Ot={},rp={},su={},Ca={},ou={},iu={},R2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Go=R2();const N2=Go.fetch,Lx=Go.fetch.bind(Go),Mx=Go.Headers,O2=Go.Request,L2=Go.Response,ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mx,Request:O2,Response:L2,default:Lx,fetch:N2},Symbol.toStringTag,{value:"Module"})),M2=gv(ni);var au={};Object.defineProperty(au,"__esModule",{value:!0});let $2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};au.default=$2;var $x=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iu,"__esModule",{value:!0});const I2=$x(M2),D2=$x(au);let W2=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=I2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l,c;let d=null,f=null,m=null,p=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const S=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");S&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const S=await o.text();try{d=JSON.parse(S),Array.isArray(d)&&o.status===404&&(f=[],d=null,p=200,w="OK")}catch{o.status===404&&S===""?(p=204,w="No Content"):d={message:S}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,w="OK"),d&&this.shouldThrowOnError)throw new D2.default(d)}return{error:d,data:f,count:m,status:p,statusText:w}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};iu.default=W2;var F2=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ou,"__esModule",{value:!0});const z2=F2(iu);let U2=class extends z2.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ou.default=U2;var B2=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ca,"__esModule",{value:!0});const q2=B2(ou);let V2=class extends q2.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ca.default=V2;var H2=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(su,"__esModule",{value:!0});const Ei=H2(Ca);let Q2=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new Ei.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const o="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ei.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ei.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Ei.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ei.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};su.default=Q2;var Ix=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rp,"__esModule",{value:!0});const K2=Ix(su),G2=Ix(Ca);let Y2=class Dx{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new K2.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(a="POST",c=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new G2.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};rp.default=Y2;var si=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const Wx=si(rp);Ot.PostgrestClient=Wx.default;const Fx=si(su);Ot.PostgrestQueryBuilder=Fx.default;const zx=si(Ca);Ot.PostgrestFilterBuilder=zx.default;const Ux=si(ou);Ot.PostgrestTransformBuilder=Ux.default;const Bx=si(iu);Ot.PostgrestBuilder=Bx.default;const qx=si(au);Ot.PostgrestError=qx.default;var X2=Ot.default={PostgrestClient:Wx.default,PostgrestQueryBuilder:Fx.default,PostgrestFilterBuilder:zx.default,PostgrestTransformBuilder:Ux.default,PostgrestBuilder:Bx.default,PostgrestError:qx.default};const{PostgrestClient:J2,PostgrestQueryBuilder:SN,PostgrestFilterBuilder:EN,PostgrestTransformBuilder:kN,PostgrestBuilder:CN,PostgrestError:PN}=X2;class Z2{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ej="2.15.4",tj=`realtime-js/${ej}`,rj="1.0.0",Ef=1e4,nj=1e3,sj=100;var qi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qi||(qi={}));var Ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ge||(Ge={}));var xr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xr||(xr={}));var kf;(function(t){t.websocket="websocket"})(kf||(kf={}));var Ss;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ss||(Ss={}));class oj{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+s));i=i+s;const l=n.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Vx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pe||(Pe={}));const Dg=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=ij(i,t,e,s),o),{})},ij=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Hx(o,i):Cf(i)},Hx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return uj(e,r)}switch(t){case Pe.bool:return aj(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return lj(e);case Pe.json:case Pe.jsonb:return cj(e);case Pe.timestamp:return dj(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return Cf(e);default:return Cf(e)}},Cf=t=>t,aj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uj=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Hx(e,a))}return t},dj=t=>typeof t=="string"?t.replace(" ","T"):t,Qx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class sd{constructor(e,r,n={},s=Ef){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wg||(Wg={}));class Vi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Vi.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Vi.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const m=d.map(S=>S.presence_ref),p=f.map(S=>S.presence_ref),w=d.filter(S=>p.indexOf(S.presence_ref)<0),v=f.filter(S=>m.indexOf(S.presence_ref)<0);w.length>0&&(a[c]=w),v.length>0&&(l[c]=v)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...m)}n(a,d,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fg||(Fg={}));var Hi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Hi||(Hi={}));var an;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class np{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sd(this,xr.join,this.params,this.timeout),this.rejoinTimer=new Vx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Vi(this),this.broadcastEndpointURL=Qx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Hi.PRESENCE]&&this.bindings[Hi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(an.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(an.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){e==null||e(an.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,x=[];for(let y=0;y<S;y++){const _=v[y],{filter:{event:k,schema:P,table:j,filter:T}}=_,N=p&&p[y];if(N&&N.event===k&&N.schema===P&&N.table===j&&N.filter===T)x.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=Ge.errored,e==null||e(an.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(an.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ge.errored,e==null||e(an.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(an.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ge.joined&&e===Hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new sd(this,xr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=xr;if(n&&[a,l,c,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,v,S;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(v=p.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,v,S,x,y,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const k=p.id,P=(w=p.filter)===null||w===void 0?void 0:w.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const k=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:v,table:S,commit_timestamp:x,type:y,errors:_}=w;m=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:x,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&np.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xr.close,{},e)}_onError(e){this._on(xr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Dg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Dg(e.columns,e.old_record)),r}}const od=()=>{},ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fj=[1e3,2e3,5e3,1e4],hj=1e4,pj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mj{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ef,this.transport=null,this.heartbeatIntervalMs=ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=od,this.ref=0,this.reconnectTimer=null,this.logger=od,this.conn=null,this.sendBuffer=[],this.serializer=new oj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>Er(async()=>{const{default:a}=await Promise.resolve().then(()=>ni);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${kf.websocket}`,this.httpEndpoint=Qx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Z2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rj}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qi.connecting:return Ss.Connecting;case qi.open:return Ss.Open;case qi.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new np(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(nj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([pj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:tj};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(xr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Vx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ef,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ml.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:od,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>fj[f-1]||hj,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,m)=>m(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class sp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gj extends sp{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pf extends sp{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var vj=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Kx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Er(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},yj=()=>vj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Er(()=>Promise.resolve().then(()=>ni),void 0)).Response:Response}),Tf=t=>{if(Array.isArray(t))return t.map(r=>Tf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Tf(n)}),e},wj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var qs=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const id=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xj=(t,e,r)=>qs(void 0,void 0,void 0,function*(){const n=yield yj();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new gj(id(s),o,i))}).catch(s=>{e(new Pf(id(s),s))}):e(new Pf(id(t),t))}),bj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(wj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Pa(t,e,r,n,s,o){return qs(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,bj(e,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>xj(l,a,n))})})}function bc(t,e,r,n){return qs(this,void 0,void 0,function*(){return Pa(t,"GET",e,r,n)})}function Wr(t,e,r,n,s){return qs(this,void 0,void 0,function*(){return Pa(t,"POST",e,n,s,r)})}function jf(t,e,r,n,s){return qs(this,void 0,void 0,function*(){return Pa(t,"PUT",e,n,s,r)})}function _j(t,e,r,n){return qs(this,void 0,void 0,function*(){return Pa(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gx(t,e,r,n,s){return qs(this,void 0,void 0,function*(){return Pa(t,"DELETE",e,n,s,r)})}var bt=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Sj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ej{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Kx(s)}uploadOrUpdate(e,r,n,s){return bt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},zg),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(e=="PUT"?jf:Wr)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}upload(e,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return bt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:zg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield jf(this.fetch,a.toString(),l,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Wr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new sp("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}update(e,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(e,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Wr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return bt(this,void 0,void 0,function*(){try{const s=yield Wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(e,r){return bt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield bc(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}info(e){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield bc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tf(n),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}exists(e){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield _j(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ye(n)&&n instanceof Pf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(e,r,n){return bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Sj),r),{prefix:e||""});return{data:yield Wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}listV2(e,r){return bt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Wr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const kj="2.11.0",Cj={"X-Client-Info":`storage-js/${kj}`};var Ys=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Pj{constructor(e,r={},n,s){const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Cj),r),this.fetch=Kx(n)}listBuckets(){return Ys(this,void 0,void 0,function*(){try{return{data:yield bc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ye(e))return{data:null,error:e};throw e}})}getBucket(e){return Ys(this,void 0,void 0,function*(){try{return{data:yield bc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ys(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ys(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ys(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ys(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class Tj extends Pj{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Ej(this.url,this.headers,e,this.fetch)}}const jj="2.57.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const Aj={"X-Client-Info":`supabase-js-${Ri}/${jj}`},Rj={headers:Aj},Nj={schema:"public"},Oj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lj={};var Mj=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const $j=t=>{let e;return t?e=t:typeof fetch>"u"?e=Lx:e=fetch,(...r)=>e(...r)},Ij=()=>typeof Headers>"u"?Mx:Headers,Dj=(t,e,r)=>{const n=$j(r),s=Ij();return(o,i)=>Mj(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:c}))})};var Wj=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Fj(t){return t.endsWith("/")?t:t+"/"}function zj(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Wj(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Yx="2.71.1",to=30*1e3,Af=3,ad=Af*to,Uj="http://localhost:9999",Bj="supabase.auth.token",qj={"X-Client-Info":`gotrue-js/${Yx}`},Rf="X-Supabase-Api-Version",Xx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hj=10*60*1e3;class op extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Qj extends op{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Kj(t){return ue(t)&&t.name==="AuthApiError"}class Jx extends op{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class us extends op{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class On extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gj(t){return ue(t)&&t.name==="AuthSessionMissingError"}class gl extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vl extends us{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yl extends us{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yj(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ug extends us{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nf extends us{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ld(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class Bg extends us{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Of extends us{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qg=` 	
\r=`.split(""),Xj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qg.length;e+=1)t[qg[e].charCodeAt(0)]=-2;for(let e=0;e<_c.length;e+=1)t[_c[e].charCodeAt(0)]=e;return t})();function Vg(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(_c[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(_c[n]),e.queuedBits-=6}}function Zx(t,e,r){const n=Xj[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hg(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{eA(i,n,r)};for(let i=0;i<t.length;i+=1)Zx(t.charCodeAt(i),s,o);return e.join("")}function Jj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zj(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Jj(n,e)}}function eA(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function tA(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Zx(t.charCodeAt(s),r,n);return new Uint8Array(e)}function rA(t){const e=[];return Zj(t,r=>e.push(r)),new Uint8Array(e)}function nA(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Vg(s,r,n)),Vg(null,r,n),e.join("")}function sA(t){return Math.round(Date.now()/1e3)+t}function oA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const pr=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},eb=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function iA(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const tb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Er(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},aA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ro=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jn=async(t,e)=>{await t.removeItem(e)};class lu{constructor(){this.promise=new lu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}lu.promiseConstructor=Promise;function cd(t){const e=t.split(".");if(e.length!==3)throw new Of("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Vj.test(e[n]))throw new Of("JWT not in base64url format");return{header:JSON.parse(Hg(e[0])),payload:JSON.parse(Hg(e[1])),signature:tA(e[2]),raw:{header:e[0],payload:e[1]}}}async function lA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cA(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function uA(t){return("0"+t.toString(16)).substr(-2)}function dA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,uA).join("")}async function fA(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function hA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fA(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xs(t,e,r=!1){const n=dA();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ro(t,`${e}-code-verifier`,s);const o=await hA(n);return[o,n===o?"plain":"s256"]}const pA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mA(t){const e=t.headers.get(Rf);if(!e||!e.match(pA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Js(t){if(!yA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ud(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qg(t){return JSON.parse(JSON.stringify(t))}var wA=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const _s=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xA=[502,503,504];async function Kg(t){var e;if(!aA(t))throw new Nf(_s(t),0);if(xA.includes(t.status))throw new Nf(_s(t),t.status);let r;try{r=await t.json()}catch(o){throw new Jx(_s(o),o)}let n;const s=mA(t);if(s&&s.getTime()>=Xx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bg(_s(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new On}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Bg(_s(r),t.status,r.weak_password.reasons);throw new Qj(_s(r),t.status||500,n)}const bA=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ge(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Rf]||(o[Rf]=Xx["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await _A(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _A(t,e,r,n,s,o){const i=bA(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new Nf(_s(l),0)}if(a.ok||await Kg(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Kg(l)}}function sn(t){var e;let r=null;CA(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=sA(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Gg(t){const e=sn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SA(t){return{data:t,error:null}}function EA(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=wA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function kA(t){return t}function CA(t){return t.access_token&&t.refresh_token&&t.expires_in}const dd=["global","local","others"];var PA=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class TA{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=tb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=dd[0]){if(dd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dd.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=PA(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:EA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:kA});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);c[`${S}Page`]=v}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Js(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Js(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Dn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Js(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Js(e.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Js(e.userId),Js(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function Yg(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function jA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zs={debug:!!(globalThis&&eb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AA extends rb{}async function RA(t,e,r){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}jA();const NA={url:Uj,storageKey:Bj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xg(t,e,r){return await r()}const eo={};class pa{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pa.nextInstanceID,pa.nextInstanceID+=1,this.instanceID>0&&pr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},NA),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new TA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tb(s.fetch),this.lock=s.lock||Xg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:pr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RA:this.lock=Xg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:eb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=eo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=eo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=iA(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),pr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Yj(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new Jx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:sn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:f,options:m}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Xs(this.storage,this.storageKey)),o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:sn})}else if("phone"in e){const{phone:d,password:f,options:m}=e;o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:sn})}else throw new vl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gg})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gg})}else throw new vl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,a,l,c,d,f,m,p;let w,v;if("message"in e)w=e.message,v=e.signature;else{const{chain:S,wallet:x,statement:y,options:_}=e;let k;if(pr())if(typeof x=="object")k=x;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))k=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const P=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const j=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),y?{statement:y}:null));let T;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")T=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)T=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),v=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${P.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const j=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:S,error:x}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:nA(v)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sn});if(x)throw x;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new gl}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:x})}catch(S){if(ue(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const r=await vs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:sn});if(await jn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new gl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ue(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Xs(this.storage,this.storageKey));const{error:f}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new vl("You must provide either an email or phone number.")}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:sn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Xs(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:SA})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new On;const{error:s}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new vl("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await vs(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=ud()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Dn})})}catch(r){if(ue(r))return Gj(r)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new On;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Xs(this.storage,this.storageKey));const{data:c,error:d}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Dn});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=cd(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new On;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!pr())throw new yl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ug("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ug("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new yl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;l&&(m=parseInt(l));const p=m-d;p*1e3<=to&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=m-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:v,error:S}=await this._getUser(o);if(S)throw S;const x={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(Kj(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=oA(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Xs(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return pr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ue(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cA(async s=>(s>0&&await lA(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:sn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ld(o)&&Date.now()+i-n<to})}catch(n){if(this._debug(r,"error",n),ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await vs(this.storage,this.storageKey);if(s&&this.userStorage){let i=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ro(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:ud()}else if(s&&!s.user&&!s.user){const i=await vs(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await jn(this.storage,this.storageKey+"-user"),await ro(this.storage,this.storageKey,s)):s.user=ud()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ad;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${ad}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ld(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lu;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new On;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),ue(o)){const i={session:null,error:o};return ld(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ro(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Qg(s);await ro(this.storage,this.storageKey,o)}else{const s=Qg(r);await ro(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),to);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/to);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${to}ms, refresh threshold is ${Af} ticks`),s<=Af&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Xs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=cd(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Hj>s)return n;const{data:o,error:i}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=cd(n);r!=null&&r.allowExpired||gA(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=vA(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,rA(`${a}.${l}`)))throw new Of("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}pa.nextInstanceID=0;const OA=pa;class LA extends OA{constructor(e){super(e)}}var MA=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class $A{constructor(e,r,n){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Fj(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Nj,realtime:Lj,auth:Object.assign(Object.assign({},Oj),{storageKey:c}),global:Rj},f=zj(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=Dj(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new J2(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Tj(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new A2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return MA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:a,lock:l,debug:c},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LA({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new mj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const IA=(t,e,r)=>new $A(t,e,r);function DA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}DA()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WA="https://duxzmtvrcaphljakflod.supabase.co",FA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1eHptdHZyY2FwaGxqYWtmbG9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI4MzAxNTYsImV4cCI6MjA0ODQwNjE1Nn0.itzLd_tutXAMakVDJKeWkXZYajs16SkOGmiPKzs0FEk",nt=IA(WA,FA),qr=new Map,Fr={hits:0,misses:0},wl="?ABC[CH]DEFGHIJL[LL]MNÑOPQR[RR]STUVXYZ",Xr=new Map;let xl=0;for(let t=0;t<wl.length;t++){const e=wl[t];if(e==="["){const r=wl.indexOf("]",t),n=wl.substring(t,r+1);Xr.set(n,xl),xl++,t=r}else Xr.set(e,xl),xl++}Xr.set("Ç",Xr.get("C")+.1);Xr.set("K",Xr.get("L")+.1);Xr.set("W",Xr.get("R")+.1);function Jg(t){return t.sort((e,r)=>{const n=Xr.get(e)??999,s=Xr.get(r)??999;return n===999&&console.warn(`⚠️ Letra no encontrada en orden: "${e}"`),s===999&&console.warn(`⚠️ Letra no encontrada en orden: "${r}"`),n-s})}function Sc(t,e,r){const n=xe(t.toUpperCase()),s=xe(e.toUpperCase());if((n.match(/\?/g)||[]).length>0&&r){const i=Ox(e,r),l=[...n.split("")],c=i.length;for(let m=0;m<c;m++){const p=l.indexOf("?");p!==-1&&l.splice(p,1)}for(let m=0;m<s.length;m++){const p=s[m];if(!i.includes(m)){const v=l.indexOf(p);v!==-1&&l.splice(v,1)}}let f=Jg(l).join("");return f=f.replace(/Ç/g,"[CH]"),f=f.replace(/K/g,"[LL]"),f=f.replace(/W/g,"[RR]"),f}else{const i=n.split("").sort(),a=s.split("").sort(),l=[...i];for(const f of a){const m=l.indexOf(f);m!==-1&&l.splice(m,1)}let d=Jg(l).join("");return d=d.replace(/Ç/g,"[CH]"),d=d.replace(/K/g,"[LL]"),d=d.replace(/W/g,"[RR]"),d}}async function zA(t){if(qr.has(t))return Fr.hits++,qr.get(t);Fr.misses++;try{const{data:e,error:r}=await nt.from("leaves").select("*").eq("leave",t).single();let n=null;if(r)console.warn(`No se encontró valor para residuo "${t}":`,r),n=null;else if(e){const s=Object.values(e).filter(o=>typeof o=="number");s.length>0?n=s[0]:n=null}if(qr.set(t,n),(Fr.hits+Fr.misses)%50===0){const s=Fr.hits+Fr.misses,o=(Fr.hits/s*100).toFixed(1);console.log(`📊 Leaves Cache Stats: ${Fr.hits}/${s} hits (${o}% hit rate)`)}return n}catch(e){return console.error("Error consultando leaves:",e),qr.set(t,null),null}}async function UA(t){const e=new Map,r=[];for(const n of t)qr.has(n)?(Fr.hits++,e.set(n,qr.get(n))):r.push(n);if(r.length===0)return e;Fr.misses+=r.length;try{const{data:n,error:s}=await nt.from("leaves").select("*").in("leave",r);if(s){console.error("Error en batch query de leaves:",s);for(const i of r)qr.set(i,null),e.set(i,null);return e}const o=new Set;if(n)for(const i of n){const a=i.leave,l=Object.values(i).filter(d=>typeof d=="number"),c=l.length>0?l[0]:null;qr.set(a,c),e.set(a,c),o.add(a)}for(const i of r)o.has(i)||(qr.set(i,null),e.set(i,null));return console.log(`🚀 Batch query: ${r.length} leaves in 1 query (vs ${r.length} individual queries)`),e}catch(n){console.error("Error en batch query de leaves:",n);for(const s of r)qr.set(s,null),e.set(s,null);return e}}async function BA(t,e,r,n){const s=Sc(e,r,n),o=await zA(s);if(o===null)return console.warn(`No se encontró valor para residuo "${s}"`),t;const i=t+o;return Math.round(i*100)/100}const Ni=(t,e)=>{const r=t.includes("*")||t.includes(".")||t.includes("-")||t.includes("^")||t.includes("$")||t.includes(":"),n=r&&t.includes(","),s=(e==null?void 0:e.includes("más cortas"))||(e==null?void 0:e.includes("cortas"))||(e==null?void 0:e.includes("shorter"))||(e==null?void 0:e.includes("subanagram"))||!1;let o="";return n?o=t.split(",")[1]||"":r||(o=t),{isPatternSearch:r,hasRackRestriction:n,rack:o.trim(),shouldShowEquityAndResidue:s&&!n}},Zg=({word:t,displayWord:e,searchTerm:r,title:n,highlightWildcardLetter:s,index:o,length:i,showResidue:a=!1})=>{const[l,c]=E.useState(null),[d,f]=E.useState(""),[m,p]=E.useState(!1),w=Dl(e,r),v=r&&e.length<r.length;return E.useEffect(()=>{(async()=>{if(r&&(r.includes("*")||r.includes(".")||r.includes(",")||r.includes("-"))){c(w),a&&f("");return}if(!v){c(w),a&&f("");return}p(!0);try{const x=await BA(w,r,e.toUpperCase(),r);if(c(x),a){const y=Ni(r,n);if(y.shouldShowEquityAndResidue&&y.rack){const _=Sc(y.rack,e.toUpperCase(),r);f(_)}else f("")}}catch(x){console.error("Error calculating equity:",x),c(w),a&&f("")}finally{p(!1)}})()},[w,r,e,v,a]),g.jsx("div",{className:`p-1.5 text-lg ${a?"block w-full":""}`,children:g.jsxs("span",{className:"flex items-center gap-2",children:[a&&g.jsx("span",{className:`text-sm ${v&&l!==w?"text-green-600 font-medium":"text-gray-500"}`,children:m?"...":l||w}),g.jsx("a",{href:`https://dle.rae.es/?w=${e}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 transition-colors",children:s&&r?s(e,r):e}),a&&g.jsxs("span",{className:`text-sm ${v&&l!==w?"text-green-600 font-medium":"text-gray-500"}`,children:["(",m?"...":d||l||w,")"]})]})},`word-${i}-${o}`)},ip=({matches:t,title:e,highlightWildcardLetter:r,searchTerm:n,isShortMode:s,sortAscending:o=!1,sortByEquity:i=!1,unifiedEquityView:a=!1})=>{const[l,c]=E.useState(new Map),[d,f]=E.useState(!1),[m,p]=E.useState(new Set),w=P=>{p(j=>{const T=new Set(j);return T.has(P)?T.delete(P):T.add(P),T})};if(E.useEffect(()=>{const P=t.reduce((N,R)=>{const O=Il(R);return N[O]||(N[O]=[]),N[O].push(R),N},{}),j=Object.keys(P).map(Number).sort((N,R)=>R-N),T=new Set(j.slice(0,2));p(T)},[t]),E.useEffect(()=>{if(!i&&!a||!n||n.includes("*")||n.includes(".")||n.includes(",")||n.includes("-"))return;(async()=>{f(!0);const j=new Map,T=[],N=[];for(const R of t)we(R).length<n.length?T.push(R):N.push(R);for(const R of N){const O=we(R),$=Dl(O,n);j.set(R,$)}if(T.length>0){console.log(`🚀 Calculating equity for ${T.length} subanagrams using batch optimization`);const R=[],O=new Map;for(const $ of T){const I=we($),D=Ni(n,e).rack||n,K=Sc(D,I.toUpperCase(),n);R.push(K),O.set($,K)}try{const $=await UA(R);for(const I of T){const U=we(I),D=Dl(U,n),K=O.get(I),Q=$.get(K),X=Q!==null?D+Q:D;j.set(I,Math.round(X*100)/100)}}catch($){console.error("Error in batch equity calculation:",$);for(const I of T){const U=we(I),D=Dl(U,n);j.set(I,D)}}}c(j),f(!1)})()},[t,n,i,a,e]),t.length===0)return g.jsx("div",{className:"space-y-4 pb-8",children:g.jsx("h3",{className:"font-semibold text-lg",children:e.includes("adicional")?"0 palabras encontradas usando todas las fichas más una letra adicional:":"0 palabras encontradas usando todas las fichas:"})});if(a){const P=Ni(n,e),j=[...t].sort((T,N)=>{const R=l.get(T)||0;return(l.get(N)||0)-R});return g.jsxs("div",{className:"space-y-4 pb-8",children:[g.jsxs("h3",{className:"font-semibold text-lg",children:[`${t.length} ${t.length===1?"palabra encontrada":"palabras encontradas"} ordenadas por equity:`,d&&g.jsxs("span",{className:"text-sm text-orange-600 font-normal",children:[" ","(calculando equity...)"]})]}),g.jsx("div",{className:"flex flex-col gap-1",children:j.map((T,N)=>{const R=we(T),O=Il(T);return g.jsx(Zg,{word:T,displayWord:R,searchTerm:n,title:e,highlightWildcardLetter:r,index:N,length:O,showResidue:P.shouldShowEquityAndResidue},`unified-${N}`)})})]})}const v=t.reduce((P,j)=>{const T=Il(j);return P[T]||(P[T]=[]),P[T].push(j),P},{});i&&l.size>0&&!d&&Object.keys(v).forEach(P=>{v[parseInt(P)].sort((j,T)=>{const N=l.get(j)||0;return(l.get(T)||0)-N})});const S=Object.keys(v).map(Number).sort((P,j)=>o?P-j:j-P),x=Ni(n,e),y=x.shouldShowEquityAndResidue&&t.some(P=>{const j=we(P);return n&&j.length<n.length}),k=(()=>{if(!y||l.size===0)return null;const P={};return S.forEach(j=>{const T=v[j];let N=-1/0,R="";if(T.forEach(O=>{const $=l.get(O)||0;$>N&&(N=$,R=O)}),R){const O=we(R),$=x.rack||n||"",I=Sc($,O.toUpperCase(),n||"");P[j]={word:R,equity:N,residue:I}}}),P})();return g.jsxs("div",{className:"space-y-4 pb-8",children:[k&&Object.keys(k).length>0&&g.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[g.jsx("h3",{className:"font-semibold text-lg text-green-800 mb-3",children:"🏆 Mejor equity por longitud:"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(k).sort(([,P],[,j])=>j.equity-P.equity).map(([P,{word:j,equity:T,residue:N}])=>{const R=we(j),O=parseInt(P);return g.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-md p-2 border border-green-100",children:[g.jsxs("span",{className:"text-sm font-medium text-green-700 min-w-[60px]",children:[O," ",O===1?"letra":"letras",":"]}),g.jsx("a",{href:`https://dle.rae.es/?w=${R}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-green-900 hover:text-green-600 transition-colors flex-grow",children:r&&n?r(R,n):R}),g.jsxs("span",{className:"text-sm text-green-700",children:["(",N,")"]}),g.jsx("span",{className:"text-sm font-semibold text-green-600 bg-green-100 px-2 py-1 rounded",children:T.toFixed(1)})]},`top-${P}`)})})]}),g.jsxs("h3",{className:"font-semibold text-lg",children:[e.includes("adicional")?`${t.length} ${t.length===1?"palabra encontrada":"palabras encontradas"} usando todas las fichas más una letra adicional:`:`${t.length} ${t.length===1?"palabra encontrada":"palabras encontradas"}${s?"":" usando todas las fichas"}:`,i&&d&&g.jsxs("span",{className:"text-sm text-orange-600 font-normal",children:[" ","(ordenando por equity...)"]})]}),S.map(P=>{const j=Ni(n,e),T=m.has(P),N=v[P];return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{onClick:()=>w(P),className:"flex items-center gap-2 font-medium text-gray-600 hover:text-gray-800 transition-colors",children:[T?g.jsx(ko,{size:16}):g.jsx(Bi,{size:16}),`Palabras de ${P} ${P===1?"letra":"letras"} (${N.length})`]}),T&&g.jsx("div",{className:"flex flex-col gap-1 ml-6",children:N.map((R,O)=>{const $=we(R);return g.jsx(Zg,{word:R,displayWord:$,searchTerm:n,title:e,highlightWildcardLetter:r,index:O,length:P,showResidue:j.shouldShowEquityAndResidue},`word-${P}-${O}`)})})]},`length-${P}`)})]})},qA=({matches:t,wildcardCount:e,highlightWildcardLetter:r,searchTerm:n,isShortMode:s})=>g.jsx(ip,{matches:t,title:`${t.length} ${t.length===1?"palabra encontrada":"palabras encontradas"} usando todas las fichas:`,highlightWildcardLetter:r,searchTerm:n,isShortMode:s}),fd=({matches:t,highlightWildcardLetter:e,searchTerm:r,title:n,sortByEquity:s,unifiedEquityView:o})=>{const i=n.includes("adicional");return g.jsx(ip,{matches:t,title:n,highlightWildcardLetter:e,searchTerm:r,isShortMode:!i,sortByEquity:s,unifiedEquityView:o})},ap=t=>{const e=t.trim();if(!e||e==="-")return t;const r=e.split("-").filter(Boolean);if(e.startsWith("-")&&r.length>=2){const n=r[r.length-1];if(e.indexOf("-",1)>0&&!e.endsWith("-"))return`.*${r.slice(0,-1).join("")}.*${n}$`}if(e.startsWith("-")&&e.endsWith("-")){const n=e.slice(1,-1);return n?`.*${n}.*`:t}else if(e.startsWith("-")){const n=e.slice(1);return n?`.*${n}$`:t}else if(e.endsWith("-")){const n=e.slice(0,-1);return n?`^${n}.*`:t}return t},nb=t=>{const e=[],n=we(t).split("");for(let s=0;s<n.length-1;s++)(n[s]==="C"&&n[s+1]==="H"||n[s]==="L"&&n[s+1]==="L"||n[s]==="R"&&n[s+1]==="R")&&(e.push({start:s,end:s+1}),s++);return e},VA=(t,e)=>{if(!t||!e)return t;const r=e.replace(/\/\d+$/,""),n=we(t),s=xe(n),o=xe(r.replace(/\*/g,"").replace(/\?/g,"")),i=(r.match(/\?/g)||[]).length,a=o.length+i;s.length>a;const l=nb(n),c=new Map;for(const w of o)c.set(w,(c.get(w)||0)+1);const d=new Set,f=new Set,m=new Map(c);for(let w=0;w<n.length;w++){if(d.has(w))continue;const v=l.find(S=>S.start===w||S.end===w);if(v&&v.start===w){const S=n.slice(v.start,v.end+1),x=xe(S);m.has(x)&&m.get(x)>0&&(d.add(v.start),d.add(v.end),m.set(x,m.get(x)-1))}else if(!v){const S=n[w];m.has(S)&&m.get(S)>0&&(d.add(w),m.set(S,m.get(S)-1))}}let p=i;for(let w=0;w<n.length&&p>0;w++)if(!d.has(w)){const v=l.find(S=>S.start===w||S.end===w);v&&v.start===w?(f.add(v.start),f.add(v.end),p--):v||(f.add(w),p--)}return g.jsx("span",{className:"inline-flex",children:n.split("").map((w,v)=>{const S=l.find(P=>(P==null?void 0:P.start)===v||(P==null?void 0:P.end)===v),x=d.has(v),y=f.has(v),_=!x&&!y;let k="font-semibold";if(_?k="text-red-600 font-semibold":y&&(k="text-blue-600 font-semibold"),S){if(v===S.start)return g.jsxs("span",{className:k,children:[w.toUpperCase(),n[v+1].toUpperCase()]},v);if(v===S.end)return null}return g.jsx("span",{className:k,children:w.toUpperCase()},v)})})},HA=(t,e,r)=>{if(!t||!e)return t;const n=e.replace(/:\d+$/,""),s=n.includes(".")||n.includes("*")?n:ap(n),o=nb(t),i=new Set,a=QA(t,s);return console.log(`🔍 Pattern: "${e}" → "${s}"`),console.log(`🔍 Word: "${t}"`),console.log("🔍 Fixed positions:",a),g.jsx("span",{className:"inline-flex",children:t.split("").map((l,c)=>{if(i.has(c))return null;const d=o.some(w=>w.start===c),f=o.find(w=>w.start===c),m=d?`${l}${t[c+1]}`:l;return d&&f&&i.add(f.end),a.includes(c)||d&&f&&a.includes(f.end)?g.jsx("span",{className:"font-semibold",children:m.toUpperCase()},c):g.jsx("span",{className:"text-blue-600 font-semibold",children:m.toUpperCase()},c)})})},QA=(t,e)=>{const r=[];if(e.startsWith("*")&&e.endsWith("*")){const n=e.slice(1,-1),s=t.indexOf(n);if(s>=0)for(let o=0;o<n.length;o++)r.push(s+o)}else if(e.startsWith("*")){const n=e.slice(1),s=t.length-n.length;if(s>=0)for(let o=0;o<n.length;o++)r.push(s+o)}else if(e.endsWith("*")){const n=e.slice(0,-1);if(n.includes(".")){const s=ev(t,n);r.push(...s)}else for(let s=0;s<n.length&&s<t.length;s++)r.push(s)}else if(e.includes(".")){const n=ev(t,e);r.push(...n)}else{const n=e.replace(/[*.\-^$]/g,"");if(n){const s=t.indexOf(n);if(s>=0)for(let o=0;o<n.length;o++)r.push(s+o)}}return r},ev=(t,e)=>{const r=[];if(console.log(`🔍 Matching pattern "${e}" against word "${t}"`),e.length===t.length)for(let n=0;n<e.length;n++){const s=e[n],o=t[n];s!=="."?s===o?(r.push(n),console.log(`🔍 Fixed letter '${s}' found at position ${n} in "${t}"`)):console.log(`🔍 Mismatch: expected '${s}' at position ${n}, got '${o}'`):console.log(`🔍 Wildcard '.' at position ${n} matches '${o}'`)}else{console.log(`🔍 Length mismatch: pattern "${e}" (${e.length}) vs word "${t}" (${t.length})`);let n=0;for(let s=0;s<e.length&&n<t.length;s++){const o=e[s];if(o!=="."){const i=t.indexOf(o,n);i>=0&&i>=n&&(r.push(i),n=i+1,console.log(`🔍 Fixed letter '${o}' found at position ${i} in "${t}"`))}else n++}}return console.log(`🔍 Pattern "${e}" → Fixed positions:`,r),r},tv=(t,e,r)=>HA(t,e),KA=({matches:t,searchTerm:e,showLongerWords:r=!1})=>{const n=Array.from(new Set(t)),s=e.includes(","),[o,i]=s?e.split(","):[e,""],a=o.replace(/:\d+$/,""),l=ap(a),c=l.endsWith("$"),d=l.startsWith("^");l.includes(".*");const f=a.startsWith("-")&&a.indexOf("-",1)>0&&!a.endsWith("-");let m="",p="";if(f){const v=a.split("-").filter(Boolean);m=v.slice(0,-1).join(""),p=v[v.length-1]}else{let v=a;c&&!a.endsWith("-")&&(v=a.slice(1)),d&&!a.startsWith("-")&&(v=v.slice(0,-1)),a.startsWith("-")&&a.endsWith("-")&&(v=v.slice(1,-1)),m=v}let w="";return f?w=`${n.length} ${n.length===1?"palabra encontrada":"palabras encontradas"} que contienen "${m}" y terminan con "${p}"`:a.startsWith("-")&&a.endsWith("-")?w=`${n.length} ${n.length===1?"palabra encontrada":"palabras encontradas"} que contienen "${m}"`:d||a.endsWith("-")?w=`${n.length} ${n.length===1?"palabra encontrada":"palabras encontradas"} que empiezan con "${m}"`:c||a.startsWith("-")?w=`${n.length} ${n.length===1?"palabra encontrada":"palabras encontradas"} que terminan con "${m}"`:w=`${n.length} ${n.length===1?"palabra encontrada":"palabras encontradas"} que coinciden con el patrón`,g.jsx(ip,{matches:n,title:w,highlightWildcardLetter:s?v=>tv(v,o):v=>tv(v,o),searchTerm:e,sortAscending:r})},GA=({isLoading:t,searchTerm:e,results:r,highlightWildcardLetter:n,showShorter:s,sortByEquity:o})=>{var d,f,m,p,w,v,S;const i=(e.match(/\?/g)||[]).length,a=e.includes("*")||e.includes(".")||e.includes("-"),l=r.additionalWildcardMatches.filter(x=>i===0?!r.exactMatches.includes(x):!r.wildcardMatches.includes(x));return i===0?((d=r.exactMatches)==null?void 0:d.length)>0:((f=r.wildcardMatches)==null?void 0:f.length)>0,t?(console.log("🔄 SearchResults: Showing loading spinner"),g.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[g.jsx(Vo,{className:"h-4 w-4 animate-spin"}),"Preparando búsqueda..."]})):e?!(((m=r.exactMatches)==null?void 0:m.length)>0||((p=r.wildcardMatches)==null?void 0:p.length)>0||l.length>0||((w=r.shorterMatches)==null?void 0:w.length)>0||((v=r.patternMatches)==null?void 0:v.length)>0)&&a?e&&!t?g.jsx("p",{className:"text-gray-500 text-lg",children:"No se encontraron palabras."}):null:g.jsx(g.Fragment,{children:a?g.jsx(KA,{matches:r.patternMatches||[],searchTerm:e,showLongerWords:s}):g.jsxs(g.Fragment,{children:[!s&&g.jsxs(g.Fragment,{children:[g.jsx(qA,{matches:i===0?r.exactMatches:r.wildcardMatches,wildcardCount:i,highlightWildcardLetter:n,searchTerm:e}),l.length>0?g.jsx(fd,{matches:l,highlightWildcardLetter:n,searchTerm:e,title:"palabras encontradas usando todas las fichas más una letra adicional",sortByEquity:o,unifiedEquityView:!1}):g.jsx(fd,{matches:[],highlightWildcardLetter:n,searchTerm:e,title:"palabras encontradas usando todas las fichas más una letra adicional",sortByEquity:o,unifiedEquityView:!1})]}),((S=r.shorterMatches)==null?void 0:S.length)>0&&g.jsx(fd,{matches:r.shorterMatches,highlightWildcardLetter:n,searchTerm:e,title:"palabras más cortas encontradas",sortByEquity:o,unifiedEquityView:!1})]})}):null};async function YA(t){const e=new Map;if(t.length===0)return e;try{console.log(`🚀 fetchBatchVerbInfo: querying ${t.length} lemmas in single batch`);const{data:r,error:n}=await nt.from("verb_entries").select(`
        entry_key,
        norm_lemma,
        prime_sense,
        prime_type,
        regularity,
        participle_masculine,
        has_participle_masculine,
        participle_masculine_plural,
        has_participle_masculine_plural,
        participle_feminine,
        has_participle_feminine,
        prnl_end,
        voseo_imperative_plural,
        has_voseo_imperative,
        is_prnl_end
      `).in("norm_lemma",t.map(o=>o.toLowerCase()));if(n)return console.error("❌ Error in batch verb query:",n),t.forEach(o=>e.set(o,null)),e;const s=new Set;return r&&r.length>0&&r.forEach(o=>{e.set(o.norm_lemma,o),s.add(o.norm_lemma),e.set(o.norm_lemma.toUpperCase(),o)}),t.forEach(o=>{const i=o.toLowerCase();s.has(i)||(e.set(o,null),e.set(i,null))}),console.log(`✅ Batch verb query: ${(r==null?void 0:r.length)||0} verbs found out of ${t.length} lemmas`),e}catch(r){return console.error("❌ Exception in batch verb query:",r),t.forEach(n=>e.set(n,null)),e}}function XA(t){const e={};return t.participle_masculine&&(e.masculineParticiple={form:t.participle_masculine,isValid:t.has_participle_masculine??!1}),t.participle_masculine_plural&&(e.masculinePluralParticiple={form:t.participle_masculine_plural,isValid:t.has_participle_masculine_plural??!1}),t.participle_feminine&&(e.feminineParticiple={form:t.participle_feminine,isValid:t.has_participle_feminine??!1}),t.prnl_end&&(e.pronominalForm={form:t.prnl_end,isValid:t.is_prnl_end??!0}),t.voseo_imperative_plural&&(e.imperativeForm={form:t.voseo_imperative_plural,isValid:t.has_voseo_imperative??!1}),e}function JA(t){return{"tr.":"transitivo","intr.":"intransitivo","prnl.":"pronominal","defect.":"defectivo","tr./intr.":"transitivo/intransitivo","tr./prnl.":"transitivo/pronominal","intr./prnl.":"intransitivo/pronominal"}[t.prime_type]||t.prime_type}function ZA(t){return{"reg.":"regular","irreg.":"irregular","irreg./part.irreg.":"irregular/part. irreg.","part.irreg.":"participio irregular"}[t]||t}const eR=({word:t,wordInfo:e,highlightedWord:r})=>{const n=f=>{f.stopPropagation(),window.open(`https://dle.rae.es/${t.toLowerCase()}`,"_blank")},s=f=>{const m=f.match(/^(.+?)(\d+)$/);if(m){const[,p,w]=m;return g.jsxs(g.Fragment,{children:[p,g.jsx("sup",{children:w})]})}return f},o=f=>f.includes("transitivo")&&!f.includes("intransitivo")?"bg-green-100 text-green-700":f.includes("intransitivo")&&!f.includes("transitivo")?"bg-lime-100 text-lime-700":f.includes("pronominal")?"bg-yellow-100 text-yellow-700":f.includes("defectivo")?"bg-orange-100 text-orange-800":f.includes("no conj.")?"bg-red-100 text-red-700":f.includes("transitivo")&&f.includes("intransitivo")?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-700";if(!e.verbInfo)return null;const i=e.verbInfo,a=XA(i),l=JA(i),c=ZA(i.regularity),d=(f,m)=>g.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mr-1 mb-1 ${f.isValid?"bg-green-100 text-green-700":"bg-red-100 text-red-700 line-through"}`,title:f.isValid?`${m} - Válida para Scrabble`:`${m} - No válida para Scrabble`,children:f.form.toUpperCase()},f.form);return g.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"mb-3",children:g.jsxs("span",{onClick:n,className:"font-medium text-lg cursor-pointer hover:text-blue-600 transition-colors",children:[r||t,g.jsxs("span",{className:"text-sm font-normal text-blue-600 ml-1",children:["(",e.wordType==="conjugación"?"conjug.":e.wordType," de ",g.jsxs("strong",{children:['"',s(e.lemma||i.norm_lemma),'"']}),", ",g.jsxs("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${o(l)}`,children:["verbo ",l]}),", ",c,")"]})]})}),i.prime_sense&&g.jsxs("div",{className:"text-xs text-gray-600 italic mb-3 leading-relaxed",children:['"',i.prime_sense,'"']}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Formas derivadas:"}),g.jsxs("div",{className:"flex flex-wrap items-center",children:[a.masculineParticiple&&d(a.masculineParticiple,"Participio masculino"),a.masculinePluralParticiple&&d(a.masculinePluralParticiple,"Participio masculino plural"),a.feminineParticiple&&d(a.feminineParticiple,"Participio femenino"),a.pronominalForm&&d(a.pronominalForm,"Forma pronominal"),a.imperativeForm&&d(a.imperativeForm,"Imperativo voseo")]})]})]})},tR=({word:t,wordInfo:e,isLoading:r,highlightedWord:n})=>{const s=a=>{a.stopPropagation(),window.open(`https://dle.rae.es/${t.toLowerCase()}`,"_blank")},o=a=>{const l=a.match(/^(.+?)(\d+)(,.*)$/);if(l){const[,d,f,m]=l;return g.jsxs(g.Fragment,{children:[d,g.jsx("sup",{children:f}),m]})}const c=a.match(/^(.+?)(\d+)$/);if(c){const[,d,f]=c;return g.jsxs(g.Fragment,{children:[d,g.jsx("sup",{children:f})]})}return a},i=(a,l,c)=>{if(!a)return null;const f=(p=>{if(!p)return"";if(p==="s.")return"sust.";if(p==="v.")return"verbo";if(p==="adj.")return"adj.";if(p==="adv.")return"adv.";const w=p.toLowerCase();return w.includes("sustantivo")?"sust.":w.includes("verbo")?"verbo":w.includes("adjetivo")?"adj.":w.includes("adverbio")?"adv.":p})(c),m=f?`, ${f}`:"";switch(a){case"femenino":return l&&l!==t.toLowerCase()?g.jsxs(g.Fragment,{children:["femenino de ",g.jsxs("strong",{children:['"',o(l),'"']}),m]}):`femenino${m}`;case"plural":return l&&l!==t.toLowerCase()?g.jsxs(g.Fragment,{children:["plural de ",g.jsxs("strong",{children:['"',o(l),'"']}),m]}):`plural${m}`;case"conjugación":return l&&l!==t.toLowerCase()?g.jsxs(g.Fragment,{children:["conjug. de ",g.jsxs("strong",{children:['"',o(l),'"']}),m]}):`conjug.${m}`;case"variante":return l&&l!==t.toLowerCase()?g.jsxs(g.Fragment,{children:["variante de ",g.jsxs("strong",{children:['"',o(l),'"']}),m]}):`variante${m}`;case"base":return l?g.jsxs(g.Fragment,{children:["lema: ",g.jsxs("strong",{children:['"',o(l),'"']}),m]}):`lema${m}`;default:return null}};return r?g.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-medium",children:n||t}),g.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})]}),g.jsx("div",{className:"text-xs text-gray-500",children:"Cargando información..."})]}):e!=null&&e.isVerb&&e.verbInfo?g.jsx(eR,{word:t,wordInfo:e,highlightedWord:n}):g.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"mb-2",children:g.jsxs("span",{onClick:s,className:"font-medium text-lg cursor-pointer hover:text-blue-600 transition-colors",children:[n||t,(e==null?void 0:e.wordType)&&g.jsxs("span",{className:"text-sm font-normal ml-1 text-blue-600",children:["(",i(e.wordType,e.lemma,e.partOfSpeech),")"]})]})}),e?g.jsxs("div",{className:"space-y-1 text-sm",children:[e.shortDefinition&&g.jsxs("div",{className:"text-xs text-gray-600 italic mt-2 leading-relaxed",children:['"',e.shortDefinition,'"']}),!e.lemma&&!e.partOfSpeech&&!e.shortDefinition&&e.isScrabbleValid&&g.jsx("div",{className:"text-xs text-gray-500 italic",children:"Información no disponible en diccionario local"})]}):null]})},rR=({isLoading:t,searchTerm:e,results:r,highlightWildcardLetter:n,showShorter:s,wordsData:o,isLoadingData:i})=>{const[a,l]=E.useState(new Set),c=p=>{l(w=>{const v=new Set(w);return v.has(p)?v.delete(p):v.add(p),v})};if(t)return g.jsxs("div",{className:"flex items-center justify-center py-8",children:[g.jsx(Vo,{className:"animate-spin mr-2",size:20}),g.jsx("span",{className:"text-gray-600",children:"Buscando anagramas..."})]});const d=(p,w,v="blue",S,x=!1)=>{if(w.length===0)return null;const y=S?a.has(S):!1;return g.jsxs("div",{className:"space-y-3",children:[x&&S?g.jsxs("button",{onClick:()=>c(S),className:`flex items-center gap-2 font-semibold text-${v}-600 text-sm hover:text-${v}-700 transition-colors`,children:[y?g.jsx(Bi,{size:16}):g.jsx(ko,{size:16}),p," (",w.length,")"]}):g.jsxs("h3",{className:`font-semibold text-${v}-600 text-sm`,children:[p," (",w.length,")"]}),!y&&g.jsx("div",{className:"grid gap-3 grid-cols-1",children:w.map((_,k)=>{const P=we(_),j=o.get(P.toUpperCase()),T=n(P,e);return g.jsx(tR,{word:P,wordInfo:j,isLoading:i&&!j,highlightedWord:T},k)})})]})};if(!(r.exactMatches.length>0||r.wildcardMatches.length>0||r.additionalWildcardMatches.length>0||r.shorterMatches.length>0||r.patternMatches.length>0))return g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-gray-500",children:"No se encontraron resultados"})});const m=e.includes("*")||e.includes(".")||e.includes("-");return g.jsxs("div",{className:"space-y-6",children:[m&&d("Coincidencias de patrón",r.patternMatches,"purple","pattern-matches",r.patternMatches.length>10),!m&&d("Anagramas exactos",r.exactMatches,"green","exact-matches",r.exactMatches.length>10),!m&&d("Con comodines",r.wildcardMatches,"blue","wildcard-matches",r.wildcardMatches.length>10),!m&&d("Comodines adicionales",r.additionalWildcardMatches,"indigo","additional-wildcard-matches",r.additionalWildcardMatches.length>10),!m&&s&&d("Palabras más cortas",r.shorterMatches,"orange","shorter-matches",!0),i&&g.jsxs("div",{className:"flex items-center justify-center py-4 text-sm text-gray-500",children:[g.jsx(Vo,{className:"animate-spin mr-2",size:16}),"Cargando información adicional..."]})]})},ki=new Map,An={hits:0,misses:0};async function nR(t){const e=new Map;if(t.length===0)return console.log("🎣 fetchHooksData: No words provided"),e;console.log(`🎣 fetchHooksData called with ${t.length} words - checking cache first`);const r=[],n=new Map;for(const s of t){const o=we(s).toUpperCase(),i=xe(s.toLowerCase());n.set(s,i),ki.has(o)?(An.hits++,e.set(o,ki.get(o)),console.log(`🎯 Cache HIT for: ${s}`)):r.push(s)}if(r.length===0)return console.log(`🚀 All ${t.length} hooks found in cache - no database query needed!`),e;console.log(`🔍 Cache MISS for ${r.length} words, querying database...`),An.misses+=r.length;try{const s=r.map(a=>n.get(a)),{data:o,error:i}=await nt.from("hooks").select(`
        word,
        left_external,
        right_external,
        left_internal,
        right_internal,
        has_external_hooks,
        has_internal_hooks
      `).in("word",s);if(i)throw console.error("❌ Hooks table error:",i),console.error("❌ Error details:",JSON.stringify(i,null,2)),i.message&&i.message.includes("does not exist")&&console.error("❌ HOOKS TABLE DOES NOT EXIST! Need to import hooks.csv first"),i;if(console.log("✅ Hooks response received"),console.log("✅ Hooks data:",o),console.log("✅ Number of hooks found:",(o==null?void 0:o.length)||0),o&&o.length>0?o.forEach((a,l)=>{console.log(`🎣 Hook ${l+1}:`,a)}):console.warn("⚠️ No hooks data returned from database"),o&&o.length>0){const a=new Map;r.forEach(l=>{const c=n.get(l);a.set(c,l)}),o.forEach(l=>{const c=a.get(l.word)||l.word,d={word:c,leftExternal:l.left_external||void 0,rightExternal:l.right_external||void 0,leftInternal:l.left_internal||void 0,rightInternal:l.right_internal||void 0,hasExternalHooks:l.has_external_hooks==="1",hasInternalHooks:l.has_internal_hooks==="1"};console.log(`🎣 Processed hooks for: ${c}`,d);const f=we(c).toUpperCase();ki.set(f,d),e.set(f,d)})}if(r.forEach(a=>{const l=we(a).toUpperCase();if(!e.has(l)){const c={word:a,hasExternalHooks:!1,hasInternalHooks:!1};ki.set(l,c),e.set(l,c)}}),console.log(`🚀 Hooks optimization: ${r.length} words queried (vs ${t.length} individual calls)`),(An.hits+An.misses)%25===0){const a=An.hits+An.misses,l=(An.hits/a*100).toFixed(1);console.log(`📊 Hooks Cache Stats: ${An.hits}/${a} hits (${l}% hit rate)`)}}catch(s){console.error("❌ Error fetching hooks data:",s),r.forEach(o=>{const i=we(o).toUpperCase(),a={word:o,hasExternalHooks:!1,hasInternalHooks:!1};ki.set(i,a),e.set(i,a)})}return e}function sR(t){const e={leftExternal:[],rightExternal:[],hasLeftInternal:!1,hasRightInternal:!1,leftInternalLetters:[],rightInternalLetters:[]};return t.leftExternal&&(e.leftExternal=t.leftExternal.split("").map(r=>we(r))),t.rightExternal&&(e.rightExternal=t.rightExternal.split("").map(r=>we(r))),t.leftInternal&&(e.hasLeftInternal=!0,e.leftInternalLetters=t.leftInternal.split("").map(r=>we(r))),t.rightInternal&&(e.hasRightInternal=!0,e.rightInternalLetters=t.rightInternal.split("").map(r=>we(r))),e}const oR=({isLoading:t,searchTerm:e,results:r,highlightWildcardLetter:n,showShorter:s,hooksData:o,isLoadingHooks:i})=>{const[a,l]=E.useState(new Set(["exact","wildcard","pattern","additional","shorter"])),[c,d]=E.useState(new Set),f=y=>{l(_=>{const k=new Set(_);return k.has(y)?k.delete(y):k.add(y),k})},m=y=>{d(_=>{const k=new Set(_);return k.has(y)?k.delete(y):k.add(y),k})};if(t)return g.jsxs("div",{className:"flex items-center justify-center py-8",children:[g.jsx(Vo,{className:"animate-spin mr-2",size:20}),g.jsx("span",{className:"text-gray-600",children:"Buscando anagramas..."})]});const p=(y,_)=>g.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 text-xs bg-blue-100 text-blue-700 border border-blue-200 rounded mx-0.5 ${_?"mr-1":"ml-1"}`,children:y.toLowerCase()},y),w=(y,_,k=!1)=>{const P=we(y),j=P.toUpperCase(),T=o.get(j),N=e.replace(/\/\d+$/,"");xe(P).length,xe(N.replace(/\*/g,"").replace(/\?/g,"")).length,(N.match(/\?/g)||[]).length;const R=n(y,e),O=T?sR(T):null,$=D=>{if(!D.props.children||!O)return D;const K=H.Children.toArray(D.props.children),Q=K.map((X,W)=>{if(H.isValidElement(X)){const B=W===0,Y=W===K.length-1;if(B&&O.hasLeftInternal||Y&&O.hasRightInternal){const J=X.props.className||"";let ie=J;return J.includes("text-red-600")?ie=J.replace("text-red-600","text-red-300"):J.includes("text-blue-600")?ie=J:ie=J+" text-gray-400",H.cloneElement(X,{className:ie})}}return X});return H.cloneElement(D,{},...Q)},I=T&&(O!=null&&O.hasLeftInternal||O!=null&&O.hasRightInternal)?$(R):R,U=D=>{D.stopPropagation(),window.open(`https://dle.rae.es/${P.toLowerCase()}`,"_blank")};return!T||!T.hasExternalHooks&&!T.hasInternalHooks?g.jsxs("div",{className:"grid grid-cols-3 items-center py-1.5 px-3",children:[g.jsx("div",{}),g.jsx("div",{className:"text-center",children:g.jsx("span",{className:"text-lg cursor-pointer hover:text-blue-600 transition-colors",onClick:U,children:I})}),g.jsx("div",{})]}):g.jsxs("div",{className:"grid grid-cols-3 items-center py-1.5 px-3 hover:bg-gray-50 transition-colors",children:[g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("div",{className:"flex flex-wrap items-center justify-end mr-0.5",children:O.leftExternal.map(D=>p(D,!0))})}),g.jsx("div",{className:"text-center",children:g.jsx("span",{className:"font-semibold text-lg cursor-pointer hover:text-blue-600 transition-colors inline-flex items-center",onClick:U,children:I})}),g.jsx("div",{className:"flex items-center justify-start",children:g.jsx("div",{className:"flex flex-wrap items-center justify-start ml-0.5",children:O.rightExternal.map(D=>p(D,!1))})})]})},v=(y,_,k,P="blue",j=!1,T=!1)=>{if(k.length===0)return null;const N=a.has(y);if(j){const R=k.reduce(($,I)=>{const U=I.length;return $[U]||($[U]=[]),$[U].push(I),$},{});Object.keys(R).forEach($=>{R[parseInt($)].sort()});const O=Object.keys(R).map(Number).sort(($,I)=>I-$);return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("button",{onClick:()=>f(y),className:`flex items-center gap-2 font-semibold text-${P}-600 text-sm hover:text-${P}-700 transition-colors`,children:[N?g.jsx(ko,{size:16}):g.jsx(Bi,{size:16}),_," (",k.length,")"]}),N&&g.jsx("div",{children:O.map($=>{const I=`${y}-${$}`,U=c.has(I);return g.jsxs("div",{className:"space-y-2 mb-4",children:[g.jsxs("button",{onClick:()=>m(I),className:`flex items-center justify-center gap-2 w-full text-xs font-medium text-${P}-500 uppercase tracking-wide hover:text-${P}-600 transition-colors`,children:[U?g.jsx(ko,{size:14}):g.jsx(Bi,{size:14}),$," letras (",R[$].length,")"]}),U&&g.jsx("div",{className:"space-y-1",children:R[$].map((D,K)=>g.jsx("div",{children:w(D,e,T)},K))})]},$)})})]})}return g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:()=>f(y),className:`flex items-center gap-2 font-semibold text-${P}-600 text-sm hover:text-${P}-700 transition-colors`,children:[N?g.jsx(ko,{size:16}):g.jsx(Bi,{size:16}),_," (",k.length,")"]}),N&&g.jsx("div",{children:k.map((R,O)=>g.jsx("div",{children:w(R,e,T)},O))})]})};if(!(r.exactMatches.length>0||r.wildcardMatches.length>0||r.additionalWildcardMatches.length>0||r.shorterMatches.length>0||r.patternMatches.length>0))return g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-gray-500",children:"No se encontraron resultados"})});const x=e.includes("*")||e.includes(".")||e.includes("-");return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"space-y-3",children:g.jsxs("div",{className:"text-sm text-gray-600",children:[g.jsx("span",{className:"font-medium",children:"Vista de Ganchos"})," - Letras para extender palabras"]})}),x&&v("pattern","Coincidencias de patrón",r.patternMatches,"purple"),!x&&v("exact","Anagramas exactos",r.exactMatches,"green"),!x&&v("wildcard","Con comodines",r.wildcardMatches,"blue"),!x&&v("additional","Comodines adicionales",r.additionalWildcardMatches,"indigo",!1,!0),!x&&s&&v("shorter","Subanagramas",r.shorterMatches,"orange",!0),i&&g.jsxs("div",{className:"flex items-center justify-center py-4 text-sm text-gray-500",children:[g.jsx(Vo,{className:"animate-spin mr-2",size:16}),"Cargando información de ganchos..."]})]})},Ci=new Map,Rn={hits:0,misses:0};async function iR(t){const e=new Map;if(t.length===0)return e;console.log(`🔍 fetchAnagramWordsData called with ${t.length} words - checking cache first`);const r=[];for(const n of t)Ci.has(n)?(Rn.hits++,e.set(n,Ci.get(n)),console.log(`🎯 AnagramWord Cache HIT for: ${n}`)):r.push(n);if(r.length===0)return console.log(`🚀 All ${t.length} anagram words found in cache - no database queries needed!`),e;console.log(`🔍 Cache MISS for ${r.length} words, querying database...`),Rn.misses+=r.length;try{console.log("📊 Step 1: Querying lexicon_keys table...");const n=r.map(v=>v.toUpperCase());console.log("📊 Normalized uncached words (uppercase for lexicon_keys) for query:",n);const s=new Map;r.forEach(v=>{const S=v.toUpperCase();s.has(S)||s.set(S,[]),s.get(S).push(v)});const{data:o,error:i}=await nt.from("lexicon_keys").select("norm_word, key_lemma, key_feminine, key_plural, key_conj, key_variant").in("norm_word",n);if(i)throw console.error("❌ Lexicon keys table error:",i),i;console.log("✅ Lexicon keys response:",o),console.log("✅ Number of rows returned:",(o==null?void 0:o.length)||0),o&&o.length>0&&console.log("✅ First row example:",o[0]);const a=new Set,l=new Map,c=new Map;o&&o.length>0&&o.forEach(v=>{l.set(v.norm_word,v),l.set(v.norm_word.toUpperCase(),v);const S=s.get(v.norm_word)||[];S.forEach(k=>{l.set(k,v),l.set(k.toUpperCase(),v)});const x=k=>k?k.split(",").map(P=>parseFloat(P.trim())).filter(P=>!isNaN(P)):[];let y="base",_=[];v.key_conj?(y="conjugación",_=x(v.key_conj)):v.key_feminine?(y="femenino",_=x(v.key_feminine)):v.key_plural?(y="plural",_=x(v.key_plural)):v.key_variant?(y="variante",_=x(v.key_variant)):v.key_lemma&&(y="base",_=x(v.key_lemma)),_.forEach(k=>a.add(k)),c.set(v.norm_word,y),c.set(v.norm_word.toUpperCase(),y),S.forEach(k=>{c.set(k,y),c.set(k.toUpperCase(),y)})}),console.log("📝 Word types determined:",Object.fromEntries(c)),console.log("🔑 All keys to fetch:",Array.from(a));const d=new Map,f=new Map;if(a.size>0){console.log("📚 Step 3a: Fetching dictionary entries...");const{data:v,error:S}=await nt.from("dictionary_entries").select("key, lemma, etymology_info").in("key",Array.from(a));S?console.error("❌ Dictionary entries error:",S):(console.log("✅ Dictionary entries response:",v),v&&v.forEach(_=>{d.set(_.key,_)})),console.log("📖 Step 3b: Fetching dictionary senses...");const{data:x,error:y}=await nt.from("dictionary_senses").select("entry_key, definition, part_of_speech_1").in("entry_key",Array.from(a));y?console.error("❌ Dictionary senses error:",y):(console.log("✅ Dictionary senses response:",x),x&&x.forEach(_=>{f.has(_.entry_key)||f.set(_.entry_key,[]),f.get(_.entry_key).push(_)}))}const m=v=>v.replace(/\d+$/,"");console.log("🔄 Step 4a: Collecting potential verb lemmas for batch query...");const p=new Set;for(const v of r){const S=l.get(v);if(S){const x=j=>{if(!j)return null;const T=j.split(",").map(N=>parseFloat(N.trim())).filter(N=>!isNaN(N));return T.length>0?Math.min(...T):null},y=x(S.key_conj)||x(S.key_feminine)||x(S.key_plural)||x(S.key_variant)||x(S.key_lemma),_=d.get(y);let k=(_==null?void 0:_.lemma)||v.toLowerCase();const P=m(k);p.add(P),P.endsWith("se")&&p.add(P.slice(0,-2))}}console.log(`🚀 Step 4b: Batch querying ${p.size} potential verb lemmas...`);const w=p.size>0?await YA(Array.from(p)):new Map;console.log("🔄 Step 4c: Processing uncached words...");for(const v of r){const S=l.get(v),x=c.get(v);if(S){const y=I=>{if(!I)return null;const U=I.split(",").map(D=>parseFloat(D.trim())).filter(D=>!isNaN(D));return U.length>0?Math.min(...U):null},_=y(S.key_conj)||y(S.key_feminine)||y(S.key_plural)||y(S.key_variant)||y(S.key_lemma),k=d.get(_),P=f.get(_)||[];console.log(`🔑 Word: ${v}, Type: ${x}, Primary Key: ${_} (smallest), Entry:`,k),console.log(`🔍 Available keys - conj: ${S.key_conj}, fem: ${S.key_feminine}, plural: ${S.key_plural}, variant: ${S.key_variant}, lemma: ${S.key_lemma}`);let j=(k==null?void 0:k.lemma)||v.toLowerCase(),T=null;const N=m(j);if(N.endsWith("se")){const I=N.slice(0,-2);console.log(`🔄 Checking pronominal verb in batch results: ${j} → ${N} → ${I}`),T=w.get(I),T||(T=w.get(N)),T&&console.log(`✅ Found verb info in batch for: ${T.norm_lemma}`,T)}else console.log(`🔄 Checking normalized verb in batch results: ${j} → ${N}`),T=w.get(N),T&&console.log(`✅ Found verb info in batch for: ${N}`,T);let R="",O="";if(T)console.log(`🌟 Found verb info for: ${v}`,T),R=T.prime_sense||"",O="verbo";else if(P.length>0){const I=P[0];I.definition&&(R=I.definition),O=I.part_of_speech_1||""}const $={word:v,isScrabbleValid:!0,lemma:(k==null?void 0:k.lemma)||(T==null?void 0:T.norm_lemma)||v.toLowerCase(),partOfSpeech:O,wordType:x,shortDefinition:R,isVerb:!!T,verbInfo:T||void 0};console.log(`✅ Processed valid word: ${v}`,$),Ci.set(v,$),e.set(v,$)}else{const y={word:v,isScrabbleValid:!1};console.log(`❌ Word not valid for Scrabble: ${v}`),Ci.set(v,y),e.set(v,y)}}if(console.log(`🚀 AnagramWord optimization: ${r.length} words processed with ${p.size} verb batch queries (vs ${r.length} individual verb calls)`),(Rn.hits+Rn.misses)%20===0){const v=Rn.hits+Rn.misses,S=(Rn.hits/v*100).toFixed(1);console.log(`📊 AnagramWord Cache Stats: ${Rn.hits}/${v} hits (${S}% hit rate)`)}}catch(n){console.error("❌ Error fetching anagram words data:",n),r.forEach(s=>{const o={word:s,isScrabbleValid:!1};Ci.set(s,o),e.set(s,o)})}return e}const aR=({isLoading:t,searchTerm:e,results:r,highlightWildcardLetter:n,isSearchAborted:s,showShorter:o,showExtendedView:i,showHooksView:a,sortByEquity:l})=>{const{toast:c}=zc(),[d,f]=E.useState(new Map),[m,p]=E.useState(!1),[w,v]=E.useState(new Map),[S,x]=E.useState(!1);return E.useEffect(()=>{if(i&&!a&&r&&!t){const _=[...r.exactMatches,...r.wildcardMatches,...r.additionalWildcardMatches,...r.shorterMatches,...r.patternMatches].map(k=>we(k).toUpperCase());_.length>0&&(p(!0),iR(_).then(k=>{f(k)}).catch(k=>{console.error("Error loading words data:",k),c({title:"Error cargando información adicional",variant:"destructive"})}).finally(()=>{p(!1)}))}},[i,a,r,t]),E.useEffect(()=>{a&&(f(new Map),p(!1))},[a]),E.useEffect(()=>{if(a&&r&&!t){const _=[...r.exactMatches,...r.wildcardMatches,...r.additionalWildcardMatches,...r.shorterMatches,...r.patternMatches].map(k=>we(k).toUpperCase());_.length>0&&(x(!0),nR(_).then(k=>{v(k)}).catch(k=>{console.error("Error loading hooks data:",k),c({title:"Error cargando información de ganchos",variant:"destructive"})}).finally(()=>{x(!1)}))}},[a,r,t]),E.useEffect(()=>{i&&(v(new Map),x(!1))},[i]),r&&(r.exactMatches.length>0||r.wildcardMatches.length>0||r.additionalWildcardMatches.length>0||r.shorterMatches.length>0||r.patternMatches.length>0),g.jsx(nu,{className:"h-[calc(100vh-12rem)] px-1",children:g.jsxs("div",{className:"space-y-4 pb-4",children:[t&&e&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[g.jsx(Vo,{className:"animate-spin text-blue-600",size:24}),g.jsx("span",{className:"text-gray-600 text-sm",children:"Buscando..."})]}),!t&&g.jsx(g.Fragment,{children:a?g.jsx(oR,{isLoading:t,searchTerm:e,results:r,highlightWildcardLetter:n,showShorter:o,hooksData:w,isLoadingHooks:S}):i?g.jsx(rR,{isLoading:t,searchTerm:e,results:r,highlightWildcardLetter:n,showShorter:o,wordsData:d,isLoadingData:m}):g.jsx(GA,{isLoading:t,searchTerm:e,results:r,highlightWildcardLetter:n,showShorter:o,sortByEquity:l})})]})})};function lR(t,e){const r=xe(t.toUpperCase()),n=xe(e.toUpperCase()),s=new Map,o=new Map;for(const i of r)s.set(i,(s.get(i)||0)+1);for(const i of n)o.set(i,(o.get(i)||0)+1);for(const[i,a]of o){const l=s.get(i)||0;if(a>l)return i}return n[0]||"A"}function cR(t,e){const r=new Map;for(const n of e){const s=lR(t,n);r.has(s)||r.set(s,[]),r.get(s).push(n)}return r}function hd(t,e){const r=cR(t,e),n=Array.from(r.keys()).sort((o,i)=>{const a="AEIOUBCÇDFGHJLKMNÑPQRWSTVXYZ",l=a.indexOf(o),c=a.indexOf(i);return l===-1?1:c===-1?-1:l-c}),s=[];for(const o of n){const i=r.get(o)||[];i.sort((a,l)=>a.localeCompare(l)),s.push(...i)}return s}const uR=(t,e,r,n)=>{const[s,o]=E.useState({exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[],patternMatches:[]}),[i,a]=E.useState({exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[],patternMatches:[]}),[l,c]=E.useState(!1),[d,f]=E.useState(null),[m,p]=E.useState("none"),[w,v]=E.useState("");return E.useEffect(()=>{(async()=>{if(w===t&&t.trim())if(r)if(i.shorterMatches.length===0){c(!0);try{const x=await e.findAnagramsWithSubAnagrams(t,!0),y={...i,shorterMatches:x.shorterMatches};a(y),o({exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:x.shorterMatches,patternMatches:[]})}catch(x){console.error("❌ Error loading subanagrams:",x),f("Error cargando subanagramas")}finally{c(!1)}}else o({exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:i.shorterMatches,patternMatches:[]});else o({exactMatches:i.exactMatches,wildcardMatches:i.wildcardMatches,additionalWildcardMatches:i.additionalWildcardMatches,shorterMatches:[],patternMatches:i.patternMatches})})()},[r,i,w,t,e]),E.useEffect(()=>{(async()=>{if(t.trim()===w.trim())return;if(!t.trim()){const y={exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[],patternMatches:[]};o(y),a(y),c(!1),f(null),p("none"),v("");return}if(t.replace(/[\?\*\.\-\:]/g,"").length<2){o({exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[],patternMatches:[]}),c(!1),f("Mínimo 2 letras requeridas"),p("none");return}console.log("🔄 Setting loading to TRUE"),c(!0),f(null);try{const y=t.trim();console.log(`🔍 Hybrid anagram search: "${y}"`);const _=y.includes("*")||y.includes(".")||y.includes("-")||y.includes(":"),k=y.includes("?"),P=(y.match(/\?/g)||[]).length;if(_){console.log("🔍 Pattern search detected, using pattern matching");let j=n,T=y;if(y.includes(":")){const[O,$]=y.split(":");$&&/^\\d+$/.test($)&&(j=parseInt($,10),T=O)}const N=await e.findPatternMatches(T,r,8,j);p(e.getCurrentProvider());const R={exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[],patternMatches:N};a(R),o(R),v(y),console.log("✅ Setting loading to FALSE (pattern search)"),c(!1)}else if(k){if(P>2)throw new Error(`Máximo 2 comodines permitidos, encontrados: ${P}`);const j=await e.findAnagramsWithWildcards(y),T=y.replace(/\?/g,""),N=hd(T,j.additionalWildcardMatches);p(e.getCurrentProvider());const R={exactMatches:j.exactMatches,wildcardMatches:j.wildcardMatches,additionalWildcardMatches:N,shorterMatches:[],patternMatches:[]};a(R),o(R),v(y),console.log("✅ Setting loading to FALSE (wildcard search)"),c(!1)}else{if(e.isTrieAvailable()){p("trie");const j=e.findAnagrams(y),T=await e.findAnagramsWithWildcards(y+"?"),N=hd(y,T.wildcardMatches);let R=[];r&&(R=(await e.findAnagramsWithSubAnagrams(y,!0)).shorterMatches),a({exactMatches:j,wildcardMatches:[],additionalWildcardMatches:N,shorterMatches:R,patternMatches:[]}),o(r?{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:R,patternMatches:[]}:{exactMatches:j,wildcardMatches:[],additionalWildcardMatches:N,shorterMatches:[],patternMatches:[]})}else{const j=await e.findAnagramsAsync(y),T=await e.findAnagramsWithWildcards(y+"?"),N=hd(y,T.wildcardMatches);let R=[];r&&(R=(await e.findAnagramsWithSubAnagrams(y,!0)).shorterMatches),p(e.getCurrentProvider()),a({exactMatches:j,wildcardMatches:[],additionalWildcardMatches:N,shorterMatches:R,patternMatches:[]}),o(r?{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:R,patternMatches:[]}:{exactMatches:j,wildcardMatches:[],additionalWildcardMatches:N,shorterMatches:[],patternMatches:[]})}n!==null&&o(j=>({exactMatches:j.exactMatches.filter(T=>T.length===n),wildcardMatches:j.wildcardMatches.filter(T=>T.length===n),additionalWildcardMatches:j.additionalWildcardMatches.filter(T=>T.length===n),shorterMatches:[],patternMatches:j.patternMatches.filter(T=>T.length===n)})),v(y),console.log("✅ Setting loading to FALSE (hybrid/sqlite search)"),c(!1)}}catch(y){console.error("❌ Hybrid anagram search error:",y),f(y instanceof Error?y.message:"Error en la búsqueda");const _={exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[],patternMatches:[]};o(_),a(_),p("none"),console.log("❌ Setting loading to FALSE (error case)"),c(!1)}})()},[t,n,e]),{results:s,isLoading:l,error:d,currentProvider:m}},dR=({trie:t,showShorter:e,onShowShorterChange:r,showExtendedView:n,onExtendedViewChange:s,showHooksView:o,onHooksViewChange:i,sortByEquity:a,onSortByEquityChange:l,onSearchStateChange:c,onCopyAllCallbackChange:d,onPatternWithoutRackChange:f,persistentSearchTerm:m,persistentTargetLength:p,onPersistentSearchChange:w})=>{const{toast:v}=zc(),S=m,x=p,{results:y,isLoading:_,error:k}=uR(S,t,e,x);E.useEffect(()=>{c(!!S)},[S,c]),E.useEffect(()=>{f(T(S))},[S,f]),E.useEffect(()=>{d(S?()=>N:void 0)},[S,y,d]),E.useEffect(()=>{k&&v({title:"Error en la búsqueda",description:k,variant:"destructive"})},[k,v]);const P=(R,O)=>{R!==S&&r(!1),w({searchTerm:R,targetLength:O})},j=()=>{r(!1),w({searchTerm:"",targetLength:null})},T=R=>{const O=R.includes("*")||R.includes(".")||R.includes("-")||R.includes("^")||R.includes("$")||R.includes(":"),$=O&&R.includes(",");return O&&!$},N=()=>{var U;if(!y)return;const R=S.includes("*")||S.includes(".")||S.includes("-"),O=(S.match(/\?/g)||[]).length;let $=[];if(R)$=[...y.patternMatches||[]];else{O===0?$=[...y.exactMatches||[]]:$=[...y.wildcardMatches||[]];const D=y.additionalWildcardMatches.filter(K=>O===0?!y.exactMatches.includes(K):!y.wildcardMatches.includes(K));D.length>0&&($=[...$,...D]),((U=y.shorterMatches)==null?void 0:U.length)>0&&($=[...$,...y.shorterMatches||[]])}const I=$.map(D=>we(D));navigator.clipboard.writeText(I.join(`
`)).then(()=>{v({title:"¡Copiado!",description:`${I.length} ${I.length===1?"palabra copiada":"palabras copiadas"}`})}).catch(()=>{v({title:"Error",description:"No se pudieron copiar las palabras",variant:"destructive"})})};return g.jsx(g.Fragment,{children:g.jsx("div",{className:"w-full max-w-2xl mx-auto p-4 flex flex-col items-center",children:g.jsxs("div",{className:"w-full max-w-md space-y-4",children:[g.jsx(E2,{onSearch:P,onClear:j}),g.jsx(aR,{isLoading:_,searchTerm:S,results:y,highlightWildcardLetter:VA,isSearchAborted:!1,showShorter:e,showExtendedView:n,showHooksView:o,sortByEquity:a})]})})})},fR=({query:t,onQueryChange:e,onSearch:r,isRecording:n,onStartRecording:s,onStopRecording:o,isLoading:i})=>{const[a,l]=E.useState(!1),[c,d]=E.useState(""),f=E.useRef(null);E.useEffect(()=>{a&&t!==c&&l(!1)},[t,a,c]),E.useEffect(()=>{!t&&f.current&&!i&&f.current.focus()},[t,i]);const m=()=>{var w;a?(e(""),l(!1),(w=f.current)==null||w.focus()):t.trim()&&(r(),l(!0),d(t))},p=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),!i&&t.trim()&&m())};return g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"relative",children:g.jsx("textarea",{ref:f,placeholder:"Palabra (casa) • Anagramas (acsa) • Patrones (c_sa) • Lenguaje natural (palabras con q sin u)",value:t,onChange:w=>e(w.target.value),onKeyDown:p,className:"w-full h-20 px-4 py-4 rounded-lg bg-white border border-zinc-200 text-zinc-900 placeholder:text-zinc-400 resize-none overflow-hidden focus:outline-none focus:ring-2 focus:ring-zinc-200",style:{lineHeight:"1.5",verticalAlign:"middle"},disabled:i})}),g.jsxs("div",{className:"flex justify-end gap-2 px-1",children:[g.jsx(ts,{onClick:n?o:s,variant:"ghost",size:"icon",className:`h-10 w-10 rounded-full ${n?"bg-red-500 text-white hover:bg-red-600":"bg-zinc-100 text-zinc-900 hover:bg-zinc-200"} transition-colors`,disabled:i,children:n?g.jsx(EE,{className:"h-5 w-5"}):g.jsx(kE,{className:"h-5 w-5"})}),g.jsx(ts,{onClick:m,variant:"ghost",size:"icon",className:`h-10 w-10 rounded-full ${a?"bg-zinc-100 hover:bg-zinc-200 text-zinc-900":"bg-zinc-900 hover:bg-zinc-800 text-white"}`,disabled:i||!a&&!t.trim(),children:a?g.jsx(Ws,{className:"h-5 w-5"}):g.jsx(xE,{className:"h-5 w-5"})})]})]})},hR=({word:t,onClick:e})=>{const r=n=>{n.preventDefault(),e&&e(t)};return g.jsx("button",{onClick:r,className:"bg-gray-50 hover:bg-gray-100 p-2 rounded text-center transition-colors font-semibold w-full","aria-label":`Ver información de "${t}"`,children:t})},pR=({results:t,onWordClick:e})=>{if(t.length===0)return null;const r=async()=>{try{await navigator.clipboard.writeText(t.join(`
`)),Qe.success(`${t.length} palabras copiadas al portapapeles`)}catch{Qe.error("Error al copiar las palabras")}};return g.jsx(nu,{className:"h-[calc(100vh-16rem)]",children:g.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("h3",{className:"font-semibold",children:["Resultados (",t.length,")"]}),g.jsxs(ts,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center gap-2 text-sm hover:bg-gray-100",children:[g.jsx(cw,{className:"h-4 w-4"}),g.jsx("span",{children:"Copiar todo"})]})]}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:t.map((n,s)=>g.jsx(hR,{word:n,onClick:e},s))})]})})},mR=({wordInfo:t,onWordClick:e})=>{const{word:r,isValid:n,anagrams:s,subanagrams:o}=t;return g.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`p-2 rounded-full ${n?"bg-green-100":"bg-red-100"}`,children:n?g.jsx(lw,{className:"w-5 h-5 text-green-600"}):g.jsx(Ws,{className:"w-5 h-5 text-red-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),g.jsx("p",{className:`text-sm ${n?"text-green-600":"text-red-600"}`,children:n?"Palabra válida para Scrabble":"No es válida para Scrabble"})]})]}),s.length>0&&g.jsxs("div",{children:[g.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Anagramas (",s.length,")"]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((i,a)=>g.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-md hover:bg-blue-200 cursor-pointer",onClick:()=>e==null?void 0:e(i),children:i},a))})]}),o.length>0&&g.jsxs("div",{children:[g.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Subanagramas (",o.length,")"]}),g.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:o.map((i,a)=>g.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-md hover:bg-purple-200 cursor-pointer",onClick:()=>e==null?void 0:e(i),children:i},a))})]}),g.jsx("div",{className:"text-xs text-gray-500 border-t pt-2",children:"💡 Haz clic en cualquier palabra para ver su definición en el DLE"})]})},gR=({wordData:t,isOpen:e,onClose:r})=>{if(!e)return null;const n=o=>{let i=o.replace(/^[VvUu]\.\s*[tc]\.\s*[cs]\.\s*/g,"");i=i.replace(/^[VvUu]\.\s*/g,"");const a=i.split(".");let l=a[0];return l.length>100?l=l.substring(0,100)+"...":a.length>1&&l.length<80&&(l+="."),l.trim()},s=()=>{window.open(`https://dle.rae.es/${t.word.toLowerCase()}`,"_blank")};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[80vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t?t.word:"Cargando..."}),g.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:g.jsx(Ws,{size:24})})]}),g.jsx("div",{className:"p-4 space-y-4",children:t?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${t.isValid?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.isValid?"✓ Válida para Scrabble":"✗ No válida para Scrabble"}),t.scrabblePoints&&g.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm font-medium",children:[t.scrabblePoints," pts"]})]}),t.etymology&&g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-gray-700 mb-1",children:"Etimología"}),g.jsxs("p",{className:"text-sm text-gray-600",children:[t.etymologyLanguage&&g.jsxs("span",{className:"font-medium",children:[t.etymologyLanguage,": "]}),t.etymology]})]}),t.definitions&&t.definitions.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Definiciones"}),g.jsxs("div",{className:"space-y-3",children:[t.definitions.slice(0,3).map((o,i)=>g.jsxs("div",{className:"border-l-3 border-blue-200 pl-3",children:[o.partOfSpeech&&g.jsxs("div",{className:"text-xs text-blue-600 font-medium mb-1",children:[o.partOfSpeech,o.domain&&` • ${o.domain}`,o.usage&&` • ${o.usage}`]}),g.jsx("p",{className:"text-sm text-gray-700",children:n(o.definition)})]},i)),t.definitions.length>3&&g.jsxs("p",{className:"text-xs text-gray-500 italic",children:["Y ",t.definitions.length-3," definiciones más..."]})]})]}),(!t.definitions||t.definitions.length===0)&&g.jsx("div",{className:"text-center py-4",children:g.jsx("p",{className:"text-gray-500 text-sm",children:"No hay definiciones disponibles en la base de datos local"})})]}):g.jsxs("div",{className:"flex items-center justify-center py-8",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),g.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando información..."})]})}),g.jsxs("div",{className:"border-t p-4 flex justify-between items-center",children:[g.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cerrar"}),t&&g.jsxs("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[g.jsx("span",{children:"Ver en RAE"}),g.jsx(bE,{size:16})]})]})]})})};async function vR(t){const e=t.toLowerCase().trim();try{const{data:r}=await nt.from("words").select("word").eq("word",t.toUpperCase()).single(),n=!!r,{data:s}=await nt.from("dictionary_entries").select(`
        key,
        lemma,
        etymology_info,
        etymology_language,
        dictionary_senses (
          definition,
          part_of_speech_1,
          domain,
          usage
        )
      `).ilike("lemma",e).limit(1).single(),o={word:t,isValid:n};return s&&(o.etymology=s.etymology_info||void 0,o.etymologyLanguage=s.etymology_language||void 0,s.dictionary_senses&&s.dictionary_senses.length>0&&(o.definitions=s.dictionary_senses.map(i=>({definition:i.definition,partOfSpeech:i.part_of_speech_1||void 0,domain:i.domain||void 0,usage:i.usage||void 0})))),n&&(o.scrabblePoints=yR(t)),o}catch(r){return console.error("Error fetching word data:",r),{word:t,isValid:!1}}}function yR(t){const e={A:1,E:1,I:1,L:1,N:1,O:1,R:1,S:1,T:1,U:1,D:2,G:2,B:3,C:3,M:3,P:3,F:4,H:4,V:4,W:4,Y:4,K:5,J:8,X:8,Q:10,Z:10,Ñ:8,LL:8,RR:8,CH:5};let r=0,s=t.toUpperCase();s=s.replace(/CH/g,"Ç"),s=s.replace(/LL/g,"K"),s=s.replace(/RR/g,"W");for(const o of s)o==="Ç"?r+=5:o==="K"||o==="W"?r+=8:r+=e[o]||0;return r}const ma=["A","B","C","Ç","D","E","F","G","H","I","J","L","K","M","N","Ñ","O","P","Q","R","W","S","T","U","V","X","Y","Z"],lp=(t,e)=>{if(e===0)return[t];const r=[];for(const n of ma){const s=t+n;r.push(...lp(s,e-1))}return r},wR=(t,e)=>{const r=is(t),n=new Set;return e.findAnagrams(r).forEach(o=>n.add(o)),n},xR=(t,e,r)=>{const n=new Set,s=lp(t,e);for(const o of s){const i=is(o);r.findAnagrams(i).forEach(l=>n.add(l))}return n},bR=(t,e)=>{const r=new Set,n=t.split("");for(let s=1;s<t.length;s++){const o=_R(n,s);for(const i of o){const a=i.join(""),l=is(a);e.findAnagrams(l).forEach(d=>r.add(d))}}return r},_R=(t,e)=>{const r=[];function n(s,o){if(o.length===e){r.push([...o]);return}for(let i=s;i<t.length;i++)o.push(t[i]),n(i+1,o),o.pop()}return n(0,[]),r},SR=(t,e,r)=>{const n=new Set;console.log("Finding additional matches with processed input:",t);for(const s of ma){const o=t+s;console.log("Trying combination with additional letter:",o);const i=is(o);console.log("Generated alphagram:",i),r.findAnagrams(i).forEach(l=>n.add(l))}if(e>0){const s=lp(t,e);for(const o of s)for(const i of ma){const a=o+i,l=is(a);r.findAnagrams(l).forEach(d=>n.add(d))}}return n},rv=(t,e,r=!1)=>{const n=(t.match(/\?/g)||[]).length,s=t.replace(/\?/g,""),o=xe(s);console.log("Processing search:",{searchTerm:t,wildcardCount:n,processedInput:o,showShorter:r});const i=Array.from(n===0?wR(o,e):xR(o,n,e)),a=Array.from(SR(o,n,e)),l=r?Array.from(bR(o,e)):[];return{exactMatches:i,wildcardMatches:n>0?i:[],additionalWildcardMatches:a,shorterMatches:l}},cp=t=>{if(t.includes(".*")||t.startsWith("^")||t.endsWith("$")){let r=t;return r.startsWith("^")||(r="^"+r),r.endsWith("$")||(r=r+"$"),new RegExp(r,"i")}return new RegExp(`^${t}$`,"i")},ER=Object.freeze(Object.defineProperty({__proto__:null,convertPatternToRegex:cp},Symbol.toStringTag,{value:"Module"})),sb=(t,e,r)=>{const n=xe(t),i=e.split(/([?^$\-])/).map(w=>w==="?"||w==="^"||w==="$"||w==="-"?w:xe(w)).join("");if(!cp(i).test(n))return!1;if(!r||r.trim()==="")return!0;let l=i.replace(/\./g,"");l.startsWith("^")&&(l=l.slice(1)),l.endsWith("$")&&(l=l.slice(0,-1)),l.includes(".*")&&(l=l.replace(/\.\*/g,""));const c=l.split("");let d=[...n];const f=new Map,m=xe(r);let p=0;for(const w of m)w==="*"?p++:f.set(w,(f.get(w)||0)+1);for(const w of c){const v=d.findIndex(S=>S===w);if(v===-1)return!1;d.splice(v,1)}for(const w of d){const v=f.get(w)||0;if(v>0)f.set(w,v-1);else if(p>0)p--;else return!1}return!0},kR=Object.freeze(Object.defineProperty({__proto__:null,validateWordPattern:sb},Symbol.toStringTag,{value:"Module"})),CR=(t,e)=>{const r=xe(e.toUpperCase());console.log("Searching for processed word:",r);let n=t;for(const o of r){if(!n.children.has(o))return console.log("Character not found in trie:",o),!1;n=n.children.get(o)}const s=n.isEndOfWord;return console.log("Word found in trie?",s),s},PR=async(t,e,r="")=>{const n=[],s=r&&r.trim().length>0,o=e.toString().slice(1,-1).replace(/^\^|\$$/g,"");console.log("Searching trie with:",{pattern:o,rackLetters:r,hasRackLetters:s});const i=(a,l)=>{a.isEndOfWord&&e.test(l)&&(s?sb(l,o,r)&&n.push(a.word):n.push(a.word)),a.children.forEach((c,d)=>{i(c,l+d)})};return i(t,""),n},ob=(t,e,r=!1,n=!1,s=!1)=>{if(!t.trim())return[];const o=xe(t),i=xe(e);return s?TR(o):r||n?jR(o,i,r,n):[o]},TR=(t,e)=>[t],jR=(t,e,r,n)=>{const s=new Map;for(const o of e)o==="*"||s.set(o,(s.get(o)||0)+1);if(e.length===0){if(r&&!n)return[t+".*"];if(!r&&n)return[".*"+t]}return r&&!n?[t]:!r&&n?[t]:[t]},go=[],ib=async(t,e,r=!1,n=8,s=null)=>{go.length=0;const o=t.split(":");let i=t,a=s;if(o.length>1){i=o[0];const f=o[1];f&&/^\d+$/.test(f)&&(a=parseInt(f,10),console.log("Length extracted from pattern with colon:",a))}const[l,c]=i.includes(",")?i.split(","):[i,""];console.log("Processing pattern search:",{patternPart:l,rackPart:c,showLongerWords:r,specifiedLength:a});const d=ap(l);console.log("Translated pattern:",d);try{let f=[];const m=xe(d);if(c&&c.trim().length>0){console.log("Using rack letters for pattern:",c.trim());const p=l.endsWith("-"),w=l.startsWith("-"),v=w&&p;f=await AR(m,c.trim(),e,p,w&&!p,v)}else{const p=m.replace(/\*/g,".*"),w=cp(p);console.log("Searching trie with:",{pattern:w.toString(),rackLetters:"",hasRackLetters:""}),f=await PR(e.getRoot(),w)}return console.log(`Found ${f.length} matches before filtering`),a!==null?f.filter(p=>p.length===a):r?f.filter(p=>p.length>n):f.filter(p=>p.length<=n)}catch(f){return console.error("Error in pattern matching:",f),[]}},AR=async(t,e,r,n=!1,s=!1,o=!1)=>{console.log("Generating combinations for pattern",t,"with rack letters",e,"extend:",n,"contains:",o);let i=t;const a=t.endsWith("$"),l=t.startsWith("^");if(o||t.includes(".*"),a&&(i=i.slice(0,-1)),l&&(i=i.slice(1)),i=i.replace(/\.\*/g,"").replace(/\.\+/g,""),i.includes("*")||i.includes(".")||n||s||o)return RR(i,e,r,n,s,o);const c=i,d=xe(e.toUpperCase()),f=l||t.includes("^"),m=a||t.endsWith("$"),p=ob(c,d,f,m,o);console.log(`Generated ${p.length} possible combinations to check`);const w=[];for(const v of p)if(r.search(v)){const S=r.getWordsStartingWith(v).filter(x=>x.length===v.length);w.push(...S)}return Array.from(new Set(w))},RR=async(t,e,r,n=!1,s=!1,o=!1)=>{console.log(`Buscando coincidencias para patrón con comodín: ${t}, extender: ${n}, prefijo: ${s}, contiene: ${o}`);let i=[];go.length=0;const a=t.indexOf("*");if(a!==-1)return await OR(t,e,r,a);const l=[];for(let p=0;p<t.length;p++)t[p]==="."&&l.push(p);const c=t.split(""),d=xe(e.toUpperCase()),f=new Map;let m=0;for(const p of d)p==="?"?m++:f.set(p,(f.get(p)||0)+1);if(console.log("Rack letters available:",Object.fromEntries(f.entries()),`Wildcards: ${m}`),await Wl(c,l,0,new Map(f),m,r,i,e,o,n,s),(n||s||o)&&go.length>0){console.log("Extendiendo o buscando en cualquier posición con patrones base:",go);const p=[],w=r.getAllWords();for(const v of go)if(o)for(const S of w)S.includes(v)&&NR(S,e,v)&&p.push(S);else if(n){const S=sv(v,new Map),x=new Map;let y=m;for(const[k,P]of f.entries()){const j=S.get(k)||0;if(P>j)x.set(k,P-j);else{const T=j-P;y>=T&&(y-=T)}}const _=r.getWordsStartingWith(v);for(const k of _)if(k.length>v.length){const P=k.slice(v.length);nv(P,new Map(x),y)&&p.push(k)}else k.length===v.length&&p.push(k)}else if(s){const S=sv(v,new Map),x=new Map;let y=m;for(const[_,k]of f.entries()){const P=S.get(_)||0;if(k>P)x.set(_,k-P);else{const j=P-k;y>=j&&(y-=j)}}for(const _ of w)if(_.endsWith(v))if(_.length>v.length){const k=_.slice(0,_.length-v.length);nv(k,new Map(x),y)&&p.push(_)}else _.length===v.length&&p.push(_)}i=[...i,...p]}return Array.from(new Set(i))},NR=(t,e,r)=>{if(t.indexOf(r)===-1)return!1;const s=new Map;let o=0;const i=xe(e.toUpperCase());for(const l of i)l==="?"?o++:s.set(l,(s.get(l)||0)+1);const a=new Map;for(const l of t)a.set(l,(a.get(l)||0)+1);for(const l of r){const c=a.get(l)||0;c>0&&(a.set(l,c-1),a.get(l)===0&&a.delete(l))}for(const[l,c]of a.entries()){const d=s.get(l)||0;if(d>=c)s.set(l,d-c);else{const f=c-d;if(o>=f)o-=f,d>0&&s.set(l,0);else return!1}}return!0},nv=(t,e,r)=>{const n=new Map;for(const s of t)n.set(s,(n.get(s)||0)+1);for(const[s,o]of n){const i=e.get(s)||0;if(i<o){const a=o-i;if(r>=a)r-=a,i>0&&e.set(s,0);else return!1}else e.set(s,i-o)}return!0},sv=(t,e)=>{const r=new Map;for(let n=0;n<t.length;n++)if(!e.has(n)){const s=t[n];r.set(s,(r.get(s)||0)+1)}return r},Wl=async(t,e,r,n,s,o,i,a,l=!1,c=!1,d=!1)=>{if(r>=e.length){const m=t.join("");if(go.push(m),!l&&!c&&!d){const p=m.startsWith("^"),w=m.endsWith("$");let v=m;p&&(v=v.slice(1)),w&&(v=v.slice(0,-1)),v=v.replace(/\.\*/g,"").replace(/\.\+/g,"");try{const S=ob(v,"",p,w);for(const x of S)if(o.search(x)){const y=o.getWordsStartingWith(x).filter(_=>_.length===x.length);i.push(...y)}}catch(S){console.error("Error generando variaciones de patrón:",S)}}return}const f=e[r];if(a&&a.trim().length>0){let m=!1;for(const[p,w]of n.entries())if(w>0){t[f]=p,m=!0;const v=new Map(n);v.set(p,w-1),await Wl(t,e,r+1,v,s,o,i,a,l,c,d)}if(s>0)for(const p of ma)t[f]=p,m=!0,await Wl(t,e,r+1,new Map(n),s-1,o,i,a,l,c,d);m||(t[f]=".")}else for(const m of ma)t[f]=m,await Wl(t,e,r+1,new Map(n),s,o,i,a,l,c,d);t[f]="."},OR=async(t,e,r,n)=>{console.log(`Manejando patrón con *: ${t}, índice *: ${n}`);const s=[];if(n!==t.length-1)return console.warn("Solo se soporta * al final del patrón por ahora"),[];const o=t.substring(0,n);console.log(`Parte fija: "${o}"`);const i=await LR(o,e);for(const a of i){const l=MR(e,a.usedLetters);console.log(`Parte fija resuelta: ${a.word}, rack restante: ${l}`);const c=$R(l,6);for(const d of c){const f=a.word+d;r.search(f)&&(console.log(`¡Encontrada palabra: ${f}!`),s.push(f))}}return Array.from(new Set(s))},LR=async(t,e,r)=>{const n=[],s=xe(e.toUpperCase()),o=t.split(""),i=[];for(let d=0;d<o.length;d++)o[d]==="."&&i.push(d);if(i.length===0)return[{word:t,usedLetters:""}];const a=new Map;let l=0;for(const d of s)d==="?"?l++:a.set(d,(a.get(d)||0)+1);const c=[];await Lf(o,i,0,new Map(a),l,c);for(const d of c){const f=Array.from(d.usedLetters.entries()).map(([m,p])=>m.repeat(p)).join("");n.push({word:d.pattern,usedLetters:f})}return n},Lf=async(t,e,r,n,s,o)=>{if(r>=e.length){const a=new Map,l=t.join("");for(let c=0;c<e.length;c++){const d=e[c],f=t[d];f!=="."&&a.set(f,(a.get(f)||0)+1)}o.push({pattern:l,usedLetters:a});return}const i=e[r];for(const[a,l]of n.entries())if(l>0){t[i]=a;const c=new Map(n);c.set(a,l-1),await Lf(t,e,r+1,c,s,o)}if(s>0){const a=["A","E","I","O","S"];for(const l of a)t[i]=l,await Lf(t,e,r+1,new Map(n),s-1,o)}t[i]="."},MR=(t,e)=>{const r=xe(t.toUpperCase()).split(""),n=e.split("");for(const s of n){const o=r.indexOf(s);o!==-1&&r.splice(o,1)}return r.join("")},$R=(t,e)=>{const r=[""],n=t.split("");if(n.length===0)return r;for(let s=1;s<=Math.min(e,n.length);s++){const o=IR(n,s);r.push(...o)}return r},IR=(t,e)=>{if(e===0)return[""];if(t.length===0)return[];const r=[],n=new Array(t.length).fill(!1),s=o=>{if(o.length===e){r.push(o);return}for(let i=0;i<t.length;i++)n[i]||(n[i]=!0,s(o+t[i]),n[i]=!1)};return s(""),r.slice(0,20)},DR=Object.freeze(Object.defineProperty({__proto__:null,findPatternMatches:ib},Symbol.toStringTag,{value:"Module"})),WR=({trie:t})=>{const[e,r]=E.useState(""),[n,s]=E.useState([]),[o,i]=E.useState(!1),[a,l]=E.useState(!1),[c,d]=E.useState(null),[f,m]=E.useState(null),[p,w]=E.useState(null),[v,S]=E.useState(!1),[x,y]=E.useState(!1),_=E.useRef(null),k=$=>{const I=$.trim().toLowerCase();if(I.includes("*")||I.includes(".")||I.includes("_")||I.includes("-")||I.includes(":"))return"pattern";if(!I.includes(" ")&&/^[a-záéíóúüñç*]+$/i.test(I)){const U=I.toUpperCase();return t.search(U)?"word":"anagram"}return"natural_language"},P=async $=>{const I=$.toUpperCase(),U=t.search(I);let D=[],K=[];if(U||$.length<=8){const{exactMatches:Q,shorterMatches:X}=rv($,t,!0);D=Q.filter(W=>W!==I).map(W=>we(W)).slice(0,20),K=X.map(W=>we(W)).slice(0,30)}return{word:we(I),isValid:U,anagrams:D,subanagrams:K}},j=async $=>{if(!x){y(!0),S(!0),w(null);try{const I=await vR($);w(I)}catch(I){console.error("Error fetching word data:",I),Qe.error("Error al cargar información de la palabra")}finally{y(!1)}}},T=()=>{S(!1),w(null)},N=async()=>{if(!e.trim()){Qe.error("Por favor ingresa una consulta");return}console.log("🔍 Iniciando búsqueda omnibox con query:",e),i(!0),d(null),s([]);const $=k(e);m($),console.log("🎯 Tipo de consulta detectado:",$);try{switch($){case"word":{console.log("📖 Procesando como palabra individual");const I=await P(e.trim());d(I),I.isValid?Qe.success(`"${I.word}" es válida para Scrabble`):Qe.error(`"${I.word}" no es válida para Scrabble`);break}case"anagram":{console.log("🔤 Procesando como anagrama");const{exactMatches:I,wildcardMatches:U,additionalWildcardMatches:D,shorterMatches:K}=rv(e.trim(),t,!0);let Q=[];I.length>0&&Q.push(...I),U.length>0&&Q.push(...U),D.length>0&&Q.push(...D),K.length>0&&Q.push(...K);const X=Q.map(W=>we(W)).slice(0,100);s(X),Qe.success(`Encontrados ${X.length} anagramas${X.length===100?" (mostrando primeros 100)":""}`);break}case"pattern":{console.log("🎯 Procesando como patrón");const U=(await ib(e.trim(),t,!1,8,null)).map(D=>we(D)).slice(0,100);s(U),Qe.success(`Encontradas ${U.length} palabras que coinciden con el patrón${U.length===100?" (mostrando primeras 100)":""}`);break}case"natural_language":{console.log("🗣️ Procesando como lenguaje natural"),console.log("🚀 USANDO ANTHROPIC CLAUDE");const{data:I,error:U}=await nt.functions.invoke("process-natural-query",{body:{query:e.trim()}});if(console.log("Respuesta de process-natural-query:",I,U),U){console.error("Error al procesar la consulta:",U),Qe.error(U.message||"Error al procesar la consulta");return}let D=[];if(I!=null&&I.results&&I.results.length>0)console.log("✅ Resultados de BD migrada:",I.results),D=I.results.map(K=>we(K.lemma)),s(D),I.message&&Qe.success(I.message);else if(I!=null&&I.sql){console.log("📝 Ejecutando SQL fallback:",I.sql);const{data:K,error:Q,count:X}=await nt.rpc("execute_natural_search",{query_text:I.sql});if(console.log("Respuesta de execute_natural_search:",K,Q,X),Q){console.error("Error al ejecutar la consulta:",Q),Qe.error("Error al ejecutar la consulta");return}D=(K||[]).map(W=>we(W.word)),s(D)}else{console.error("No se recibieron resultados ni SQL de process-natural-query"),Qe.error("Error al procesar la consulta");return}D.length===0?Qe.info("La búsqueda no arrojó resultados, intente reformular la consulta"):D.length===100&&Qe.info("Se muestran solo los primeros 100 resultados"),await nt.from("query_history").insert({natural_query:e.trim(),sql_query:I.sql||I.sql_query||"Direct database search",successful:!0});break}}}catch(I){console.error("Error inesperado:",I),Qe.error("Error al procesar la consulta")}finally{i(!1)}},R=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({audio:!0}),I=new MediaRecorder($),U=[];I.ondataavailable=D=>{U.push(D.data)},I.onstop=async()=>{const D=new Blob(U,{type:"audio/webm"}),K=new FileReader;K.onload=async()=>{if(typeof K.result=="string"){const Q=K.result.split(",")[1];try{const{data:X,error:W}=await nt.functions.invoke("voice-to-text",{body:{audio:Q}});if(W){Qe.error("Error al procesar el audio");return}X!=null&&X.text&&(r(X.text),Qe.success("Audio transcrito correctamente"))}catch(X){console.error("Error processing voice:",X),Qe.error("Error al procesar la voz")}}},K.readAsDataURL(D)},_.current=I,I.start(),l(!0),Qe.info("Grabando...")}catch($){console.error("Error accessing microphone:",$),Qe.error("Error al acceder al micrófono")}},O=()=>{_.current&&a&&(_.current.stop(),l(!1),_.current.stream.getTracks().forEach($=>$.stop()))};return g.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col h-full",children:[g.jsxs("div",{className:"flex-1 space-y-4 p-4",children:[c&&g.jsx(mR,{wordInfo:c,onWordClick:j}),n.length>0&&g.jsx(pR,{results:n,onWordClick:j}),f&&g.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[f==="word"&&"📖 Análisis de palabra",f==="anagram"&&"🔤 Búsqueda de anagramas",f==="pattern"&&"🎯 Búsqueda por patrón",f==="natural_language"&&"🗣️ Consulta en lenguaje natural"]})]}),g.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:g.jsx(fR,{query:e,onQueryChange:r,onSearch:N,isRecording:a,onStartRecording:R,onStopRecording:O,isLoading:o})}),g.jsx(gR,{wordData:p,isOpen:v,onClose:T})]})},FR=({activeModule:t,onModuleChange:e})=>g.jsxs("div",{className:"fixed top-0 left-0 right-0 h-16 bg-white shadow-sm flex items-center justify-center px-2 sm:px-4 z-30",children:[g.jsxs("div",{className:"flex gap-2 sm:gap-4",children:[g.jsx(ts,{variant:t==="judge"?"default":"outline",onClick:()=>e("judge"),className:"w-20 sm:w-24 md:w-28 lg:w-32 text-xs sm:text-sm md:text-base shadow-lg hover:shadow-xl transition-shadow",children:"Juez"}),g.jsx(ts,{variant:t==="anagram"?"default":"outline",onClick:()=>e("anagram"),className:"w-20 sm:w-24 md:w-28 lg:w-32 text-xs sm:text-sm md:text-base shadow-lg hover:shadow-xl transition-shadow",children:"Anagramas"}),g.jsx(ts,{variant:t==="lists"?"default":"outline",onClick:()=>e("lists"),className:"w-20 sm:w-24 md:w-28 lg:w-32 text-xs sm:text-sm md:text-base shadow-lg hover:shadow-xl transition-shadow",children:"Listas"})]}),g.jsx("div",{className:"absolute right-4 w-12 sm:w-16"})]}),zR=({activeModule:t,anagramSettings:e})=>{const[r,n]=E.useState(!1),s=()=>{n(!r)},o=(f,m)=>{f(!m)},i=(f,m,p,w,v=!1)=>g.jsxs("div",{className:`flex items-center justify-between py-3 px-4 ${v?"opacity-50":""}`,children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[w,g.jsx("span",{className:"text-sm font-medium text-gray-700",children:f})]}),g.jsx("button",{onClick:()=>!v&&o(p,m),disabled:v,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${m?"bg-blue-600":"bg-gray-300"} ${v?"cursor-not-allowed":"cursor-pointer"}`,children:g.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${m?"translate-x-6":"translate-x-1"}`})})]}),a=()=>{if(!e)return null;const{showShorter:f,onShowShorterChange:m,showExtendedView:p,onExtendedViewChange:w,showHooksView:v,onHooksViewChange:S,hasActiveSearch:x,onCopyAll:y,sortByEquity:_,onSortByEquityChange:k,isPatternWithoutRack:P=!1}=e;return g.jsxs("div",{className:"space-y-1",children:[i("Palabras más cortas",f,m,g.jsx(ko,{size:16,className:"text-orange-500"}),!x||P),f&&x&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"border-t border-gray-100"}),i("Ordenar por equity",_,k,g.jsx(PE,{size:16,className:"text-purple-500"}),!1)]}),g.jsx("div",{className:"border-t border-gray-100"}),i("Vista extendida",p,w,g.jsx(_E,{size:16,className:"text-blue-500"}),!x),g.jsx("div",{className:"border-t border-gray-100"}),i("Vista de ganchos",v,S,g.jsx(wE,{size:16,className:"text-green-500"}),!x),x&&y&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"border-t border-gray-100"}),g.jsx("div",{className:"py-3 px-4",children:g.jsxs("button",{onClick:()=>{y(),n(!1)},className:"w-full flex items-center space-x-3 text-left hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[g.jsx(cw,{size:16,className:"text-purple-500"}),g.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Copiar resultados"})]})})]})]})},l=()=>{switch(t){case"anagram":return a();case"judge":return g.jsxs("div",{className:"py-8 text-center",children:[g.jsx(Zm,{size:24,className:"text-gray-400 mx-auto mb-3"}),g.jsx("p",{className:"text-sm text-gray-500",children:"No hay opciones de configuración disponibles para el módulo de validación"})]});case"lists":return g.jsxs("div",{className:"py-8 text-center",children:[g.jsx(Zm,{size:24,className:"text-gray-400 mx-auto mb-3"}),g.jsx("p",{className:"text-sm text-gray-500",children:"No hay opciones de configuración disponibles para el módulo de listas"})]});default:return null}},c=()=>{if(t!=="anagram"||!(e!=null&&e.hasActiveSearch))return null;const{showHooksView:f,showExtendedView:m,showShorter:p}=e;return g.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[g.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Vista actual:"}),g.jsx("p",{className:"text-xs text-blue-600",children:f?"🎣 Vista de ganchos activa":m?"📖 Vista extendida activa":"📝 Vista normal activa"}),p&&g.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"📏 Incluyendo palabras más cortas"})]})},d=()=>{switch(t){case"judge":return"Configuración - Juez";case"anagram":return"Configuración - Anagramas";case"lists":return"Configuración - Listas";default:return"Configuración"}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed top-0 right-4 h-16 flex items-center z-50",children:g.jsx("button",{onClick:s,className:"p-2 bg-white rounded-lg shadow-lg border border-gray-200 hover:shadow-xl transition-shadow","aria-label":"Abrir menú de configuración",children:r?g.jsx(Ws,{size:20,className:"text-gray-600"}):g.jsx(SE,{size:20,className:"text-gray-600"})})}),r&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:s}),g.jsx("div",{className:`fixed top-0 right-0 h-full w-80 bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:d()}),g.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded",children:g.jsx(Ws,{size:20,className:"text-gray-600"})})]}),l(),t==="anagram"&&!(e!=null&&e.hasActiveSearch)&&g.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:g.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Realiza una búsqueda para activar las opciones de visualización"})}),c()]})})]})},bl=()=>({children:new Map,isEndOfWord:!1,word:""}),UR=(t,e)=>{let r=t;for(const n of e){if(!r.children.has(n))return null;r=r.children.get(n)}return r},Mf=(t,e)=>{t.isEndOfWord&&e.push(t.word);for(const[,r]of t.children)Mf(r,e)},BR=(t,e)=>t[e]?Object.values(t[e]).flat():[],qR=(t,e,r)=>!t[e]||!t[e][r]?[]:t[e][r];class ov{constructor(){Le(this,"root");Le(this,"lengthIndex");this.root=bl(),this.lengthIndex={}}getRoot(){return this.root}clear(){this.root=bl(),this.lengthIndex={}}insert(e,r){let n=this.root;for(const i of e)n.children.has(i)||n.children.set(i,bl()),n=n.children.get(i);n.isEndOfWord=!0,n.word=r;const s=e.length;this.lengthIndex[s]||(this.lengthIndex[s]={});const o=this.sortLetters(e);this.lengthIndex[s][o]||(this.lengthIndex[s][o]=[]),this.lengthIndex[s][o].push(r)}sortLetters(e){return is(e)}search(e){return CR(this.root,e)}findAnagrams(e){const r=e.length,n=this.sortLetters(e);return qR(this.lengthIndex,r,n)}getWordsOfLength(e){return BR(this.lengthIndex,e)}getAllWords(){const e=[];return this.dfs(this.root,e),e}getWordsStartingWith(e){const r=UR(this.root,e);if(!r)return[];const n=[];return r.isEndOfWord&&n.push(r.word),Mf(r,n),n}dfs(e,r){Mf(e,r)}serialize(){const e=r=>({children:Array.from(r.children.entries()).map(([n,s])=>[n,e(s)]),isEndOfWord:r.isEndOfWord,word:r.word});return{root:e(this.root)}}deserialize(e){const r=s=>{const o=bl();return o.isEndOfWord=s.isEndOfWord,o.word=s.word,s.children.forEach(([i,a])=>{o.children.set(i,r(a))}),o};this.root=r(e.root),this.lengthIndex={},this.getAllWords().forEach(s=>{const o=s.length,i=this.sortLetters(s);this.lengthIndex[o]||(this.lengthIndex[o]={}),this.lengthIndex[o][i]||(this.lengthIndex[o][i]=[]),this.lengthIndex[o][i].push(s)})}}var ab={exports:{}};const VR={},HR=Object.freeze(Object.defineProperty({__proto__:null,default:VR},Symbol.toStringTag,{value:"Module"})),iv=gv(HR);(function(t,e){var r=void 0,n=function(s){return r||(r=new Promise(function(o,i){var a=typeof s<"u"?s:{},l=a.onAbort;a.onAbort=function(u){i(new Error(u)),l&&l(u)},a.postRun=a.postRun||[],a.postRun.push(function(){o(a)}),t=void 0;var c;c||(c=typeof a<"u"?a:{});var d=typeof window=="object",f=typeof WorkerGlobalScope<"u",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";c.onRuntimeInitialized=function(){function u(L,q){switch(typeof q){case"boolean":Ub(L,q?1:0);break;case"number":Wb(L,q);break;case"string":Fb(L,q,-1,-1);break;case"object":if(q===null)Np(L);else if(q.length!=null){var ee=Ba(q,Ua);zb(L,ee,q.length,-1),qa(ee)}else Va(L,"Wrong API use : tried to return a value of an unknown type ("+q+").",-1);break;default:Np(L)}}function h(L,q){for(var ee=[],ne=0;ne<L;ne+=1){var le=ut(q+4*ne,"i32"),Ee=Lb(le);if(Ee===1||Ee===2)le=Db(le);else if(Ee===3)le=$b(le);else if(Ee===4){Ee=le,le=Mb(Ee),Ee=Ib(Ee);for(var ur=new Uint8Array(le),Xt=0;Xt<le;Xt+=1)ur[Xt]=O[Ee+Xt];le=ur}else le=null;ee.push(le)}return ee}function b(L,q){this.Qa=L,this.db=q,this.Oa=1,this.lb=[]}function C(L,q){if(this.db=q,q=et(L)+1,this.eb=xu(q),this.eb===null)throw Error("Unable to allocate memory for the SQL string");dt(L,$,this.eb,q),this.kb=this.eb,this.Za=this.pb=null}function A(L){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),L!=null){var q=this.filename,ee="/",ne=q;if(ee&&(ee=typeof ee=="string"?ee:vt(ee),ne=q?Rr(ee+"/"+q):ee),q=li(!0,!0),ne=ub(ne,q),L){if(typeof L=="string"){ee=Array(L.length);for(var le=0,Ee=L.length;le<Ee;++le)ee[le]=L.charCodeAt(le);L=ee}Da(ne,q|146),ee=Ks(ne,577),_p(ee,L,0,L.length,0),pu(ee),Da(ne,q)}}this.handleError(te(this.filename,M)),this.db=ut(M,"i32"),Lp(this.db),this.fb={},this.Sa={}}var M=kn(4),F=c.cwrap,te=F("sqlite3_open","number",["string","number"]),pe=F("sqlite3_close_v2","number",["number"]),fe=F("sqlite3_exec","number",["number","string","number","number","number"]),ze=F("sqlite3_changes","number",["number"]),At=F("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Pp=F("sqlite3_sql","string",["number"]),vb=F("sqlite3_normalized_sql","string",["number"]),Tp=F("sqlite3_prepare_v2","number",["number","number","number","number","number"]),yb=F("sqlite3_bind_text","number",["number","number","number","number","number"]),jp=F("sqlite3_bind_blob","number",["number","number","number","number","number"]),wb=F("sqlite3_bind_double","number",["number","number","number"]),xb=F("sqlite3_bind_int","number",["number","number","number"]),bb=F("sqlite3_bind_parameter_index","number",["number","string"]),_b=F("sqlite3_step","number",["number"]),Sb=F("sqlite3_errmsg","string",["number"]),Eb=F("sqlite3_column_count","number",["number"]),kb=F("sqlite3_data_count","number",["number"]),Cb=F("sqlite3_column_double","number",["number","number"]),Ap=F("sqlite3_column_text","string",["number","number"]),Pb=F("sqlite3_column_blob","number",["number","number"]),Tb=F("sqlite3_column_bytes","number",["number","number"]),jb=F("sqlite3_column_type","number",["number","number"]),Ab=F("sqlite3_column_name","string",["number","number"]),Rb=F("sqlite3_reset","number",["number"]),Nb=F("sqlite3_clear_bindings","number",["number"]),Ob=F("sqlite3_finalize","number",["number"]),Rp=F("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Lb=F("sqlite3_value_type","number",["number"]),Mb=F("sqlite3_value_bytes","number",["number"]),$b=F("sqlite3_value_text","string",["number"]),Ib=F("sqlite3_value_blob","number",["number"]),Db=F("sqlite3_value_double","number",["number"]),Wb=F("sqlite3_result_double","",["number","number"]),Np=F("sqlite3_result_null","",["number"]),Fb=F("sqlite3_result_text","",["number","string","number","number"]),zb=F("sqlite3_result_blob","",["number","number","number","number"]),Ub=F("sqlite3_result_int","",["number","number"]),Va=F("sqlite3_result_error","",["number","string","number"]),Op=F("sqlite3_aggregate_context","number",["number","number"]),Lp=F("RegisterExtensionFunctions","number",["number"]),Mp=F("sqlite3_update_hook","number",["number","number","number"]);b.prototype.bind=function(L){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(L)?this.Cb(L):L!=null&&typeof L=="object"?this.Db(L):!0},b.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var L=_b(this.Qa);switch(L){case 100:return!0;case 101:return!1;default:throw this.db.handleError(L)}},b.prototype.wb=function(L){return L==null&&(L=this.Oa,this.Oa+=1),Cb(this.Qa,L)},b.prototype.Gb=function(L){if(L==null&&(L=this.Oa,this.Oa+=1),L=Ap(this.Qa,L),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(L)},b.prototype.Hb=function(L){return L==null&&(L=this.Oa,this.Oa+=1),Ap(this.Qa,L)},b.prototype.getBlob=function(L){L==null&&(L=this.Oa,this.Oa+=1);var q=Tb(this.Qa,L);L=Pb(this.Qa,L);for(var ee=new Uint8Array(q),ne=0;ne<q;ne+=1)ee[ne]=O[L+ne];return ee},b.prototype.get=function(L,q){q=q||{},L!=null&&this.bind(L)&&this.step(),L=[];for(var ee=kb(this.Qa),ne=0;ne<ee;ne+=1)switch(jb(this.Qa,ne)){case 1:var le=q.useBigInt?this.Gb(ne):this.wb(ne);L.push(le);break;case 2:L.push(this.wb(ne));break;case 3:L.push(this.Hb(ne));break;case 4:L.push(this.getBlob(ne));break;default:L.push(null)}return L},b.prototype.getColumnNames=function(){for(var L=[],q=Eb(this.Qa),ee=0;ee<q;ee+=1)L.push(Ab(this.Qa,ee));return L},b.prototype.getAsObject=function(L,q){L=this.get(L,q),q=this.getColumnNames();for(var ee={},ne=0;ne<q.length;ne+=1)ee[q[ne]]=L[ne];return ee},b.prototype.getSQL=function(){return Pp(this.Qa)},b.prototype.getNormalizedSQL=function(){return vb(this.Qa)},b.prototype.run=function(L){return L!=null&&this.bind(L),this.step(),this.reset()},b.prototype.sb=function(L,q){q==null&&(q=this.Oa,this.Oa+=1),L=ja(L);var ee=Ba(L,Ua);this.lb.push(ee),this.db.handleError(yb(this.Qa,q,ee,L.length-1,0))},b.prototype.Bb=function(L,q){q==null&&(q=this.Oa,this.Oa+=1);var ee=Ba(L,Ua);this.lb.push(ee),this.db.handleError(jp(this.Qa,q,ee,L.length,0))},b.prototype.rb=function(L,q){q==null&&(q=this.Oa,this.Oa+=1),this.db.handleError((L===(L|0)?xb:wb)(this.Qa,q,L))},b.prototype.Eb=function(L){L==null&&(L=this.Oa,this.Oa+=1),jp(this.Qa,L,0,0,0)},b.prototype.tb=function(L,q){switch(q==null&&(q=this.Oa,this.Oa+=1),typeof L){case"string":this.sb(L,q);return;case"number":this.rb(L,q);return;case"bigint":this.sb(L.toString(),q);return;case"boolean":this.rb(L+0,q);return;case"object":if(L===null){this.Eb(q);return}if(L.length!=null){this.Bb(L,q);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+L+")."},b.prototype.Db=function(L){var q=this;return Object.keys(L).forEach(function(ee){var ne=bb(q.Qa,ee);ne!==0&&q.tb(L[ee],ne)}),!0},b.prototype.Cb=function(L){for(var q=0;q<L.length;q+=1)this.tb(L[q],q+1);return!0},b.prototype.reset=function(){return this.freemem(),Nb(this.Qa)===0&&Rb(this.Qa)===0},b.prototype.freemem=function(){for(var L;(L=this.lb.pop())!==void 0;)qa(L)},b.prototype.free=function(){this.freemem();var L=Ob(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,L},C.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var L=hi(),q=kn(4);Ar(M),Ar(q);try{this.db.handleError(Tp(this.db.db,this.kb,-1,M,q)),this.kb=ut(q,"i32");var ee=ut(M,"i32");return ee===0?(this.mb(),{done:!0}):(this.Za=new b(ee,this.db),this.db.fb[ee]=this.Za,{value:this.Za,done:!1})}catch(ne){throw this.pb=ds(this.kb),this.mb(),ne}finally{fi(L)}},C.prototype.mb=function(){qa(this.eb),this.eb=null},C.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:ds(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(C.prototype[Symbol.iterator]=function(){return this}),A.prototype.run=function(L,q){if(!this.db)throw"Database closed";if(q){L=this.prepare(L,q);try{L.step()}finally{L.free()}}else this.handleError(fe(this.db,L,0,0,M));return this},A.prototype.exec=function(L,q,ee){if(!this.db)throw"Database closed";var ne=hi(),le=null;try{var Ee=yu(L),ur=kn(4);for(L=[];ut(Ee,"i8")!==0;){Ar(M),Ar(ur),this.handleError(Tp(this.db,Ee,-1,M,ur));var Xt=ut(M,"i32");if(Ee=ut(ur,"i32"),Xt!==0){var Wt=null;for(le=new b(Xt,this),q!=null&&le.bind(q);le.step();)Wt===null&&(Wt={columns:le.getColumnNames(),values:[]},L.push(Wt)),Wt.values.push(le.get(null,ee));le.free()}}return L}catch(dr){throw le&&le.free(),dr}finally{fi(ne)}},A.prototype.each=function(L,q,ee,ne,le){typeof q=="function"&&(ne=ee,ee=q,q=void 0),L=this.prepare(L,q);try{for(;L.step();)ee(L.getAsObject(null,le))}finally{L.free()}if(typeof ne=="function")return ne()},A.prototype.prepare=function(L,q){if(Ar(M),this.handleError(At(this.db,L,-1,M,0)),L=ut(M,"i32"),L===0)throw"Nothing to prepare";var ee=new b(L,this);return q!=null&&ee.bind(q),this.fb[L]=ee},A.prototype.iterateStatements=function(L){return new C(L,this)},A.prototype.export=function(){Object.values(this.fb).forEach(function(q){q.free()}),Object.values(this.Sa).forEach(En),this.Sa={},this.handleError(pe(this.db));var L=db(this.filename);return this.handleError(te(this.filename,M)),this.db=ut(M,"i32"),Lp(this.db),L},A.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(L){L.free()}),Object.values(this.Sa).forEach(En),this.Sa={},this.Ya&&(En(this.Ya),this.Ya=void 0),this.handleError(pe(this.db)),vp("/"+this.filename),this.db=null)},A.prototype.handleError=function(L){if(L===0)return null;throw L=Sb(this.db),Error(L)},A.prototype.getRowsModified=function(){return ze(this.db)},A.prototype.create_function=function(L,q){Object.prototype.hasOwnProperty.call(this.Sa,L)&&(En(this.Sa[L]),delete this.Sa[L]);var ee=di(function(ne,le,Ee){le=h(le,Ee);try{var ur=q.apply(null,le)}catch(Xt){Va(ne,Xt,-1);return}u(ne,ur)},"viii");return this.Sa[L]=ee,this.handleError(Rp(this.db,L,q.length,1,0,ee,0,0,0)),this},A.prototype.create_aggregate=function(L,q){var ee=q.init||function(){return null},ne=q.finalize||function(Wt){return Wt},le=q.step;if(!le)throw"An aggregate function must have a step function in "+L;var Ee={};Object.hasOwnProperty.call(this.Sa,L)&&(En(this.Sa[L]),delete this.Sa[L]),q=L+"__finalize",Object.hasOwnProperty.call(this.Sa,q)&&(En(this.Sa[q]),delete this.Sa[q]);var ur=di(function(Wt,dr,_u){var ms=Op(Wt,1);Object.hasOwnProperty.call(Ee,ms)||(Ee[ms]=ee()),dr=h(dr,_u),dr=[Ee[ms]].concat(dr);try{Ee[ms]=le.apply(null,dr)}catch(Bb){delete Ee[ms],Va(Wt,Bb,-1)}},"viii"),Xt=di(function(Wt){var dr=Op(Wt,1);try{var _u=ne(Ee[dr])}catch(ms){delete Ee[dr],Va(Wt,ms,-1);return}u(Wt,_u),delete Ee[dr]},"vi");return this.Sa[L]=ur,this.Sa[q]=Xt,this.handleError(Rp(this.db,L,le.length-1,1,0,0,ur,Xt,0)),this},A.prototype.updateHook=function(L){this.Ya&&(Mp(this.db,0,0),En(this.Ya),this.Ya=void 0),L&&(this.Ya=di(function(q,ee,ne,le,Ee){switch(ee){case 18:q="insert";break;case 23:q="update";break;case 9:q="delete";break;default:throw"unknown operationCode in updateHook callback: "+ee}if(ne=ne?Ce($,ne):"",le=le?Ce($,le):"",Ee>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";L(q,ne,le,Number(Ee))},"viiiij"),Mp(this.db,this.Ya,0))},c.Database=A};var p={...c},w="./this.program",v=(u,h)=>{throw h},S="",x,y;if(m){var _=iv;S=__dirname+"/",y=u=>(u=W(u)?new URL(u):u,_.readFileSync(u)),x=async u=>(u=W(u)?new URL(u):u,_.readFileSync(u,void 0)),!c.thisProgram&&1<process.argv.length&&(w=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=c,v=(u,h)=>{throw process.exitCode=u,h}}else(d||f)&&(f?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),S=S.startsWith("blob:")?"":S.slice(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1),f&&(y=u=>{var h=new XMLHttpRequest;return h.open("GET",u,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),x=async u=>{if(W(u))return new Promise((b,C)=>{var A=new XMLHttpRequest;A.open("GET",u,!0),A.responseType="arraybuffer",A.onload=()=>{A.status==200||A.status==0&&A.response?b(A.response):C(A.status)},A.onerror=C,A.send(null)});var h=await fetch(u,{credentials:"same-origin"});if(h.ok)return h.arrayBuffer();throw Error(h.status+" : "+h.url)});var k=c.print||console.log.bind(console),P=c.printErr||console.error.bind(console);Object.assign(c,p),p=null,c.thisProgram&&(w=c.thisProgram);var j=c.wasmBinary,T,N=!1,R,O,$,I,U,D,K,Q,X,W=u=>u.startsWith("file://");function B(){var u=T.buffer;c.HEAP8=O=new Int8Array(u),c.HEAP16=I=new Int16Array(u),c.HEAPU8=$=new Uint8Array(u),c.HEAPU16=new Uint16Array(u),c.HEAP32=U=new Int32Array(u),c.HEAPU32=D=new Uint32Array(u),c.HEAPF32=K=new Float32Array(u),c.HEAPF64=X=new Float64Array(u),c.HEAP64=Q=new BigInt64Array(u),c.HEAPU64=new BigUint64Array(u)}var Y=0,se=null;function J(u){var h;throw(h=c.onAbort)==null||h.call(c,u),u="Aborted("+u+")",P(u),N=!0,new WebAssembly.RuntimeError(u+". Build with -sASSERTIONS for more info.")}var ie;async function he(u){if(!j)try{var h=await x(u);return new Uint8Array(h)}catch{}if(u==ie&&j)u=new Uint8Array(j);else if(y)u=y(u);else throw"both async and sync fetching of the wasm failed";return u}async function Fe(u,h){try{var b=await he(u);return await WebAssembly.instantiate(b,h)}catch(C){P(`failed to asynchronously prepare wasm: ${C}`),J(C)}}async function Ze(u){var h=ie;if(!j&&typeof WebAssembly.instantiateStreaming=="function"&&!W(h)&&!m)try{var b=fetch(h,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(b,u)}catch(C){P(`wasm streaming compile failed: ${C}`),P("falling back to ArrayBuffer instantiation")}return Fe(h,u)}class ye{constructor(h){Le(this,"name","ExitStatus");this.message=`Program terminated with exit(${h})`,this.status=h}}var en=u=>{for(;0<u.length;)u.shift()(c)},ar=[],Tr=[],jr=()=>{var u=c.preRun.shift();Tr.unshift(u)};function ut(u,h="i8"){switch(h.endsWith("*")&&(h="*"),h){case"i1":return O[u];case"i8":return O[u];case"i16":return I[u>>1];case"i32":return U[u>>2];case"i64":return Q[u>>3];case"float":return K[u>>2];case"double":return X[u>>3];case"*":return D[u>>2];default:J(`invalid type for getValue: ${h}`)}}var Gt=c.noExitRuntime||!0;function Ar(u){var h="i32";switch(h.endsWith("*")&&(h="*"),h){case"i1":O[u]=0;break;case"i8":O[u]=0;break;case"i16":I[u>>1]=0;break;case"i32":U[u>>2]=0;break;case"i64":Q[u>>3]=BigInt(0);break;case"float":K[u>>2]=0;break;case"double":X[u>>3]=0;break;case"*":D[u>>2]=0;break;default:J(`invalid type for setValue: ${h}`)}}var Vs=typeof TextDecoder<"u"?new TextDecoder:void 0,Ce=(u,h=0,b=NaN)=>{var C=h+b;for(b=h;u[b]&&!(b>=C);)++b;if(16<b-h&&u.buffer&&Vs)return Vs.decode(u.subarray(h,b));for(C="";h<b;){var A=u[h++];if(A&128){var M=u[h++]&63;if((A&224)==192)C+=String.fromCharCode((A&31)<<6|M);else{var F=u[h++]&63;A=(A&240)==224?(A&15)<<12|M<<6|F:(A&7)<<18|M<<12|F<<6|u[h++]&63,65536>A?C+=String.fromCharCode(A):(A-=65536,C+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else C+=String.fromCharCode(A)}return C},ds=(u,h)=>u?Ce($,u,h):"",bn=(u,h)=>{for(var b=0,C=u.length-1;0<=C;C--){var A=u[C];A==="."?u.splice(C,1):A===".."?(u.splice(C,1),b++):b&&(u.splice(C,1),b--)}if(h)for(;b;b--)u.unshift("..");return u},Rr=u=>{var h=u.charAt(0)==="/",b=u.slice(-1)==="/";return(u=bn(u.split("/").filter(C=>!!C),!h).join("/"))||h||(u="."),u&&b&&(u+="/"),(h?"/":"")+u},oi=u=>{var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(u).slice(1);return u=h[0],h=h[1],!u&&!h?".":(h&&(h=h.slice(0,-1)),u+h)},Nr=u=>u&&u.match(/([^\/]+|\/)\/*$/)[1],Ta=()=>{if(m){var u=iv;return h=>u.randomFillSync(h)}return h=>crypto.getRandomValues(h)},Or=u=>{(Or=Ta())(u)},cu=(...u)=>{for(var h="",b=!1,C=u.length-1;-1<=C&&!b;C--){if(b=0<=C?u[C]:"/",typeof b!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";h=b+"/"+h,b=b.charAt(0)==="/"}return h=bn(h.split("/").filter(A=>!!A),!b).join("/"),(b?"/":"")+h||"."},ii=[],et=u=>{for(var h=0,b=0;b<u.length;++b){var C=u.charCodeAt(b);127>=C?h++:2047>=C?h+=2:55296<=C&&57343>=C?(h+=4,++b):h+=3}return h},dt=(u,h,b,C)=>{if(!(0<C))return 0;var A=b;C=b+C-1;for(var M=0;M<u.length;++M){var F=u.charCodeAt(M);if(55296<=F&&57343>=F){var te=u.charCodeAt(++M);F=65536+((F&1023)<<10)|te&1023}if(127>=F){if(b>=C)break;h[b++]=F}else{if(2047>=F){if(b+1>=C)break;h[b++]=192|F>>6}else{if(65535>=F){if(b+2>=C)break;h[b++]=224|F>>12}else{if(b+3>=C)break;h[b++]=240|F>>18,h[b++]=128|F>>12&63}h[b++]=128|F>>6&63}h[b++]=128|F&63}}return h[b]=0,b-A},ja=(u,h)=>{var b=Array(et(u)+1);return u=dt(u,b,0,b.length),h&&(b.length=u),b},Aa=[];function fs(u,h){Aa[u]={input:[],output:[],cb:h},fu(u,uu)}var uu={open(u){var h=Aa[u.node.rdev];if(!h)throw new G(43);u.tty=h,u.seekable=!1},close(u){u.tty.cb.fsync(u.tty)},fsync(u){u.tty.cb.fsync(u.tty)},read(u,h,b,C){if(!u.tty||!u.tty.cb.xb)throw new G(60);for(var A=0,M=0;M<C;M++){try{var F=u.tty.cb.xb(u.tty)}catch{throw new G(29)}if(F===void 0&&A===0)throw new G(6);if(F==null)break;A++,h[b+M]=F}return A&&(u.node.atime=Date.now()),A},write(u,h,b,C){if(!u.tty||!u.tty.cb.qb)throw new G(60);try{for(var A=0;A<C;A++)u.tty.cb.qb(u.tty,h[b+A])}catch{throw new G(29)}return C&&(u.node.mtime=u.node.ctime=Date.now()),A}},Ra={xb(){e:{if(!ii.length){var u=null;if(m){var h=Buffer.alloc(256),b=0,C=process.stdin.fd;try{b=_.readSync(C,h,0,256)}catch(A){if(A.toString().includes("EOF"))b=0;else throw A}0<b&&(u=h.slice(0,b).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(u=window.prompt("Input: "),u!==null&&(u+=`
`));if(!u){u=null;break e}ii=ja(u,!0)}u=ii.shift()}return u},qb(u,h){h===null||h===10?(k(Ce(u.output)),u.output=[]):h!=0&&u.output.push(h)},fsync(u){var h;0<((h=u.output)==null?void 0:h.length)&&(k(Ce(u.output)),u.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},ai={qb(u,h){h===null||h===10?(P(Ce(u.output)),u.output=[]):h!=0&&u.output.push(h)},fsync(u){var h;0<((h=u.output)==null?void 0:h.length)&&(P(Ce(u.output)),u.output=[])}},oe={Wa:null,Xa(){return oe.createNode(null,"/",16895,0)},createNode(u,h,b,C){if((b&61440)===24576||(b&61440)===4096)throw new G(63);return oe.Wa||(oe.Wa={dir:{node:{Ta:oe.La.Ta,Ua:oe.La.Ua,lookup:oe.La.lookup,hb:oe.La.hb,rename:oe.La.rename,unlink:oe.La.unlink,rmdir:oe.La.rmdir,readdir:oe.La.readdir,symlink:oe.La.symlink},stream:{Va:oe.Ma.Va}},file:{node:{Ta:oe.La.Ta,Ua:oe.La.Ua},stream:{Va:oe.Ma.Va,read:oe.Ma.read,write:oe.Ma.write,ib:oe.Ma.ib,jb:oe.Ma.jb}},link:{node:{Ta:oe.La.Ta,Ua:oe.La.Ua,readlink:oe.La.readlink},stream:{}},ub:{node:{Ta:oe.La.Ta,Ua:oe.La.Ua},stream:cb}}),b=jt(u,h,b,C),$e(b.mode)?(b.La=oe.Wa.dir.node,b.Ma=oe.Wa.dir.stream,b.Na={}):(b.mode&61440)===32768?(b.La=oe.Wa.file.node,b.Ma=oe.Wa.file.stream,b.Ra=0,b.Na=null):(b.mode&61440)===40960?(b.La=oe.Wa.link.node,b.Ma=oe.Wa.link.stream):(b.mode&61440)===8192&&(b.La=oe.Wa.ub.node,b.Ma=oe.Wa.ub.stream),b.atime=b.mtime=b.ctime=Date.now(),u&&(u.Na[h]=b,u.atime=u.mtime=u.ctime=b.atime),b},Sb(u){return u.Na?u.Na.subarray?u.Na.subarray(0,u.Ra):new Uint8Array(u.Na):new Uint8Array(0)},La:{Ta(u){var h={};return h.dev=(u.mode&61440)===8192?u.id:1,h.ino=u.id,h.mode=u.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=u.rdev,$e(u.mode)?h.size=4096:(u.mode&61440)===32768?h.size=u.Ra:(u.mode&61440)===40960?h.size=u.link.length:h.size=0,h.atime=new Date(u.atime),h.mtime=new Date(u.mtime),h.ctime=new Date(u.ctime),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},Ua(u,h){for(var b of["mode","atime","mtime","ctime"])h[b]!=null&&(u[b]=h[b]);h.size!==void 0&&(h=h.size,u.Ra!=h&&(h==0?(u.Na=null,u.Ra=0):(b=u.Na,u.Na=new Uint8Array(h),b&&u.Na.set(b.subarray(0,Math.min(h,u.Ra))),u.Ra=h)))},lookup(){throw oe.vb},hb(u,h,b,C){return oe.createNode(u,h,b,C)},rename(u,h,b){try{var C=wt(h,b)}catch{}if(C){if($e(u.mode))for(var A in C.Na)throw new G(55);Yt(C)}delete u.parent.Na[u.name],h.Na[b]=u,u.name=b,h.ctime=h.mtime=u.parent.ctime=u.parent.mtime=Date.now()},unlink(u,h){delete u.Na[h],u.ctime=u.mtime=Date.now()},rmdir(u,h){var b=wt(u,h),C;for(C in b.Na)throw new G(55);delete u.Na[h],u.ctime=u.mtime=Date.now()},readdir(u){return[".","..",...Object.keys(u.Na)]},symlink(u,h,b){return u=oe.createNode(u,h,41471,0),u.link=b,u},readlink(u){if((u.mode&61440)!==40960)throw new G(28);return u.link}},Ma:{read(u,h,b,C,A){var M=u.node.Na;if(A>=u.node.Ra)return 0;if(u=Math.min(u.node.Ra-A,C),8<u&&M.subarray)h.set(M.subarray(A,A+u),b);else for(C=0;C<u;C++)h[b+C]=M[A+C];return u},write(u,h,b,C,A,M){if(h.buffer===O.buffer&&(M=!1),!C)return 0;if(u=u.node,u.mtime=u.ctime=Date.now(),h.subarray&&(!u.Na||u.Na.subarray)){if(M)return u.Na=h.subarray(b,b+C),u.Ra=C;if(u.Ra===0&&A===0)return u.Na=h.slice(b,b+C),u.Ra=C;if(A+C<=u.Ra)return u.Na.set(h.subarray(b,b+C),A),C}M=A+C;var F=u.Na?u.Na.length:0;if(F>=M||(M=Math.max(M,F*(1048576>F?2:1.125)>>>0),F!=0&&(M=Math.max(M,256)),F=u.Na,u.Na=new Uint8Array(M),0<u.Ra&&u.Na.set(F.subarray(0,u.Ra),0)),u.Na.subarray&&h.subarray)u.Na.set(h.subarray(b,b+C),A);else for(M=0;M<C;M++)u.Na[A+M]=h[b+M];return u.Ra=Math.max(u.Ra,A+C),C},Va(u,h,b){if(b===1?h+=u.position:b===2&&(u.node.mode&61440)===32768&&(h+=u.node.Ra),0>h)throw new G(28);return h},ib(u,h,b,C,A){if((u.node.mode&61440)!==32768)throw new G(43);if(u=u.node.Na,A&2||!u||u.buffer!==O.buffer){A=!0,C=65536*Math.ceil(h/65536);var M=kp(65536,C);if(M&&$.fill(0,M,M+C),C=M,!C)throw new G(48);u&&((0<b||b+h<u.length)&&(u.subarray?u=u.subarray(b,b+h):u=Array.prototype.slice.call(u,b,b+h)),O.set(u,C))}else A=!1,C=u.byteOffset;return{Kb:C,Ab:A}},jb(u,h,b,C){return oe.Ma.write(u,h,0,C,b,!1),0}}},li=(u,h)=>{var b=0;return u&&(b|=365),h&&(b|=146),b},Lr=null,Na={},_n=[],Oa=1,lr=null,La=!1,Hs=!0,cr={},G=class{constructor(u){Le(this,"name","ErrnoError");this.Pa=u}},ae=class{constructor(){Le(this,"gb",{});Le(this,"node",null)}get flags(){return this.gb.flags}set flags(u){this.gb.flags=u}get position(){return this.gb.position}set position(u){this.gb.position=u}},Se=class{constructor(u,h,b,C){Le(this,"La",{});Le(this,"Ma",{});Le(this,"ab",null);u||(u=this),this.parent=u,this.Xa=u.Xa,this.id=Oa++,this.name=h,this.mode=b,this.rdev=C,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(u){u?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(u){u?this.mode|=146:this.mode&=-147}};function me(u,h={}){if(!u)throw new G(44);h.nb??(h.nb=!0),u.charAt(0)==="/"||(u="//"+u);var b=0;e:for(;40>b;b++){u=u.split("/").filter(te=>!!te);for(var C=Lr,A="/",M=0;M<u.length;M++){var F=M===u.length-1;if(F&&h.parent)break;if(u[M]!==".")if(u[M]==="..")A=oi(A),C=C.parent;else{A=Rr(A+"/"+u[M]);try{C=wt(C,u[M])}catch(te){if((te==null?void 0:te.Pa)===44&&F&&h.Jb)return{path:A};throw te}if(!C.ab||F&&!h.nb||(C=C.ab.root),(C.mode&61440)===40960&&(!F||h.$a)){if(!C.La.readlink)throw new G(52);C=C.La.readlink(C),C.charAt(0)==="/"||(C=oi(A)+"/"+C),u=C+"/"+u.slice(M+1).join("/");continue e}}}return{path:A,node:C}}throw new G(32)}function vt(u){for(var h;;){if(u===u.parent)return u=u.Xa.zb,h?u[u.length-1]!=="/"?`${u}/${h}`:u+h:u;h=h?`${u.name}/${h}`:u.name,u=u.parent}}function yt(u,h){for(var b=0,C=0;C<h.length;C++)b=(b<<5)-b+h.charCodeAt(C)|0;return(u+b>>>0)%lr.length}function Yt(u){var h=yt(u.parent.id,u.name);if(lr[h]===u)lr[h]=u.bb;else for(h=lr[h];h;){if(h.bb===u){h.bb=u.bb;break}h=h.bb}}function wt(u,h){var b=$e(u.mode)?(b=Qs(u,"x"))?b:u.La.lookup?0:2:54;if(b)throw new G(b);for(b=lr[yt(u.id,h)];b;b=b.bb){var C=b.name;if(b.parent.id===u.id&&C===h)return b}return u.La.lookup(u,h)}function jt(u,h,b,C){return u=new Se(u,h,b,C),h=yt(u.parent.id,u.name),u.bb=lr[h],lr[h]=u}function $e(u){return(u&61440)===16384}function dp(u){var h=["r","w","rw"][u&3];return u&512&&(h+="w"),h}function Qs(u,h){if(Hs)return 0;if(!h.includes("r")||u.mode&292){if(h.includes("w")&&!(u.mode&146)||h.includes("x")&&!(u.mode&73))return 2}else return 2;return 0}function fp(u,h){if(!$e(u.mode))return 54;try{return wt(u,h),20}catch{}return Qs(u,"wx")}function hp(u,h,b){try{var C=wt(u,h)}catch(A){return A.Pa}if(u=Qs(u,"wx"))return u;if(b){if(!$e(C.mode))return 54;if(C===C.parent||vt(C)==="/")return 10}else if($e(C.mode))return 31;return 0}function Ma(u){if(!u)throw new G(63);return u}function xt(u){if(u=_n[u],!u)throw new G(8);return u}function pp(u,h=-1){if(u=Object.assign(new ae,u),h==-1)e:{for(h=0;4096>=h;h++)if(!_n[h])break e;throw new G(33)}return u.fd=h,_n[h]=u}function lb(u,h=-1){var b,C;return u=pp(u,h),(C=(b=u.Ma)==null?void 0:b.Rb)==null||C.call(b,u),u}function du(u,h,b){var C=u==null?void 0:u.Ma.Ua;u=C?u:h,C??(C=h.La.Ua),Ma(C),C(u,b)}var cb={open(u){var h,b;u.Ma=Na[u.node.rdev].Ma,(b=(h=u.Ma).open)==null||b.call(h,u)},Va(){throw new G(70)}};function fu(u,h){Na[u]={Ma:h}}function mp(u,h){var b=h==="/";if(b&&Lr)throw new G(10);if(!b&&h){var C=me(h,{nb:!1});if(h=C.path,C=C.node,C.ab)throw new G(10);if(!$e(C.mode))throw new G(54)}h={type:u,Wb:{},zb:h,Ib:[]},u=u.Xa(h),u.Xa=h,h.root=u,b?Lr=u:C&&(C.ab=h,C.Xa&&C.Xa.Ib.push(h))}function $a(u,h,b){var C=me(u,{parent:!0}).node;if(u=Nr(u),!u)throw new G(28);if(u==="."||u==="..")throw new G(20);var A=fp(C,u);if(A)throw new G(A);if(!C.La.hb)throw new G(63);return C.La.hb(C,u,h,b)}function ub(u,h=438){return $a(u,h&4095|32768,0)}function Mr(u,h=511){return $a(u,h&1023|16384,0)}function Ia(u,h,b){typeof b>"u"&&(b=h,h=438),$a(u,h|8192,b)}function hu(u,h){if(!cu(u))throw new G(44);var b=me(h,{parent:!0}).node;if(!b)throw new G(44);h=Nr(h);var C=fp(b,h);if(C)throw new G(C);if(!b.La.symlink)throw new G(63);b.La.symlink(b,h,u)}function gp(u){var h=me(u,{parent:!0}).node;u=Nr(u);var b=wt(h,u),C=hp(h,u,!0);if(C)throw new G(C);if(!h.La.rmdir)throw new G(63);if(b.ab)throw new G(10);h.La.rmdir(h,u),Yt(b)}function vp(u){var h=me(u,{parent:!0}).node;if(!h)throw new G(44);u=Nr(u);var b=wt(h,u),C=hp(h,u,!1);if(C)throw new G(C);if(!h.La.unlink)throw new G(63);if(b.ab)throw new G(10);h.La.unlink(h,u),Yt(b)}function ci(u,h){return u=me(u,{$a:!h}).node,Ma(u.La.Ta)(u)}function yp(u,h,b,C){du(u,h,{mode:b&4095|h.mode&-4096,ctime:Date.now(),Fb:C})}function Da(u,h){u=typeof u=="string"?me(u,{$a:!0}).node:u,yp(null,u,h)}function wp(u,h,b){if($e(h.mode))throw new G(31);if((h.mode&61440)!==32768)throw new G(28);var C=Qs(h,"w");if(C)throw new G(C);du(u,h,{size:b,timestamp:Date.now()})}function Ks(u,h,b=438){if(u==="")throw new G(44);if(typeof h=="string"){var C={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[h];if(typeof C>"u")throw Error(`Unknown file open mode: ${h}`);h=C}if(b=h&64?b&4095|32768:0,typeof u=="object")C=u;else{var A=u.endsWith("/");u=me(u,{$a:!(h&131072),Jb:!0}),C=u.node,u=u.path}var M=!1;if(h&64)if(C){if(h&128)throw new G(20)}else{if(A)throw new G(31);C=$a(u,b|511,0),M=!0}if(!C)throw new G(44);if((C.mode&61440)===8192&&(h&=-513),h&65536&&!$e(C.mode))throw new G(54);if(!M&&(A=C?(C.mode&61440)===40960?32:$e(C.mode)&&(dp(h)!=="r"||h&576)?31:Qs(C,dp(h)):44))throw new G(A);return h&512&&!M&&(A=C,A=typeof A=="string"?me(A,{$a:!0}).node:A,wp(null,A,0)),h&=-131713,A=pp({node:C,path:vt(C),flags:h,seekable:!0,position:0,Ma:C.Ma,Lb:[],error:!1}),A.Ma.open&&A.Ma.open(A),M&&Da(C,b&511),!c.logReadFiles||h&1||u in cr||(cr[u]=1),A}function pu(u){if(u.fd===null)throw new G(8);u.ob&&(u.ob=null);try{u.Ma.close&&u.Ma.close(u)}catch(h){throw h}finally{_n[u.fd]=null}u.fd=null}function xp(u,h,b){if(u.fd===null)throw new G(8);if(!u.seekable||!u.Ma.Va)throw new G(70);if(b!=0&&b!=1&&b!=2)throw new G(28);u.position=u.Ma.Va(u,h,b),u.Lb=[]}function bp(u,h,b,C,A){if(0>C||0>A)throw new G(28);if(u.fd===null)throw new G(8);if((u.flags&2097155)===1)throw new G(8);if($e(u.node.mode))throw new G(31);if(!u.Ma.read)throw new G(28);var M=typeof A<"u";if(!M)A=u.position;else if(!u.seekable)throw new G(70);return h=u.Ma.read(u,h,b,C,A),M||(u.position+=h),h}function _p(u,h,b,C,A){if(0>C||0>A)throw new G(28);if(u.fd===null)throw new G(8);if(!(u.flags&2097155))throw new G(8);if($e(u.node.mode))throw new G(31);if(!u.Ma.write)throw new G(28);u.seekable&&u.flags&1024&&xp(u,0,2);var M=typeof A<"u";if(!M)A=u.position;else if(!u.seekable)throw new G(70);return h=u.Ma.write(u,h,b,C,A,void 0),M||(u.position+=h),h}function db(u){var h,b=Ks(u,b||0);u=ci(u).size;var C=new Uint8Array(u);return bp(b,C,0,u,0),h=C,pu(b),h}function Sn(u,h,b){u=Rr("/dev/"+u);var C=li(!!h,!!b);Sn.yb??(Sn.yb=64);var A=Sn.yb++<<8|0;fu(A,{open(M){M.seekable=!1},close(){var M;(M=b==null?void 0:b.buffer)!=null&&M.length&&b(10)},read(M,F,te,pe){for(var fe=0,ze=0;ze<pe;ze++){try{var At=h()}catch{throw new G(29)}if(At===void 0&&fe===0)throw new G(6);if(At==null)break;fe++,F[te+ze]=At}return fe&&(M.node.atime=Date.now()),fe},write(M,F,te,pe){for(var fe=0;fe<pe;fe++)try{b(F[te+fe])}catch{throw new G(29)}return pe&&(M.node.mtime=M.node.ctime=Date.now()),fe}}),Ia(u,C,A)}var Ae={};function hs(u,h,b){if(h.charAt(0)==="/")return h;if(u=u===-100?"/":xt(u).path,h.length==0){if(!b)throw new G(44);return u}return u+"/"+h}function Wa(u,h){U[u>>2]=h.dev,U[u+4>>2]=h.mode,D[u+8>>2]=h.nlink,U[u+12>>2]=h.uid,U[u+16>>2]=h.gid,U[u+20>>2]=h.rdev,Q[u+24>>3]=BigInt(h.size),U[u+32>>2]=4096,U[u+36>>2]=h.blocks;var b=h.atime.getTime(),C=h.mtime.getTime(),A=h.ctime.getTime();return Q[u+40>>3]=BigInt(Math.floor(b/1e3)),D[u+48>>2]=b%1e3*1e6,Q[u+56>>3]=BigInt(Math.floor(C/1e3)),D[u+64>>2]=C%1e3*1e6,Q[u+72>>3]=BigInt(Math.floor(A/1e3)),D[u+80>>2]=A%1e3*1e6,Q[u+88>>3]=BigInt(h.ino),0}var Fa=void 0,za=()=>{var u=U[+Fa>>2];return Fa+=4,u},mu=0,fb=[0,31,60,91,121,152,182,213,244,274,305,335],hb=[0,31,59,90,120,151,181,212,243,273,304,334],ui={},Sp=u=>{var h;R=u,Gt||0<mu||((h=c.onExit)==null||h.call(c,u),N=!0),v(u,new ye(u))},pb=u=>{if(!N)try{if(u(),!(Gt||0<mu))try{R=u=R,Sp(u)}catch(h){h instanceof ye||h=="unwind"||v(1,h)}}catch(h){h instanceof ye||h=="unwind"||v(1,h)}},gu={},Ep=()=>{if(!vu){var u={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:w||"./this.program"},h;for(h in gu)gu[h]===void 0?delete u[h]:u[h]=gu[h];var b=[];for(h in u)b.push(`${h}=${u[h]}`);vu=b}return vu},vu,yu=u=>{var h=et(u)+1,b=kn(h);return dt(u,$,b,h),b},mb=(u,h,b,C)=>{var A={string:fe=>{var ze=0;return fe!=null&&fe!==0&&(ze=yu(fe)),ze},array:fe=>{var ze=kn(fe.length);return O.set(fe,ze),ze}};u=c["_"+u];var M=[],F=0;if(C)for(var te=0;te<C.length;te++){var pe=A[b[te]];pe?(F===0&&(F=hi()),M[te]=pe(C[te])):M[te]=C[te]}return b=u(...M),b=function(fe){return F!==0&&fi(F),h==="string"?fe?Ce($,fe):"":h==="boolean"?!!fe:fe}(b)},Ua=0,Ba=(u,h)=>(h=h==1?kn(u.length):xu(u.length),u.subarray||u.slice||(u=new Uint8Array(u)),$.set(u,h),h),ps,wu=[],tn,En=u=>{ps.delete(tn.get(u)),tn.set(u,null),wu.push(u)},di=(u,h)=>{if(!ps){ps=new WeakMap;var b=tn.length;if(ps)for(var C=0;C<0+b;C++){var A=tn.get(C);A&&ps.set(A,C)}}if(b=ps.get(u)||0)return b;if(wu.length)b=wu.pop();else{try{tn.grow(1)}catch(pe){throw pe instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":pe}b=tn.length-1}try{tn.set(b,u)}catch(pe){if(!(pe instanceof TypeError))throw pe;if(typeof WebAssembly.Function=="function"){var M=WebAssembly.Function;C={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},A={parameters:[],results:h[0]=="v"?[]:[C[h[0]]]};for(var F=1;F<h.length;++F)A.parameters.push(C[h[F]]);h=new M(A,u)}else{C=[1],A=h.slice(0,1),h=h.slice(1),F={i:127,p:127,j:126,f:125,d:124,e:111},C.push(96);var te=h.length;128>te?C.push(te):C.push(te%128|128,te>>7);for(M of h)C.push(F[M]);A=="v"?C.push(0):C.push(1,F[A]),h=[0,97,115,109,1,0,0,0,1],M=C.length,128>M?h.push(M):h.push(M%128|128,M>>7),h.push(...C),h.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),h=new WebAssembly.Module(new Uint8Array(h)),h=new WebAssembly.Instance(h,{e:{f:u}}).exports.f}tn.set(b,h)}return ps.set(u,b),b};lr=Array(4096),mp(oe,"/"),Mr("/tmp"),Mr("/home"),Mr("/home/web_user"),function(){Mr("/dev"),fu(259,{read:()=>0,write:(C,A,M,F)=>F,Va:()=>0}),Ia("/dev/null",259),fs(1280,Ra),fs(1536,ai),Ia("/dev/tty",1280),Ia("/dev/tty1",1536);var u=new Uint8Array(1024),h=0,b=()=>(h===0&&(Or(u),h=u.byteLength),u[--h]);Sn("random",b),Sn("urandom",b),Mr("/dev/shm"),Mr("/dev/shm/tmp")}(),function(){Mr("/proc");var u=Mr("/proc/self");Mr("/proc/self/fd"),mp({Xa(){var h=jt(u,"fd",16895,73);return h.Ma={Va:oe.Ma.Va},h.La={lookup(b,C){b=+C;var A=xt(b);return b={parent:null,Xa:{zb:"fake"},La:{readlink:()=>A.path},id:b+1},b.parent=b},readdir(){return Array.from(_n.entries()).filter(([,b])=>b).map(([b])=>b.toString())}},h}},"/proc/self/fd")}(),oe.vb=new G(44),oe.vb.stack="<generic error, no stack>";var gb={a:(u,h,b,C)=>J(`Assertion failed: ${u?Ce($,u):""}, at: `+[h?h?Ce($,h):"":"unknown filename",b,C?C?Ce($,C):"":"unknown function"]),i:function(u,h){try{return u=u?Ce($,u):"",Da(u,h),0}catch(b){if(typeof Ae>"u"||b.name!=="ErrnoError")throw b;return-b.Pa}},L:function(u,h,b){try{if(h=h?Ce($,h):"",h=hs(u,h),b&-8)return-28;var C=me(h,{$a:!0}).node;return C?(u="",b&4&&(u+="r"),b&2&&(u+="w"),b&1&&(u+="x"),u&&Qs(C,u)?-2:0):-44}catch(A){if(typeof Ae>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},j:function(u,h){try{var b=xt(u);return yp(b,b.node,h,!1),0}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},h:function(u){try{var h=xt(u);return du(h,h.node,{timestamp:Date.now(),Fb:!1}),0}catch(b){if(typeof Ae>"u"||b.name!=="ErrnoError")throw b;return-b.Pa}},b:function(u,h,b){Fa=b;try{var C=xt(u);switch(h){case 0:var A=za();if(0>A)break;for(;_n[A];)A++;return lb(C,A).fd;case 1:case 2:return 0;case 3:return C.flags;case 4:return A=za(),C.flags|=A,0;case 12:return A=za(),I[A+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(M){if(typeof Ae>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},g:function(u,h){try{var b=xt(u),C=b.node,A=b.Ma.Ta;u=A?b:C,A??(A=C.La.Ta),Ma(A);var M=A(u);return Wa(h,M)}catch(F){if(typeof Ae>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},H:function(u,h){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h);try{if(isNaN(h))return 61;var b=xt(u);if(0>h||!(b.flags&2097155))throw new G(28);return wp(b,b.node,h),0}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},G:function(u,h){try{if(h===0)return-28;var b=et("/")+1;return h<b?-68:(dt("/",$,u,h),b)}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},K:function(u,h){try{return u=u?Ce($,u):"",Wa(h,ci(u,!0))}catch(b){if(typeof Ae>"u"||b.name!=="ErrnoError")throw b;return-b.Pa}},C:function(u,h,b){try{return h=h?Ce($,h):"",h=hs(u,h),Mr(h,b),0}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},J:function(u,h,b,C){try{h=h?Ce($,h):"";var A=C&256;return h=hs(u,h,C&4096),Wa(b,A?ci(h,!0):ci(h))}catch(M){if(typeof Ae>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},x:function(u,h,b,C){Fa=C;try{h=h?Ce($,h):"",h=hs(u,h);var A=C?za():0;return Ks(h,b,A).fd}catch(M){if(typeof Ae>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},v:function(u,h,b,C){try{if(h=h?Ce($,h):"",h=hs(u,h),0>=C)return-28;var A=me(h).node;if(!A)throw new G(44);if(!A.La.readlink)throw new G(28);var M=A.La.readlink(A),F=Math.min(C,et(M)),te=O[b+F];return dt(M,$,b,C+1),O[b+F]=te,F}catch(pe){if(typeof Ae>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},u:function(u){try{return u=u?Ce($,u):"",gp(u),0}catch(h){if(typeof Ae>"u"||h.name!=="ErrnoError")throw h;return-h.Pa}},f:function(u,h){try{return u=u?Ce($,u):"",Wa(h,ci(u))}catch(b){if(typeof Ae>"u"||b.name!=="ErrnoError")throw b;return-b.Pa}},r:function(u,h,b){try{return h=h?Ce($,h):"",h=hs(u,h),b===0?vp(h):b===512?gp(h):J("Invalid flags passed to unlinkat"),0}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},q:function(u,h,b){try{h=h?Ce($,h):"",h=hs(u,h,!0);var C=Date.now(),A,M;if(b){var F=D[b>>2]+4294967296*U[b+4>>2],te=U[b+8>>2];te==1073741823?A=C:te==1073741822?A=null:A=1e3*F+te/1e6,b+=16,F=D[b>>2]+4294967296*U[b+4>>2],te=U[b+8>>2],te==1073741823?M=C:te==1073741822?M=null:M=1e3*F+te/1e6}else M=A=C;if((M??A)!==null){u=A;var pe=me(h,{$a:!0}).node;Ma(pe.La.Ua)(pe,{atime:u,mtime:M})}return 0}catch(fe){if(typeof Ae>"u"||fe.name!=="ErrnoError")throw fe;return-fe.Pa}},m:()=>J(""),l:()=>{Gt=!1,mu=0},A:function(u,h){u=-9007199254740992>u||9007199254740992<u?NaN:Number(u),u=new Date(1e3*u),U[h>>2]=u.getSeconds(),U[h+4>>2]=u.getMinutes(),U[h+8>>2]=u.getHours(),U[h+12>>2]=u.getDate(),U[h+16>>2]=u.getMonth(),U[h+20>>2]=u.getFullYear()-1900,U[h+24>>2]=u.getDay();var b=u.getFullYear();U[h+28>>2]=(b%4!==0||b%100===0&&b%400!==0?hb:fb)[u.getMonth()]+u.getDate()-1|0,U[h+36>>2]=-(60*u.getTimezoneOffset()),b=new Date(u.getFullYear(),6,1).getTimezoneOffset();var C=new Date(u.getFullYear(),0,1).getTimezoneOffset();U[h+32>>2]=(b!=C&&u.getTimezoneOffset()==Math.min(C,b))|0},y:function(u,h,b,C,A,M,F){A=-9007199254740992>A||9007199254740992<A?NaN:Number(A);try{if(isNaN(A))return 61;var te=xt(C);if(h&2&&!(b&2)&&(te.flags&2097155)!==2)throw new G(2);if((te.flags&2097155)===1)throw new G(2);if(!te.Ma.ib)throw new G(43);if(!u)throw new G(28);var pe=te.Ma.ib(te,u,A,h,b),fe=pe.Kb;return U[M>>2]=pe.Ab,D[F>>2]=fe,0}catch(ze){if(typeof Ae>"u"||ze.name!=="ErrnoError")throw ze;return-ze.Pa}},z:function(u,h,b,C,A,M){M=-9007199254740992>M||9007199254740992<M?NaN:Number(M);try{var F=xt(A);if(b&2){if(b=M,(F.node.mode&61440)!==32768)throw new G(43);if(!(C&2)){var te=$.slice(u,u+h);F.Ma.jb&&F.Ma.jb(F,te,b,h,C)}}}catch(pe){if(typeof Ae>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},n:(u,h)=>{if(ui[u]&&(clearTimeout(ui[u].id),delete ui[u]),!h)return 0;var b=setTimeout(()=>{delete ui[u],pb(()=>Cp(u,performance.now()))},h);return ui[u]={id:b,Xb:h},0},B:(u,h,b,C)=>{var A=new Date().getFullYear(),M=new Date(A,0,1).getTimezoneOffset();A=new Date(A,6,1).getTimezoneOffset(),D[u>>2]=60*Math.max(M,A),U[h>>2]=+(M!=A),h=F=>{var te=Math.abs(F);return`UTC${0<=F?"-":"+"}${String(Math.floor(te/60)).padStart(2,"0")}${String(te%60).padStart(2,"0")}`},u=h(M),h=h(A),A<M?(dt(u,$,b,17),dt(h,$,C,17)):(dt(u,$,C,17),dt(h,$,b,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:u=>{var h=$.length;if(u>>>=0,2147483648<u)return!1;for(var b=1;4>=b;b*=2){var C=h*(1+.2/b);C=Math.min(C,u+100663296);e:{C=(Math.min(2147483648,65536*Math.ceil(Math.max(u,C)/65536))-T.buffer.byteLength+65535)/65536|0;try{T.grow(C),B();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},E:(u,h)=>{var b=0;return Ep().forEach((C,A)=>{var M=h+b;for(A=D[u+4*A>>2]=M,M=0;M<C.length;++M)O[A++]=C.charCodeAt(M);O[A]=0,b+=C.length+1}),0},F:(u,h)=>{var b=Ep();D[u>>2]=b.length;var C=0;return b.forEach(A=>C+=A.length+1),D[h>>2]=C,0},e:function(u){try{var h=xt(u);return pu(h),0}catch(b){if(typeof Ae>"u"||b.name!=="ErrnoError")throw b;return b.Pa}},p:function(u,h){try{var b=xt(u);return O[h]=b.tty?2:$e(b.mode)?3:(b.mode&61440)===40960?7:4,I[h+2>>1]=0,Q[h+8>>3]=BigInt(0),Q[h+16>>3]=BigInt(0),0}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return C.Pa}},w:function(u,h,b,C){try{e:{var A=xt(u);u=h;for(var M,F=h=0;F<b;F++){var te=D[u>>2],pe=D[u+4>>2];u+=8;var fe=bp(A,O,te,pe,M);if(0>fe){var ze=-1;break e}if(h+=fe,fe<pe)break;typeof M<"u"&&(M+=fe)}ze=h}return D[C>>2]=ze,0}catch(At){if(typeof Ae>"u"||At.name!=="ErrnoError")throw At;return At.Pa}},D:function(u,h,b,C){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h);try{if(isNaN(h))return 61;var A=xt(u);return xp(A,h,b),Q[C>>3]=BigInt(A.position),A.ob&&h===0&&b===0&&(A.ob=null),0}catch(M){if(typeof Ae>"u"||M.name!=="ErrnoError")throw M;return M.Pa}},I:function(u){var b;try{var h=xt(u);return(b=h.Ma)!=null&&b.fsync?h.Ma.fsync(h):0}catch(C){if(typeof Ae>"u"||C.name!=="ErrnoError")throw C;return C.Pa}},t:function(u,h,b,C){try{e:{var A=xt(u);u=h;for(var M,F=h=0;F<b;F++){var te=D[u>>2],pe=D[u+4>>2];u+=8;var fe=_p(A,O,te,pe,M);if(0>fe){var ze=-1;break e}if(h+=fe,fe<pe)break;typeof M<"u"&&(M+=fe)}ze=h}return D[C>>2]=ze,0}catch(At){if(typeof Ae>"u"||At.name!=="ErrnoError")throw At;return At.Pa}},k:Sp},re;(async function(){var b;function u(C){var A;return re=C.exports,T=re.M,B(),tn=re.O,Y--,(A=c.monitorRunDependencies)==null||A.call(c,Y),Y==0&&se&&(C=se,se=null,C()),re}Y++,(b=c.monitorRunDependencies)==null||b.call(c,Y);var h={a:gb};return c.instantiateWasm?new Promise(C=>{c.instantiateWasm(h,(A,M)=>{u(A),C(A.exports)})}):(ie??(ie=c.locateFile?c.locateFile("sql-wasm.wasm",S):S+"sql-wasm.wasm"),u((await Ze(h)).instance))})(),c._sqlite3_free=u=>(c._sqlite3_free=re.P)(u),c._sqlite3_value_text=u=>(c._sqlite3_value_text=re.Q)(u),c._sqlite3_prepare_v2=(u,h,b,C,A)=>(c._sqlite3_prepare_v2=re.R)(u,h,b,C,A),c._sqlite3_step=u=>(c._sqlite3_step=re.S)(u),c._sqlite3_reset=u=>(c._sqlite3_reset=re.T)(u),c._sqlite3_exec=(u,h,b,C,A)=>(c._sqlite3_exec=re.U)(u,h,b,C,A),c._sqlite3_finalize=u=>(c._sqlite3_finalize=re.V)(u),c._sqlite3_column_name=(u,h)=>(c._sqlite3_column_name=re.W)(u,h),c._sqlite3_column_text=(u,h)=>(c._sqlite3_column_text=re.X)(u,h),c._sqlite3_column_type=(u,h)=>(c._sqlite3_column_type=re.Y)(u,h),c._sqlite3_errmsg=u=>(c._sqlite3_errmsg=re.Z)(u),c._sqlite3_clear_bindings=u=>(c._sqlite3_clear_bindings=re._)(u),c._sqlite3_value_blob=u=>(c._sqlite3_value_blob=re.$)(u),c._sqlite3_value_bytes=u=>(c._sqlite3_value_bytes=re.aa)(u),c._sqlite3_value_double=u=>(c._sqlite3_value_double=re.ba)(u),c._sqlite3_value_int=u=>(c._sqlite3_value_int=re.ca)(u),c._sqlite3_value_type=u=>(c._sqlite3_value_type=re.da)(u),c._sqlite3_result_blob=(u,h,b,C)=>(c._sqlite3_result_blob=re.ea)(u,h,b,C),c._sqlite3_result_double=(u,h)=>(c._sqlite3_result_double=re.fa)(u,h),c._sqlite3_result_error=(u,h,b)=>(c._sqlite3_result_error=re.ga)(u,h,b),c._sqlite3_result_int=(u,h)=>(c._sqlite3_result_int=re.ha)(u,h),c._sqlite3_result_int64=(u,h)=>(c._sqlite3_result_int64=re.ia)(u,h),c._sqlite3_result_null=u=>(c._sqlite3_result_null=re.ja)(u),c._sqlite3_result_text=(u,h,b,C)=>(c._sqlite3_result_text=re.ka)(u,h,b,C),c._sqlite3_aggregate_context=(u,h)=>(c._sqlite3_aggregate_context=re.la)(u,h),c._sqlite3_column_count=u=>(c._sqlite3_column_count=re.ma)(u),c._sqlite3_data_count=u=>(c._sqlite3_data_count=re.na)(u),c._sqlite3_column_blob=(u,h)=>(c._sqlite3_column_blob=re.oa)(u,h),c._sqlite3_column_bytes=(u,h)=>(c._sqlite3_column_bytes=re.pa)(u,h),c._sqlite3_column_double=(u,h)=>(c._sqlite3_column_double=re.qa)(u,h),c._sqlite3_bind_blob=(u,h,b,C,A)=>(c._sqlite3_bind_blob=re.ra)(u,h,b,C,A),c._sqlite3_bind_double=(u,h,b)=>(c._sqlite3_bind_double=re.sa)(u,h,b),c._sqlite3_bind_int=(u,h,b)=>(c._sqlite3_bind_int=re.ta)(u,h,b),c._sqlite3_bind_text=(u,h,b,C,A)=>(c._sqlite3_bind_text=re.ua)(u,h,b,C,A),c._sqlite3_bind_parameter_index=(u,h)=>(c._sqlite3_bind_parameter_index=re.va)(u,h),c._sqlite3_sql=u=>(c._sqlite3_sql=re.wa)(u),c._sqlite3_normalized_sql=u=>(c._sqlite3_normalized_sql=re.xa)(u),c._sqlite3_changes=u=>(c._sqlite3_changes=re.ya)(u),c._sqlite3_close_v2=u=>(c._sqlite3_close_v2=re.za)(u),c._sqlite3_create_function_v2=(u,h,b,C,A,M,F,te,pe)=>(c._sqlite3_create_function_v2=re.Aa)(u,h,b,C,A,M,F,te,pe),c._sqlite3_update_hook=(u,h,b)=>(c._sqlite3_update_hook=re.Ba)(u,h,b),c._sqlite3_open=(u,h)=>(c._sqlite3_open=re.Ca)(u,h);var xu=c._malloc=u=>(xu=c._malloc=re.Da)(u),qa=c._free=u=>(qa=c._free=re.Ea)(u);c._RegisterExtensionFunctions=u=>(c._RegisterExtensionFunctions=re.Fa)(u);var kp=(u,h)=>(kp=re.Ga)(u,h),Cp=(u,h)=>(Cp=re.Ha)(u,h),fi=u=>(fi=re.Ia)(u),kn=u=>(kn=re.Ja)(u),hi=()=>(hi=re.Ka)();c.stackSave=()=>hi(),c.stackRestore=u=>fi(u),c.stackAlloc=u=>kn(u),c.cwrap=(u,h,b,C)=>{var A=!b||b.every(M=>M==="number"||M==="boolean");return h!=="string"&&A&&!C?c["_"+u]:(...M)=>mb(u,h,b,M)},c.addFunction=di,c.removeFunction=En,c.UTF8ToString=ds,c.ALLOC_NORMAL=Ua,c.allocate=Ba,c.allocateUTF8OnStack=yu;function bu(){function u(){var A;if(c.calledRun=!0,!N){if(!c.noFSInit&&!La){var h,b;La=!0,C??(C=c.stdin),h??(h=c.stdout),b??(b=c.stderr),C?Sn("stdin",C):hu("/dev/tty","/dev/stdin"),h?Sn("stdout",null,h):hu("/dev/tty","/dev/stdout"),b?Sn("stderr",null,b):hu("/dev/tty1","/dev/stderr"),Ks("/dev/stdin",0),Ks("/dev/stdout",1),Ks("/dev/stderr",1)}if(re.N(),Hs=!1,(A=c.onRuntimeInitialized)==null||A.call(c),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var C=c.postRun.shift();ar.unshift(C)}en(ar)}}if(0<Y)se=bu;else{if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)jr();en(Tr),0<Y?se=bu:c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1),u()},1)):u()}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return bu(),a}),r)};t.exports=n,t.exports.default=n})(ab);var QR=ab.exports;const KR=Df(QR),GR="ScrabbleCache",YR=1,Ir="dictionary_cache",vo=class vo{constructor(){Le(this,"db",null);Le(this,"initPromise",null);if(vo.instance)return vo.instance;vo.instance=this}async init(){if(!this.db){if(this.initPromise)return this.initPromise;this.initPromise=this.openDatabase(),await this.initPromise}}async openDatabase(){return new Promise((e,r)=>{const n=indexedDB.open(GR,YR);n.onerror=()=>{console.warn("🥷 IndexedDB cache failed to open"),r(n.error)},n.onsuccess=()=>{this.db=n.result,console.log("🥷 IndexedDB cache ready for stealth operations"),e()},n.onupgradeneeded=s=>{const o=s.target.result;o.objectStoreNames.contains(Ir)||(o.createObjectStore(Ir,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),console.log("🥷 IndexedDB cache store created"))}})}async hasValidCache(){try{if(await this.init(),!this.db)return{valid:!1};const n=this.db.transaction([Ir],"readonly").objectStore(Ir).get("main_dictionary");return new Promise(s=>{n.onsuccess=()=>{const o=n.result;if(!o){console.log("🥷 No cache found in IndexedDB"),s({valid:!1});return}const i=(Date.now()-o.timestamp)/(1e3*60*60*24);if(i>7){console.log(`🥷 Cache too old (${i.toFixed(1)} days)`),s({valid:!1,age:i});return}if(o.wordCount<6e5){console.log(`🥷 Cache incomplete (${o.wordCount} words)`),s({valid:!1,wordCount:o.wordCount});return}console.log(`🥷 Valid cache found (${o.wordCount} words, ${i.toFixed(1)} days old)`),s({valid:!0,wordCount:o.wordCount,age:i})},n.onerror=()=>{console.warn("🥷 Cache check failed"),s({valid:!1})}})}catch(e){return console.warn("🥷 Cache validation error:",e),{valid:!1}}}async loadSQLiteDatabase(){try{if(await this.init(),!this.db)return null;const n=this.db.transaction([Ir],"readonly").objectStore(Ir).get("main_dictionary");return new Promise(s=>{n.onsuccess=()=>{const o=n.result;if(o!=null&&o.data){const i=(o.data.length/1048576).toFixed(2);console.log(`🥷 Loading SQLite from IndexedDB cache (${i} MB)`),s(o.data)}else s(null)},n.onerror=()=>{console.warn("🥷 Failed to load from cache"),s(null)}})}catch(e){return console.warn("🥷 Cache load error:",e),null}}async saveSQLiteDatabase(e,r){try{if(await this.init(),!this.db)return;const n={id:"main_dictionary",data:e,wordCount:r,timestamp:Date.now(),version:"1.0"},i=this.db.transaction([Ir],"readwrite").objectStore(Ir).put(n);return new Promise((a,l)=>{i.onsuccess=()=>{const c=(e.length/1048576).toFixed(2);console.log(`🥷 SQLite database cached in IndexedDB (${c} MB, ${r} words)`),a()},i.onerror=()=>{console.warn("🥷 Failed to save to cache"),l(i.error)}})}catch(n){console.warn("🥷 Cache save error:",n)}}async saveWordsFromCSV(e){console.log("🥷 Direct CSV cache not implemented yet")}async clearOldCache(){try{if(await this.init(),!this.db)return;const n=this.db.transaction([Ir],"readwrite").objectStore(Ir).clear();return new Promise((s,o)=>{n.onsuccess=()=>{console.log("🥷 Old cache cleared"),s()},n.onerror=()=>{console.warn("🥷 Failed to clear cache"),o(n.error)}})}catch(e){console.warn("🥷 Cache clear error:",e)}}};Le(vo,"instance");let $f=vo;const av=new $f,yo=class yo{constructor(){Le(this,"SQL",null);Le(this,"db",null);Le(this,"isInitialized",!1);Le(this,"initPromise",null);Le(this,"hasValidData",!1);if(yo.instance)return yo.instance;yo.instance=this}async init(){if(!this.isInitialized){if(this.initPromise)return this.initPromise;this.initPromise=this.initializeDatabase(),await this.initPromise}}async initializeDatabase(){try{console.log("🚀 Initializing SQLite WASM..."),this.SQL=await KR({locateFile:r=>`/${r}`});const e=await av.loadSQLiteDatabase();if(e&&e.length>0){this.db=new this.SQL.Database(e);const r=await this.getWordCount();console.log(`🥷 SQLite loaded from persistent cache (${r} words)`),this.hasValidData=r>=6e5}else this.db=new this.SQL.Database,await this.createTables(),console.log("📝 SQLite database created (no persistent cache found)"),this.startAutoDataLoad();this.isInitialized=!0}catch(e){throw console.error("❌ SQLite initialization failed:",e),e}}async createTables(){if(!this.db)throw new Error("Database not initialized");this.db.exec(`
      -- Tabla principal de palabras
      CREATE TABLE words (
        word TEXT PRIMARY KEY,
        alphagram TEXT NOT NULL,
        length INTEGER NOT NULL,
        points INTEGER DEFAULT 0
      );

      -- Índices para búsquedas rápidas
      CREATE INDEX idx_alphagram ON words(alphagram);
      CREATE INDEX idx_length ON words(length);
      CREATE INDEX idx_alphagram_length ON words(alphagram, length);

      -- Tabla para cache del Trie serializado
      CREATE TABLE trie_cache (
        id TEXT PRIMARY KEY,
        data TEXT NOT NULL,
        created_at INTEGER DEFAULT (strftime('%s', 'now'))
      );

      -- Metadata
      CREATE TABLE metadata (
        key TEXT PRIMARY KEY,
        value TEXT NOT NULL
      );
    `),console.log("📋 SQLite tables and indexes created")}async addWords(e){if(!this.db)throw new Error("Database not initialized");const r=this.db.prepare(`
      INSERT OR REPLACE INTO words (word, alphagram, length, points) 
      VALUES (?, ?, ?, ?)
    `);this.db.exec("BEGIN TRANSACTION;");try{for(const s of e)r.run([s.word,s.alphagram,s.length,s.points||0]);this.db.exec("COMMIT;"),console.log(`✅ Inserted ${e.length} words into SQLite`);const n=await this.getWordCount();n>=6e5&&(this.hasValidData=!0,console.log(`🎯 SQLite marked as having valid data (${n} words)`))}catch(n){throw this.db.exec("ROLLBACK;"),n}finally{r.free()}}async findAnagramsByAlphagram(e){if(!this.db)throw new Error("Database not initialized");const r=this.db.prepare("SELECT word FROM words WHERE alphagram = ? ORDER BY word");r.bind([e]);const n=[];for(;r.step();){const s=r.getAsObject();n.push(s.word)}return r.free(),n}async findWordsByLength(e){if(!this.db)throw new Error("Database not initialized");const r=this.db.prepare("SELECT word, alphagram, length FROM words WHERE length = ? ORDER BY word");r.bind([e]);const n=[];for(;r.step();){const s=r.getAsObject();n.push({word:s.word,alphagram:s.alphagram,length:s.length})}return r.free(),n}async getAllWords(){if(!this.db)throw new Error("Database not initialized");const e=this.db.prepare("SELECT word FROM words ORDER BY word"),r=[];for(;e.step();){const n=e.getAsObject();r.push(n.word)}return e.free(),r}async getWordCount(){if(!this.db)throw new Error("Database not initialized");const e=this.db.exec("SELECT COUNT(*) as count FROM words")[0];return(e==null?void 0:e.values[0][0])||0}async saveTrie(e){if(!this.db)throw new Error("Database not initialized");const r=this.db.prepare(`
      INSERT OR REPLACE INTO trie_cache (id, data) 
      VALUES ('main', ?)
    `);r.run([JSON.stringify(e)]),r.free(),console.log("💾 Trie saved to SQLite cache")}async loadTrie(){if(!this.db)throw new Error("Database not initialized");const e=this.db.prepare("SELECT data FROM trie_cache WHERE id = ?");if(e.bind(["main"]),e.step()){const r=e.getAsObject();return e.free(),JSON.parse(r.data)}return e.free(),null}async clearTrie(){if(!this.db)throw new Error("Database not initialized");const e=this.db.prepare("DELETE FROM trie_cache WHERE id = ?");e.run(["main"]),e.free(),console.log("🗑️ Trie cache cleared")}async saveToCache(){if(this.db)try{const e=await this.getWordCount();if(e>=6e5){const n=this.db.export();await av.saveSQLiteDatabase(n,e)}const r={wordCount:e,timestamp:Date.now(),version:"1.0",isComplete:e>=6e5};localStorage.setItem("sqlite_metadata",JSON.stringify(r)),console.log(`💾 SQLite cached in both persistent and metadata storage (${e} words)`)}catch(e){console.warn("⚠️ Failed to cache SQLite:",e)}}async loadFromCache(){try{const e=localStorage.getItem("sqlite_metadata");if(!e)return console.log("📭 No SQLite metadata found"),null;const r=JSON.parse(e),s=(Date.now()-r.timestamp)/(1e3*60*60*24);if(s>7)return console.log(`⏰ SQLite metadata too old (${s.toFixed(1)} days), ignoring`),localStorage.removeItem("sqlite_metadata"),null;if(this.db){const o=await this.getWordCount();if(o>=r.wordCount&&r.isComplete)return console.log(`✅ SQLite already has valid data (${o} words, cached: ${r.wordCount})`),new Uint8Array(0)}return console.log(`📅 SQLite metadata valid but DB needs rebuilding (${s.toFixed(1)} days old)`),null}catch(e){return console.warn("⚠️ Failed to load SQLite metadata:",e),localStorage.removeItem("sqlite_metadata"),null}}async notifyHybridService(){try{const{hybridTrieService:e}=await Er(async()=>{const{hybridTrieService:r}=await Promise.resolve().then(()=>eN);return{hybridTrieService:r}},void 0);e.notifySqliteReady()}catch(e){console.warn("⚠️ Failed to notify HybridTrieService:",e)}}async startAutoDataLoad(){try{console.log("🚀 Starting automatic CSV data download...");const{CsvWordLoader:e}=await Er(async()=>{const{CsvWordLoader:n}=await import("./CsvWordLoader-BCwcEnA6.js");return{CsvWordLoader:n}},[]),r=new e(6e5);setTimeout(async()=>{try{await r.loadCsvFile()?(console.log("✅ SQLite database populated from CSV successfully"),this.hasValidData=!0,this.notifyHybridService()):console.warn("⚠️ Failed to load CSV data, using fallback to Supabase")}catch(n){console.error("❌ Auto data load failed:",n)}},100)}catch(e){console.error("❌ Failed to start auto data load:",e)}}close(){this.db&&(this.db.close(),this.db=null),this.isInitialized=!1}};Le(yo,"instance");let If=yo;const Be=new If;class XR{async findExactAnagrams(e){await this.ensureDatabase();const r=this.normalizeLetters(e),n=this.createAlphagram(r);try{return await Be.findAnagramsByAlphagram(n)}catch(s){return console.error("❌ SQLite exact anagram search failed:",s),[]}}async findSubAnagrams(e,r=2){await this.ensureDatabase();const n=this.normalizeLetters(e),s=n.length-1,o=[];console.log(`🔍 SQLite subanagrams: "${e}" → "${n}" (${r}-${s})`);try{for(let i=r;i<=s;i++){const l=(await Be.findWordsByLength(i)).filter(c=>this.canMakeWord(n,c.word)).map(c=>c.word);o.push(...l)}return console.log(`✅ SQLite found ${o.length} subanagrams`),o.sort()}catch(i){return console.error("❌ SQLite subanagram search failed:",i),[]}}async findAnagrams(e,r=2,n=!1){try{const s=await this.findExactAnagrams(e),o=n?await this.findSubAnagrams(e,r):[];return{exactMatches:s,partialMatches:o}}catch(s){return console.error("❌ SQLite anagram search failed:",s),{exactMatches:[],partialMatches:[]}}}async findWordsWithOneAdditionalLetter(e){console.log(`🔍 SQLite additional letter search: "${e}"`);try{const r=e.length+1;await this.ensureDatabase();const n=await Be.findWordsByLength(r),s=[],o=e.split("").sort();for(const i of n){const a=i.word,c=this.normalizeLetters(a).split("").sort();this.canMakeWordWithOneExtra(o,c)&&s.push(a)}return console.log(`✅ SQLite found ${s.length} words with 1 additional letter`),s}catch(r){return console.error("❌ SQLite additional letter search failed:",r),[]}}canMakeWordWithOneExtra(e,r){const n=[...e];let s=0;for(const o of r){const i=n.indexOf(o);if(i!==-1)n.splice(i,1);else if(s++,s>1)return!1}return s===1}canMakeWord(e,r){const n=[...e.toUpperCase()],s=[...this.normalizeLetters(r).toUpperCase()];for(const o of s){const i=n.indexOf(o);if(i===-1)return!1;n.splice(i,1)}return!0}normalizeLetters(e){return e.toUpperCase().replace(/CH/g,"Ç").replace(/LL/g,"K").replace(/RR/g,"W")}createAlphagram(e){const r="AEIOUBCÇDFGHJLKMNÑPQRWSTVXYZ",n=new Map;for(let s=0;s<r.length;s++)n.set(r[s],s);return[...e].sort((s,o)=>{const i=n.get(s)??999,a=n.get(o)??999;return i-a}).join("")}async ensureDatabase(){try{await Be.init()}catch(e){throw console.error("❌ Failed to initialize SQLite database:",e),new Error("SQLite database not available")}}async isAvailable(){try{return await this.ensureDatabase(),await Be.getWordCount()>0}catch(e){return console.error("❌ SQLite availability check failed:",e),!1}}async findPatternMatches(e,r=!1,n=8,s){console.log(`🔍 SQLite pattern search (using existing pattern logic): "${e}"`);try{await this.ensureDatabase();const o=this.createTrieAdapter();return await this.findPatternMatchesSimplified(e,r,n,s)}catch(o){return console.error("❌ SQLite pattern search failed:",o),[]}}createTrieAdapter(){const e=this;return{search:async r=>(await e.findExactAnagrams(r)).includes(r.toUpperCase()),getWordsStartingWith:async r=>await e.findWordsStartingWith(r),getAllWords:async()=>await Be.getAllWords(),getWordsOfLength:async r=>(await Be.findWordsByLength(r)).map(s=>s.word),getRoot:()=>({isEndOfWord:!1,word:"",children:new Map,searchTrie:async(r,n="")=>await e.searchTrieWithSQLite(r,n)})}}async searchTrieWithSQLite(e,r=""){console.log(`🔍 SQLite searchTrie: pattern=${e}, rack="${r}"`);const n=[],s=r&&r.trim().length>0,o=await Be.getAllWords();for(const i of o)if(e.test(i))if(s){const{validateWordPattern:a}=await Er(async()=>{const{validateWordPattern:d}=await Promise.resolve().then(()=>kR);return{validateWordPattern:d}},void 0),l=e.toString().slice(1,-1).replace(/^\^|\$$/g,"");a(i,l,r)&&n.push(i)}else n.push(i);return console.log(`✅ SQLite searchTrie found ${n.length} matches`),n}async findPatternMatchesSimplified(e,r=!1,n=8,s){const o=e.split(":");let i=e,a=s;if(o.length>1){i=o[0];const w=o[1];w&&/^\d+$/.test(w)&&(a=parseInt(w,10))}const[l,c]=i.includes(",")?i.split(","):[i,""];console.log("Processing SQLite pattern search:",{patternPart:l,rackPart:c,showLongerWords:r,specifiedLength:a});const d=this.translateHyphenPattern(l);console.log("Translated pattern:",d);const{processDigraphs:f}=await Er(async()=>{const{processDigraphs:w}=await Promise.resolve().then(()=>g2);return{processDigraphs:w}},void 0),m=f(d);let p=[];if(c&&c.trim().length>0)console.log("Using rack letters for pattern:",c.trim()),p=await this.findPatternWithRack(m,c.trim());else{const w=m.replace(/\*/g,".*"),{convertPatternToRegex:v}=await Er(async()=>{const{convertPatternToRegex:x}=await Promise.resolve().then(()=>ER);return{convertPatternToRegex:x}},void 0),S=v(w);console.log("Searching SQLite with pattern:",S.toString()),p=await this.searchTrieWithSQLite(S,"")}return console.log(`Found ${p.length} matches before filtering`),a!=null?p.filter(w=>w.length===a):r?p.filter(w=>w.length>n):p.filter(w=>w.length<=n)}async findPatternWithRack(e,r){const n=await Be.getAllWords(),s=[],o="^"+e.replace(/\*/g,".*").replace(/\./g,".")+"$",i=new RegExp(o,"i");console.log(`🔍 Regex pattern for "${e}": ${o}`);const a=this.normalizeLetters(r),l=new Map;let c=0;for(const m of a)m==="?"?c++:l.set(m,(l.get(m)||0)+1);let d=0,f=0;for(const m of n)i.test(m)&&(d++,d<=5&&console.log(`✅ Pattern match: ${m}`),this.canFormWordWithRackCorrect(m,e,l,c)?s.push(m):(f++,f<=3&&console.log(`❌ Rack check failed for: ${m}`)));return console.log(`📊 Pattern "${e}" with rack "${r}": ${d} pattern matches, ${f} failed rack check, ${s.length} final matches`),s}async findWordsStartingWith(e){const r=this.normalizeLetters(e),n=r+"%",s=[];for(let o=r.length;o<=15;o++){const i=await Be.findWordsByLength(o),a=this.applyLikeFilter(i,n);s.push(...a)}return s}translateHyphenPattern(e){return e.startsWith("-")&&!e.endsWith("-")?"*"+e.slice(1):e.endsWith("-")&&!e.startsWith("-")?e.slice(0,-1)+"*":e.startsWith("-")&&e.endsWith("-")?"*"+e.slice(1,-1)+"*":e}convertPatternToSQL(e){return e.replace(/\*/g,"%").replace(/\./g,"_").toUpperCase()}async searchByPattern(e,r){await this.ensureDatabase();const n=[];if(r){const s=await Be.findWordsByLength(r);return this.applyLikeFilter(s,e)}else{const s=this.estimatePatternLength(e),o=Math.max(2,s-3),i=Math.min(15,s+3);console.log(`🎯 Estimated pattern length: ${s}, searching lengths ${o}-${i}`);for(let a=o;a<=i;a++){const l=await Be.findWordsByLength(a);console.log(`📊 Length ${a}: ${l.length} candidates`);const c=this.applyLikeFilter(l,e);console.log(`✅ Length ${a}: ${c.length} matches`),n.push(...c)}}return n}estimatePatternLength(e){const r=e.replace(/[%_]/g,"").length;return e.startsWith("%")&&e.endsWith("%")?Math.max(r,5):e.startsWith("%")||e.endsWith("%")?r+2:e.length}applyLikeFilter(e,r){const n=[];let s=r.replace(/%/g,".*").replace(/_/g,".").replace(/[+?^${}()|[\]\\]/g,"\\$&");s="^"+s+"$";const o=new RegExp(s,"i");console.log(`🔍 Regex pattern: ${s}`);let i=0;for(const a of e)o.test(a.word)&&(n.push(a.word),i++,i<=3&&console.log(`✅ Match: ${a.word}`));return console.log(`🎯 Total matches found: ${i}`),n}filterByRack(e,r,n){const s=[],o=this.normalizeLetters(r),i=new Map;let a=0;for(const l of o)l==="?"?a++:i.set(l,(i.get(l)||0)+1);for(const l of e)this.canFormWordWithRack(l,i,a,n)&&s.push(l);return s}canFormWordWithRackCorrect(e,r,n,s){const o=new Set,i=new Map;for(let d=0;d<r.length;d++){const f=r[d];if(f!=="."&&f!=="*"){o.add(d);const m=e[d];m&&i.set(m,(i.get(m)||0)+1)}}const a=new Map;for(let d=0;d<e.length;d++){const f=e[d];(d<r.length&&!o.has(d)||d>=r.length)&&a.set(f,(a.get(f)||0)+1)}const l=new Map(n);let c=s;for(const[d,f]of a){const m=l.get(d)||0;if(m>=f)l.set(d,m-f);else{const p=f-m;if(c>=p)c-=p,l.set(d,0);else return!1}}return!0}canFormWordWithRack(e,r,n,s){const o=new Map(r);let i=n;const a=new Map;for(const l of e)a.set(l,(a.get(l)||0)+1);for(const[l,c]of a){const d=o.get(l)||0;if(d>=c)o.set(l,d-c);else{const f=c-d;if(i>=f)i-=f,o.set(l,0);else return!1}}return!0}async findAnagramsWithWildcards(e,r=2){const n=(e.match(/\?/g)||[]).length;if(n>r)return console.log(`❌ Too many wildcards (${n}), max allowed: ${r}`),{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[]};const s=e.replace(/\?/g,""),o=this.normalizeLetters(s);console.log(`🔍 SQLite wildcards search: "${e}" → ${n} wildcards, letters: "${o}"`);let i=[],a=[],l=[];try{return await this.ensureDatabase(),n===0&&(i=(await this.findAnagrams(s,2,!1)).exactMatches),n>0&&(a=await this.findWordsWithWildcards(o,n)),n>=1&&(l=await this.findWordsWithWildcardsAdditional(o,n+1)),console.log(`✅ SQLite wildcards found: exact=${i.length}, wildcards=${a.length}, additional=${l.length}`),{exactMatches:Array.from(new Set(i)),wildcardMatches:Array.from(new Set(a)),additionalWildcardMatches:Array.from(new Set(l))}}catch(c){return console.error("❌ SQLite wildcards search failed:",c),{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[]}}}async findWordsWithWildcards(e,r){const n=[],s=e.length,o=s+r;console.log(`🔍 SQLite wildcards: searching length ${o} (${s} letters + ${r} wildcards)`);const i=await Be.findWordsByLength(o);console.log(`📊 Found ${i.length} candidates of length ${o}`);for(const a of i)this.canFormWordWithWildcardsSimple(a.word,e,r)&&n.push(a.word);return console.log(`🎯 SQLite wildcards found ${n.length} words with ${r} wildcards (exact length)`),n}async findWordsWithWildcardsAdditional(e,r){const n=[],s=e.length,o=s+r;console.log(`🔍 SQLite additional: searching length ${o} (${s} letters + ${r} total wildcards)`);const i=await Be.findWordsByLength(o);console.log(`📊 Found ${i.length} candidates of length ${o} for additional search`);for(const a of i)this.canFormWordWithWildcardsSimple(a.word,e,r)&&n.push(a.word);return console.log(`🎯 SQLite additional found ${n.length} words with additional letter`),n}canFormWordWithWildcardsSimple(e,r,n){const s=e.toUpperCase().split(""),o=r.toUpperCase().split(""),i=new Map;for(const c of o)i.set(c,(i.get(c)||0)+1);const a=new Map;for(const c of s)a.set(c,(a.get(c)||0)+1);let l=0;for(const[c,d]of a){const f=i.get(c)||0;d>f&&(l+=d-f)}return l<=n}async getStats(){try{await this.ensureDatabase();const e=await Be.getWordCount();return{wordCount:e,isReady:e>0}}catch{return{wordCount:0,isReady:!1}}}}const ys=new XR;class JR{constructor(){Le(this,"tableName","lexicon_keys")}async search(e){try{const r=e.toUpperCase();console.log(`🔍 Supabase search: "${r}"`);const{data:n,error:s}=await nt.from(this.tableName).select("norm_word").eq("norm_word",r).limit(1);if(s)return console.error("❌ Supabase search error:",s),!1;const o=n&&n.length>0;return console.log(`${o?"✅":"❌"} Word ${o?"found":"not found"} in Supabase: ${r}`),o}catch(r){return console.error("❌ Supabase search error:",r),!1}}async findAnagrams(e){try{const r=this.createAlphagram(e.toUpperCase());console.log(`🔍 Supabase anagrams for: "${e}" (alphagram: ${r})`);const{data:n,error:s}=await nt.from(this.tableName).select("norm_word").eq("norm_alph",r).order("norm_word");if(s)return console.error("❌ Supabase anagram search error:",s),[];const o=(n==null?void 0:n.map(i=>i.norm_word))||[];return console.log(`✅ Found ${o.length} anagrams in Supabase`),o}catch(r){return console.error("❌ Supabase anagram error:",r),[]}}async findSubanagrams(e,r=2){try{const n=e.toUpperCase();console.log(`🔍 Supabase subanagrams for: "${n}" (min length: ${r})`);const s=e.length-1,o=[];for(let i=r;i<=s;i++){const{data:a,error:l}=await nt.from(this.tableName).select("norm_word, norm_alph").eq("norm_length",i).limit(1e3);if(!l&&a){const c=a.filter(d=>this.isSubanagram(d.norm_word,n)).map(d=>d.norm_word);o.push(...c)}}return console.log(`✅ Found ${o.length} subanagrams in Supabase`),o.sort()}catch(n){return console.error("❌ Supabase subanagram error:",n),[]}}async getAllWords(){try{console.log("🔍 Getting all words from Supabase...");const{data:e,error:r}=await nt.from(this.tableName).select("norm_word, norm_alph, norm_length").order("norm_word");if(r)return console.error("❌ Supabase getAllWords error:",r),[];const n=(e==null?void 0:e.map(s=>({word:s.norm_word,alphagram:s.norm_alph,length:s.norm_length})))||[];return console.log(`✅ Retrieved ${n.length} words from Supabase`),n}catch(e){return console.error("❌ Supabase getAllWords error:",e),[]}}async isAvailable(){try{const{data:e,error:r}=await nt.from(this.tableName).select("norm_word").limit(1);return!r&&e!==null}catch(e){return console.error("❌ Supabase availability check failed:",e),!1}}createAlphagram(e){const r="AEIOUBCÇDFGHJLKMNÑPQRWSTVXYZ",n=new Map;for(let s=0;s<r.length;s++)n.set(r[s],s);return[...e].sort((s,o)=>{const i=n.get(s)??999,a=n.get(o)??999;return i-a}).join("")}isSubanagram(e,r){const n={};for(const s of r)n[s]=(n[s]||0)+1;for(const s of e){if(!n[s]||n[s]===0)return!1;n[s]--}return!0}}const ws=new JR;class up{constructor(e=null){Le(this,"actualTrie",null);Le(this,"isTrieReady",!1);Le(this,"isSqliteAvailable",!1);Le(this,"isSupabaseAvailable",!1);this.actualTrie=e,this.isTrieReady=e!==null,this.initializeFallbackServices()}upgradeTrie(e){console.log("🔥 Hot upgrading HybridTrieService with new Trie"),this.actualTrie=e,this.isTrieReady=!0,console.log("✅ Trie upgraded! Ultra-fast mode enabled")}async initializeFallbackServices(){try{this.isSupabaseAvailable=await ws.isAvailable(),console.log(`🌐 Supabase availability: ${this.isSupabaseAvailable}`)}catch(e){console.warn("⚠️ Supabase check failed:",e),this.isSupabaseAvailable=!1}this.checkSqliteAvailability()}notifySqliteReady(){console.log("🔔 SQLite notified as ready to HybridTrieService"),this.isSqliteAvailable=!0}async checkSqliteAvailability(){try{const e=ys.findAnagrams("ES",2,!1),r=new Promise((s,o)=>setTimeout(()=>o(new Error("SQLite blocked or timeout")),500));return(await Promise.race([e,r])).exactMatches.length===0?(this.isSqliteAvailable=!1,!1):(this.isSqliteAvailable=!0,!0)}catch{return this.isSqliteAvailable=!1,!1}}updateTrie(e){this.actualTrie=e,this.isTrieReady=e!==null,console.log(`🔄 Hybrid service updated - Trie ready: ${this.isTrieReady}`)}search(e){return this.isTrieReady&&this.actualTrie?this.actualTrie.search(e):(console.log(`⚡ Sync search limited to Trie only: ${e}`),!1)}async searchAsync(e){const r=xe(e);if(console.log(`🔤 Normalized word: ${e} → ${r}`),this.isTrieReady&&this.actualTrie)return console.log(`🚀 Level 1 - Trie search: ${r}`),this.actualTrie.search(r);if(await this.checkSqliteAvailability()){console.log(`⚡ Level 2 - SQLite search: ${r}`);try{return(await ys.findAnagrams(r,r.length,!1)).exactMatches.includes(r.toUpperCase())}catch(s){console.log(`⚠️ SQLite search failed, falling back: ${s}`),this.isSqliteAvailable=!1}}return this.isSupabaseAvailable?(console.log(`🌐 Level 3 - Supabase search: ${r}`),await ws.search(r)):(console.log(`❌ No services available for search: ${e}`),!1)}findAnagrams(e){if(this.isTrieReady&&this.actualTrie){const r=xe(e),n=is(r);return console.log(`🚀 Using Trie for anagrams: ${e} → ${r} → alphagram: ${n}`),this.actualTrie.findAnagrams(r)}else return console.log(`❌ Sync anagrams not available without Trie: ${e}`),[]}async findAnagramsAsync(e){if(this.isTrieReady&&this.actualTrie){const n=xe(e);return console.log(`🚀 Level 1 - Trie anagrams: ${e} → ${n}`),this.actualTrie.findAnagrams(n)}if(await this.checkSqliteAvailability()){console.log(`⚡ Level 2 - SQLite anagrams: ${e}`);try{return(await ys.findAnagrams(e,2,!1)).exactMatches}catch(n){console.log(`⚠️ SQLite anagrams failed, falling back: ${n}`),this.isSqliteAvailable=!1}}return this.isSupabaseAvailable?(console.log(`🌐 Level 3 - Supabase anagrams: ${e}`),await ws.findAnagrams(e)):(console.log(`❌ No services available for anagrams: ${e}`),[])}async findAnagramsWithWildcards(e){const r=(e.match(/\?/g)||[]).length;if(r>2)return console.log(`❌ Too many wildcards (${r}), max allowed: 2`),{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[]};if(this.isTrieReady&&this.actualTrie)return await this.processWildcardsWithTrie(e,r);if(await this.checkSqliteAvailability())try{return await this.processWildcardsWithSQLite(e,r)}catch{this.isSqliteAvailable=!1}return this.isSupabaseAvailable?await this.processWildcardsWithSupabase(e,r):(console.log(`❌ No services available for wildcards: ${e}`),{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[]})}findAnagramsSync(e){return this.isTrieReady&&this.actualTrie?(console.log(`🚀 Using Trie sync anagrams: ${e}`),typeof this.actualTrie.findAnagramsLegacy=="function"?this.actualTrie.findAnagramsLegacy(e):{exactMatches:this.actualTrie.findAnagrams(e),wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[]}):(console.log(`❌ Sync anagrams not available without Trie: ${e}`),{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[],shorterMatches:[]})}async findAnagramsWithSubAnagrams(e,r=!1){if(this.isTrieReady&&this.actualTrie){const n=xe(e);console.log(`🚀 Level 1 - Trie + IndexedDB hybrid anagrams: ${e} → ${n}`);const s=this.actualTrie.findAnagrams(n);let o=[];return r&&this.isSqliteAvailable&&(o=(await ys.findAnagrams(n,2,!0)).partialMatches),{exactMatches:s,shorterMatches:o}}if(this.isSqliteAvailable){console.log(`⚡ Level 2 - SQLite extended anagrams: ${e}`);const n=await ys.findAnagrams(e,2,r);return{exactMatches:n.exactMatches,shorterMatches:n.partialMatches}}if(this.isSupabaseAvailable){console.log(`🌐 Level 3 - Supabase extended anagrams: ${e}`);const n=await ws.findAnagrams(e);let s=[];return r&&(s=await ws.findSubanagrams(e,2)),{exactMatches:n,shorterMatches:s}}return console.log(`❌ No services available for extended anagrams: ${e}`),{exactMatches:[],shorterMatches:[]}}getAllWords(){return this.isTrieReady&&this.actualTrie?this.actualTrie.getAllWords():(console.log("⚡ Hybrid getAllWords fallback - returning empty array"),[])}isReady(){return this.isTrieReady||this.isIndexedDbReady()}isTrieAvailable(){return this.isTrieReady}isIndexedDbReady(){return!0}getCurrentProvider(){return this.isTrieReady?"trie":this.isSqliteAvailable?"sqlite":this.isSupabaseAvailable?"supabase":"none"}async findPatternMatches(e,r=!1,n=8,s=null){if(this.isTrieReady&&this.actualTrie){console.log(`🚀 Level 1 - Trie pattern search: ${e}`);try{const{findPatternMatches:i}=await Er(async()=>{const{findPatternMatches:a}=await Promise.resolve().then(()=>DR);return{findPatternMatches:a}},void 0);return await i(e,this.actualTrie,r,n,s)}catch(i){console.log(`⚠️ Trie pattern search failed, falling back: ${i}`)}}if(await this.checkSqliteAvailability()){console.log(`⚡ Level 2 - SQLite pattern search: ${e}`);try{return await ys.findPatternMatches(e,r,n,s||void 0)}catch(i){console.log(`⚠️ SQLite pattern search failed, falling back: ${i}`),this.isSqliteAvailable=!1}}return this.isSupabaseAvailable?(console.log(`🌐 Level 3 - Supabase pattern search: ${e}`),console.log("⚠️ Supabase pattern search not implemented yet"),[]):(console.log(`❌ No services available for pattern search: ${e}`),[])}getStats(){return{provider:this.getCurrentProvider(),ready:this.isReady(),trieReady:this.isTrieReady,indexedDbReady:this.isIndexedDbAvailable,supabaseReady:this.isSupabaseAvailable}}async processWildcardsWithTrie(e,r){if(!this.actualTrie)return{exactMatches:[],wildcardMatches:[],additionalWildcardMatches:[]};const n=e.replace(/\?/g,""),s=xe(n),o=r===0?this.actualTrie.findAnagrams(s):[];let i=[],a=[];if(r>0){const l=s.length+r,c=l+1,d=this.actualTrie.getWordsOfLength(l),f=this.actualTrie.getWordsOfLength(c);for(const m of d)this.canFormWordWithWildcards(m,s,r)&&i.push(m);for(const m of f)this.canFormWordWithWildcards(m,s,r+1)&&a.push(m)}return{exactMatches:Array.from(new Set(o)),wildcardMatches:Array.from(new Set(i)),additionalWildcardMatches:Array.from(new Set(a))}}canFormWordWithWildcards(e,r,n){const s=e.toUpperCase().split(""),o=r.toUpperCase().split(""),i=new Map;for(const c of o)i.set(c,(i.get(c)||0)+1);const a=new Map;for(const c of s)a.set(c,(a.get(c)||0)+1);let l=0;for(const[c,d]of a){const f=i.get(c)||0;d>f&&(l+=d-f)}return l<=n}async processWildcardsWithSQLite(e,r){console.log(`🔍 SQLite: processing ${r} wildcards for "${e}"`);try{return await ys.findAnagramsWithWildcards(e,2)}catch(n){return console.error("❌ SQLite wildcards search failed:",n),this.processWildcardsWithSupabase(e,r)}}async processWildcardsWithSupabase(e,r){const n=e.replace(/\?/g,""),s=xe(n);s.length;let o=[],i=[],a=[];if(r===0)o=await ws.findAnagrams(s);else{const l=["A","B","C","Ç","CH","D","E","F","G","H","I","J","K","L","LL","M","N","Ñ","O","P","Q","R","RR","S","T","U","V","W","X","Y","Z"],c=f=>{if(f===0)return[""];const m=[],p=c(f-1);for(const w of p)for(const v of l)m.push(w+v);return m},d=c(r).slice(0,50);for(const f of d){const m=s+f,p=await ws.findAnagrams(m);i.push(...p)}}return{exactMatches:Array.from(new Set(o)),wildcardMatches:Array.from(new Set(i)),additionalWildcardMatches:Array.from(new Set(a))}}}const ZR=new up,eN=Object.freeze(Object.defineProperty({__proto__:null,HybridTrieService:up,hybridTrieService:ZR},Symbol.toStringTag,{value:"Module"})),Ec=4,tN=async t=>{console.log("Checking for serialized trie...");try{await Be.init();const e=await Be.loadTrie();if(e&&e.data){const r=e.formatVersion||1;return r!==Ec?(console.log(`🔄 Trie format version mismatch (cached: v${r}, required: v${Ec}). Invalidating cache.`),await Be.clearTrie(),0):(console.log("Found compatible serialized trie in SQLite, deserializing..."),t.deserialize(e.data),t.getAllWords().length)}}catch(e){console.warn("Failed to load trie from SQLite cache:",e)}return 0},rN=async t=>{console.log("Saving trie to cache...");const e=t.serialize();try{await Be.init(),await Be.saveTrie({data:e,wordCount:t.getAllWords().length,timestamp:Date.now(),formatVersion:Ec}),console.log(`✅ Trie v${Ec} saved to SQLite cache`)}catch(r){console.error("❌ Failed to save trie to SQLite cache:",r)}},nN=(t=!1)=>{const[e]=E.useState(()=>new up(null)),[r,n]=E.useState(!1),[s,o]=E.useState(null),[i,a]=E.useState("loading"),[l,c]=E.useState(null),d=E.useRef(null);return E.useEffect(()=>{if(!t){a("ready");return}return(async()=>{try{const m=new ov,p=await tN(m);if(p>0){console.log(`✅ Loaded cached Trie with ${p} words`),e.upgradeTrie(m),n(!0),a("ready");return}a("building"),await Be.init();const w=await Be.getAllWords();if(w.length===0)throw new Error("No words found in database");console.log(`🔧 Building Trie with ${w.length} words...`),d.current=new Worker("/trie-builder.worker.js"),d.current.onmessage=v=>{var j;const{type:S,progress:x,processed:y,total:_,serializedTrie:k,wordCount:P}=v.data;if(S==="PROGRESS")o({progress:x,processed:y,total:_}),x%25===0&&console.log(`⚙️ Trie building progress: ${x}%`);else if(S==="COMPLETE"){console.log("🎉 Trie construction completed, deserializing...");const T=new ov;T.deserialize(k),(()=>{console.log("🔥 Performing smart Trie upgrade"),e.upgradeTrie(T),n(!0),a("ready"),o(null),rN(T),console.log(`✅ Trie upgrade complete! ${P} words ready`)})(),(j=d.current)==null||j.terminate(),d.current=null}},d.current.onerror=v=>{var S;console.error("❌ Web Worker error:",v),c("Error building Trie"),a("error"),(S=d.current)==null||S.terminate(),d.current=null},d.current.postMessage({type:"BUILD_TRIE",words:w})}catch(m){console.error("❌ Background Trie construction failed:",m),c(m instanceof Error?m.message:"Unknown error"),a("error")}})(),()=>{d.current&&(d.current.terminate(),d.current=null)}},[e,t]),{hybridService:e,isTrieReady:r,trieProgress:s,status:i,error:l}},sN=(t=!1)=>{const{hybridService:e,trieProgress:r,status:n,error:s}=nN(t),o=n==="loading"||n==="building",i=n==="building",a=r?r.progress:n==="ready"?100:0,l=n==="loading"?"initializing":n==="building"?"building":n==="ready"?"complete":"error",c=r?r.total:n==="ready"?639293:0;return{isLoading:o,isTrieBuilding:i,error:s?new Error(s):null,wordCount:c,trie:e,loadingProgress:a,stage:l}},oN=()=>{const[t,e]=E.useState("judge"),[r,n]=E.useState(!1),[s,o]=E.useState(!1),[i,a]=E.useState(!1),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[w,v]=E.useState(!1),[S,x]=E.useState(void 0),[y,_]=E.useState(!1),[k,P]=E.useState({searchTerm:"",targetLength:null}),{isLoading:j,trie:T,loadingProgress:N,stage:R,wordCount:O}=sN(s),$=j,I=()=>j?N:100,U=()=>j&&R?R:"complete";return E.useEffect(()=>{const D=K=>{if((K.ctrlKey||K.metaKey)&&K.shiftKey&&K.key==="E"){K.preventDefault(),n(!r);return}K.ctrlKey&&K.key==="PageDown"&&(K.preventDefault(),e(Q=>{switch(Q){case"judge":return"anagram";case"anagram":return"lists";case"lists":return"judge";default:return Q}})),K.ctrlKey&&K.key==="PageUp"&&(K.preventDefault(),e(Q=>{switch(Q){case"judge":return"lists";case"anagram":return"judge";case"lists":return"anagram";default:return Q}}))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[r]),g.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[g.jsx(FR,{activeModule:t,onModuleChange:e}),g.jsx(zR,{activeModule:t,anagramSettings:{showShorter:i,onShowShorterChange:a,showExtendedView:l,onExtendedViewChange:D=>{c(D),D&&f(!1)},showHooksView:d,onHooksViewChange:D=>{f(D),D&&c(!1)},hasActiveSearch:w,onCopyAll:S,sortByEquity:m,onSortByEquityChange:p,isPatternWithoutRack:y}}),g.jsx("div",{className:"mt-20 flex-1 w-full",children:r?g.jsxs("div",{className:"container mx-auto px-4 py-6",children:[g.jsxs("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-300 rounded-lg",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-semibold text-blue-800",children:"🧪 Sistema de Entrenamiento - Modo Desarrollo"}),g.jsx("button",{onClick:()=>n(!1),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"✕ Cerrar (⌘+Shift+E)"})]}),g.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Sistema dual de entrenamiento para agentes de IA. Usa ⌘+Shift+E para mostrar/ocultar."})]}),g.jsxs("div",{className:"p-8 text-center",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🔧 Sistema de Entrenamiento"}),g.jsx("p",{className:"text-gray-600",children:"Funcionalidad en desarrollo..."})]})]}):g.jsx(g.Fragment,{children:t==="judge"?g.jsx(y2,{isDictionaryLoading:$,progress:I(),trie:T,stage:U(),wordCount:O}):t==="anagram"?g.jsx(dR,{trie:T,showShorter:i,onShowShorterChange:a,showExtendedView:l,onExtendedViewChange:c,showHooksView:d,onHooksViewChange:f,sortByEquity:m,onSortByEquityChange:p,onSearchStateChange:v,onCopyAllCallbackChange:x,onPatternWithoutRackChange:_,persistentSearchTerm:k.searchTerm,persistentTargetLength:k.targetLength,onPersistentSearchChange:P}):g.jsx(WR,{trie:T})})})]})},iN=()=>g.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Política de Privacidad - +Léxico"}),g.jsxs("p",{className:"text-sm text-gray-600",children:[g.jsx("strong",{children:"Última actualización:"})," 24 de junio de 2025"]}),g.jsxs("section",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"1. Información General"}),g.jsx("p",{className:"text-gray-600",children:"+Léxico es una aplicación de búsqueda de palabras para juegos de palabras en español. Esta política describe cómo manejamos la información en nuestra aplicación móvil para iOS."})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"2. Información que NO Recopilamos"}),g.jsx("p",{className:"text-gray-600 mb-3",children:"+Léxico está diseñada para proteger tu privacidad:"}),g.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"No recopilamos información personal"})," (nombres, correos, teléfonos)"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"No requerimos registro"})," ni creación de cuentas"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"No accedemos a contactos"})," ni fotos"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"No utilizamos ubicación"})," geográfica"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"No enviamos datos"})," a servidores externos"]})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"3. Funcionamiento Offline"}),g.jsx("p",{className:"text-gray-600 mb-3",children:"+Léxico funciona completamente offline:"}),g.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[g.jsx("li",{children:"Todas las búsquedas se procesan localmente en tu dispositivo"}),g.jsx("li",{children:"La base de datos de palabras está almacenada en tu dispositivo"}),g.jsx("li",{children:"No se requiere conexión a internet para usar la app"})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"4. Datos Almacenados Localmente"}),g.jsx("p",{className:"text-gray-600 mb-3",children:"La aplicación almacena únicamente en tu dispositivo:"}),g.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[g.jsx("li",{children:"Base de datos de palabras en español para Scrabble"}),g.jsx("li",{children:"Preferencias de personalización (colores de interfaz)"}),g.jsx("li",{children:"Configuraciones de la aplicación"})]}),g.jsx("p",{className:"text-gray-600 mt-3",children:"Estos datos nunca salen de tu dispositivo."})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"5. Analíticas y Publicidad"}),g.jsx("p",{className:"text-gray-600 mb-3",children:"+Léxico NO utiliza:"}),g.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[g.jsx("li",{children:"Servicios de analíticas (Google Analytics, etc.)"}),g.jsx("li",{children:"Redes publicitarias"}),g.jsx("li",{children:"Servicios de tracking"}),g.jsx("li",{children:"Cookies o identificadores únicos"})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"6. Compartir Información"}),g.jsx("p",{className:"text-gray-600",children:"Como no recopilamos información personal, no hay datos que compartir con terceros."})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"7. Seguridad"}),g.jsx("p",{className:"text-gray-600",children:"Al no transmitir ni almacenar información personal en servidores, +Léxico elimina riesgos de filtración de datos personales."})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"8. Derechos del Usuario"}),g.jsx("p",{className:"text-gray-600 mb-3",children:"Puedes:"}),g.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[g.jsx("li",{children:"Usar la app sin proporcionar información personal"}),g.jsx("li",{children:"Eliminar la app y todos sus datos borrando la aplicación"}),g.jsx("li",{children:"Restablecer configuraciones desde la app"})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"9. Cambios a Esta Política"}),g.jsx("p",{className:"text-gray-600",children:"Las actualizaciones a esta política se publicarán en esta página. El uso continuado de la aplicación constituye aceptación de los cambios."})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"10. Contacto"}),g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[g.jsx("p",{className:"text-gray-600 mb-2",children:"Para preguntas sobre esta política de privacidad:"}),g.jsxs("p",{className:"text-gray-600",children:[g.jsx("strong",{children:"Email:"})," privacy@maslexico.app"]}),g.jsxs("p",{className:"text-gray-600",children:[g.jsx("strong",{children:"Sitio web:"})," https://maslexico.app"]})]})]}),g.jsx("div",{className:"border-t pt-6",children:g.jsx("p",{className:"text-gray-500 italic",children:"Esta política refleja nuestro compromiso con la privacidad: +Léxico es una herramienta de palabras que respeta completamente tu privacidad al no recopilar ningún dato personal."})})]})]}),aN=new JP,lN=()=>g.jsx(H.StrictMode,{children:g.jsx(eT,{client:aN,children:g.jsxs(PP,{children:[g.jsx(uk,{}),g.jsx(Uk,{}),g.jsx(UT,{children:g.jsxs(WT,{children:[g.jsx(bf,{path:"/",element:g.jsx(oN,{})}),g.jsx(bf,{path:"/privacy",element:g.jsx(iN,{})})]})})]})})});document.documentElement.lang="es";const cN=R0(document.getElementById("root"));cN.render(g.jsx(H.StrictMode,{children:g.jsx(lN,{})}));export{Be as a,nt as s,Qe as u};
